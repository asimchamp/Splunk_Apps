<view autoCancelInterval="90" decomposeIntentions="false" isPersistable="true" isSticky="true" isVisible="true" objectMode="SimpleDashboard" onunloadCancelJobs="true" refresh="-1" template="dashboard.html" stylesheet="printNotifications.css">
  <label>Notifications</label>
  <module name="AccountBar" layoutPanel="appHeader" />
  <module name="AppBar" layoutPanel="navigationHeader" />
  <module name="Message" layoutPanel="messaging">
    <param name="filter">*</param>
    <param name="clearOnJobDispatch">False</param>
    <param name="maxSize">2</param>
  </module>
  <module name="Message" layoutPanel="messaging">
    <param name="filter">splunk.search.job</param>
    <param name="clearOnJobDispatch">False</param>
    <param name="maxSize">2</param>
  </module>
  <module name="TitleBar" layoutPanel="viewHeader">
    <param name="actionsMenuFilter">dashboard</param>
  </module>
  <module name="HiddenSearch" layoutPanel="panel_row1_col1" autoRun="True">
    <param name="search">| imstatus</param>
    <module name="HiddenFieldPicker">
      <module name="NullModule" />
    </module>
  </module>
  <module name="TimeRangePicker" layoutPanel="panel_row1_col1_grp1">
    <param name="selected">Last 4 hours</param>
    <param name="groupLabel">Time Range and Alert Summary</param>
    <param name="searchWhenChanged">True</param>
    <module name="StaticSelect" layoutPanel="panel_row2_col1" group="Notification Log">
      <param name="label">Select Notification Level -</param>
      <param name="selected">Sourcetype</param>
      <param name="searchWhenChanged">True</param>
      <param name="staticFieldsToDisplay">
        <list>
          <param name="label">All Notifications</param>
          <param name="value">*</param>
        </list>
        <list>
          <param name="label">Down</param>
          <param name="value">Down</param>
        </list>
        <list>
          <param name="label">Critical</param>
          <param name="value">Critical</param>
        </list>
        <list>
          <param name="label">Alarm</param>
          <param name="value">Alarm</param>
        </list>
        <list>
          <param name="label">Warning</param>
          <param name="value">Warning</param>
        </list>
        <list>
          <param name="label">OK</param>
          <param name="value">OK</param>
        </list>
        <list>
          <param name="label">Acknowledged</param>
          <param name="value">ACK</param>
        </list>
      </param>
      <param name="settingToCreate">reportTypeToken_setting</param>
      <module name="ConvertToIntention">
        <param name="groupLabel">Notification Log</param>
        <param name="intention">
          <param name="arg">
            <param name="reportTypeToken">
              <param name="value">$target$</param>
              <param name="fillOnEmpty">True</param>
              <param name="default">Sourcetype</param>
            </param>
          </param>
          <param name="name">stringreplace</param>
        </param>
        <param name="settingToConvert">reportTypeToken_setting</param>
        <module name="HiddenSearch" layoutPanel="panel_row1_col1" group="Time Range and Alert Summary" autoRun="True">
          <param name="groupLabel">Time Range and Alert Summary</param>
          <param name="search">sourcetype=intermapper notification_level=* | stats count(eval(notification_level="Down")) AS Down, count(eval(notification_level="Warning")) AS Warning, count(eval(notification_level="Critical")) AS Critical,count(eval(notification_level="ACK")) AS ACK,count(eval(notification_level="OK")) AS OK,count(eval(notification_level="Alarm")) AS Alarm | eval Total=Down+Warning+Critical+ACK+OK+Alarm</param>
          <module name="JobProgressIndicator" layoutPanel="panel_row1_col1" />
          <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp2" group="Alerts Summary" autoRun="True">
            <param name="groupLabel">Alerts Summary</param>
            <param name="search">| table Down</param>
            <module name="SingleValue">
			  <param name="format">none</param>
              <param name="additionalClass">down</param>
              <param name="afterLabel">Down Alerts</param>
              <param name="linkView">view_alerts</param>
              <param name="linkSearch">sourcetype=intermapper notification_level=Down | replace "" with "No Message - Device Down" in probe_message | rename timestamp AS "Original Event Time", device_host AS Hostname, probe_type AS Probe, probe_message AS Message, notification_level as "Notification Level" | table _time, "Original Event Time", "Notification Level", Hostname, Probe, Message</param>
            </module>
          </module>
          <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp3" group="Alerts Summary" autoRun="True">
            <param name="groupLabel">Alerts Summary</param>
            <param name="search">| table Critical</param>
            <module name="SingleValue">
			  <param name="format">none</param>
              <param name="additionalClass">critical</param>
              <param name="afterLabel">Critical Alerts</param>
              <param name="linkView">view_alerts</param>
              <param name="linkSearch">sourcetype=intermapper notification_level=Critical | replace "" with "No Message - Device Critical" in probe_message | rename timestamp AS "Original Event Time", device_host AS Hostname, probe_type AS Probe, probe_message AS Message, notification_level as "Notification Level" | table _time, "Original Event Time", "Notification Level", Hostname, Probe, Message</param>
            </module>
          </module>
          <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp4" group="Alerts Summary" autoRun="True">
            <param name="groupLabel">Alerts Summary</param>
            <param name="search">| table Alarm</param>
            <module name="SingleValue">
			  <param name="format">none</param>
			  <param name="additionalClass">alarm</param>
              <param name="afterLabel">Alarm Alerts</param>
              <param name="linkView">view_alerts</param>
              <param name="linkSearch">sourcetype=intermapper notification_level=Alarm | replace "" with "No Message - Device Alarming" in probe_message | rename timestamp AS "Original Event Time", device_host AS Hostname, probe_type AS Probe, probe_message AS Message, notification_level as "Notification Level" | table _time, "Original Event Time", "Notification Level", Hostname, Probe, Message</param>
            </module>
          </module>
          <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp5" group="Alerts Summary" autoRun="True">
            <param name="groupLabel">Alerts Summary</param>
            <param name="search">| table Warning</param>
            <module name="SingleValue">
			  <param name="format">none</param>
              <param name="additionalClass">warning</param>
              <param name="afterLabel">Warning Alerts</param>
              <param name="linkView">view_alerts</param>
              <param name="linkSearch">sourcetype=intermapper notification_level=Warning | replace "" with "No Message - Device Warning" in probe_message | rename timestamp AS "Original Event Time", device_host AS Hostname, probe_type AS Probe, probe_message AS Message, notification_level as "Notification Level" | table _time, "Original Event Time", "Notification Level", Hostname, Probe, Message</param>
            </module>
          </module>
          <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp6" group="Alerts Summary" autoRun="True">
            <param name="groupLabel">Alerts Summary</param>
            <param name="search">| table OK</param>
            <module name="SingleValue">
			  <param name="format">none</param>
              <param name="additionalClass">ok</param>
              <param name="afterLabel">OK Alerts</param>
              <param name="linkView">view_alerts</param>
              <param name="linkSearch">sourcetype=intermapper notification_level=OK | replace "" with "Device Status Changed to OK" in probe_message | rename timestamp AS "Original Event Time", device_host AS Hostname, probe_type AS Probe, probe_message AS Message, notification_level as "Notification Level" | table _time, "Original Event Time", "Notification Level", Hostname, Probe, Message</param>
            </module>
          </module>
          <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp7" group="Alerts Summary" autoRun="True">
            <param name="groupLabel">Alerts Summary</param>
            <param name="search">| table ACK</param>
            <module name="SingleValue">
			  <param name="format">none</param>
              <param name="additionalClass">ack</param>
              <param name="afterLabel">ACK Alerts</param>
              <param name="linkView">view_alerts</param>
              <param name="linkSearch">sourcetype=intermapper notification_level=ACK | replace "" with "No Message - Device Acknowledged" in probe_message | rename timestamp AS "Original Event Time", device_host AS Hostname, probe_type AS Probe, probe_message AS Message, notification_level as "Notification Level" | table _time, "Original Event Time", "Notification Level", Hostname, Probe, Message</param>
            </module>
          </module>
        </module>
        <module name="HiddenSearch" autoRun="True">
          <param name="groupLabel">Notification Log</param>
          <param name="search">sourcetype=intermapper probe_type=* notification_level=$reportTypeToken$ | table timestamp, device_host, notification_level, probe_type, probe_message | rename timestamp AS "Time of Event", device_host AS "Device Host", notification_level AS "Notification Level", probe_type AS "Probe Name", probe_message AS "Message"</param>
          <module name="ViewstateAdapter">
            <module name="Count" layoutPanel="panel_row2_col1">
              <param name="options">
                <list>
                  <param name="text">10</param>
                  <param name="value">10</param>
                </list>
                <list>
                  <param name="text">20</param>
                  <param name="value">20</param>
                </list>
                <list>
                  <param name="selected">True</param>
                  <param name="text">50</param>
                  <param name="value">50</param>
                </list>
              </param>
              <module name="Paginator" layoutPanel="panel_row2_col1">
                <param name="maxPages">15</param>
                <param name="entityName">results</param>
                <param name="count">15</param>
                <module name="HiddenFieldPicker">
                  <param name="strictMode">True</param>
                  <module name="JobProgressIndicator">
                    <module name="EnablePreview">
                      <param name="display">False</param>
                      <param name="enable">True</param>
                      <module name="SimpleResultsTable">
                        <param name="allowTransformedFieldSelect">False</param>
                        <param name="drilldown">all</param>
                        <module name="ConvertToDrilldownSearch">
                          <module name="ViewRedirector">
                            <param name="viewTarget">flashtimeline</param>
                          </module>
                        </module>
                      </module>
                      <module name="ViewRedirectorLink">
                        <param name="viewTarget">flashtimeline</param>
                      </module>
                    </module>
                  </module>
                </module>
              </module>
            </module>
          </module>
        </module>
      </module>
    </module>
  </module>
</view>
