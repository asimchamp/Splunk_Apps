<dashboard stylesheet="help.css">
	<label>Getting Started</label>
	
	<row>
		<html>
<h1>Welcome to the Splunk for SecurEnvoy App</h1>

<h2>Introduction</h2>
<p>
  This application for Splunk Enterprise 6 is for SecurEnvoy.  This Splunk App has been tested with a single SecurEnvoy instance v7.2 sending syslog data to a Splunk Heavy Forwarder with a central syslog server on it.  The <u>Splunk_TA_SecurEnvoy</u> needs to be installed upon either the Heavy Forwarder or your Indexer (depending where you parse the data).
</p>

<h2>Installation</h2>

<h3>Indexes</h3>
<p>
This app is index agnostic - it has been created to search based upon a specific sourcetype.
</p>

<h3>sourcetype</h3>
<p>
  All data that you would like this Splunk App to interrogate must have a source type of <code>2fa:securenvoy</code>.  Once the data has been indexed with that sourcetype then the application should start working.
</p>


<h3>Data Collection</h3>
<p>
As mentioned previously this Splunk App has been configured to collect data from a file monitor input on a Heavy Forwarder running a syslog server (however this is no reason you cannot run a syslog server on your Indexer or where-ever you feel like).  An example file input monitor is as below: -
</p>
<p>
  <ol>
    <ul>
[monitor:///var/log/additional/communications/two-factor/.../*.log]
    </ul>
<ul>
  disabled = false
    </ul>
<ul>
followTail = 0
    </ul>
<ul>
host_segment = 6
    </ul>
<ul>
index = 2fa
    </ul>
<ul>
sourcetype = 2fa:securenvoy
    </ul>
  </ol>
</p>
<p>
  On the Heavy Forwarder or Indexer where the syslog server resides, please install the <u>Splunk_TA_SecurEnvoy</u> in <i>$SPLUNK_HOME/etc/apps</i> in order to process the data correctly.
</p>
<p>
In SecurEnvoy v7.2 logging to syslog can be enabled via the SecurEnvoy Local Administration utility => Config => Logging
</p>
          
<h3>Splunk_TA_SecurEnvoy</h3>
<p>
  The Splunk_TA_SecurEnvoy needs to be installed upon the Heavy Forwarder or Indexer where the data from SecurEnvoy is parsed as for some reason SecurEnvoy sends 2 timestamps.  
  The Splunk_TA_SecurEnvoy is located under <i>$SPLUNK_HOME/etc/apps/Splunk_SecurEnvoy/appserver/addons</i>
          </p>
          
          <h3><i>User Activity Form</i> and the Domain lookup table</h3>
          In order for the User Activity search to work it is necessary to update a lookup table with all of your local domains that SecurEnvoy is integrated is (considering SecurEnvoy can connect to multiple domains I figured this was the easiest way to integrate the functionality).  On the search head where the main SecurEnvoy for Splunk app is installed, simply add the domains to the <i>$SPLUNK_HOME/etc/apps/Splunk_SecurEnvoy/lookups/domains.csv</i> - be sure to keep it at 1 domain per line and ensure to keep the "Domain" header, for example: -
<code>
          <ol>
<ul>Domain</ul>
<ul>test1.example.com</ul>
<ul>test2.example.com</ul>
<ul>test3.example.com</ul>
          </ol>
          </code>
  <p> </p>

          <h2>Alerting</h2>
      <p>    An example alert has been created and is included in the Splunk for SecurEnvoy App that will send an alert when a user is automatically disabled due to too many authentication failures.  To use this alert it is necessary to first configure the SMTP server settings in Splunk under Settings => System settings => Email settings.</p>
          <p>Once email has been configured the alert will need to be enabled within the Splunk for SecurEnvoy App.</p>

<hr />
</html>
	</row>
</dashboard>