
[Activity by user]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1mon@d
cron_schedule = * * * * *
dispatch.earliest_time = 0
display.general.type = visualizations
display.visualizations.charting.chart.stackMode = stacked
request.ui_dispatch_app = whosthere
request.ui_dispatch_view = search
search = index=_internal sourcetype=splunk_web_access user!="-" (uri_path="*/app/*" OR uri_path="*/manager/*" OR uri_path="*/debug/*") | eval usr = toString(user) + "-" + toString(clientip) | timechart count by usr

[currently_logged_users]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = * * * * *
dispatch.earliest_time = 0
display.general.type = statistics
display.visualizations.show = 0
request.ui_dispatch_app = whosthere
request.ui_dispatch_view = search
search = index=_internal (action=login OR action=logout) sourcetype="splunk_web_service" | stats latest(action) AS lastAction by user,clientip,session | where lastAction="login" | JOIN type=inner session [| rest /services/authentication/httpauth-tokens | search (NOT userName="splunk-system-user") searchId="" | rename authString as session] | fields user, clientip, timeAccessed


[current_users_alert]
action.script = 1
action.script.filename = runtest.py
alert.digest_mode = True
alert.expires = 6h
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = * * * * *
dispatch.earliest_time = -1m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = less than
request.ui_dispatch_app = whosthere
request.ui_dispatch_view = search
search = index=_internal (action=login OR action=logout) sourcetype="splunk_web_service" | stats latest(action) AS lastAction by user,clientip,session | where lastAction="login" | JOIN type=inner session [| rest /services/authentication/httpauth-tokens | search (NOT userName="splunk-system-user") searchId="" | rename authString as session] | convert timeformat="%a %b %d %T %Y" auto(timeAccessed) AS epochTimeAccessed | fields user, clientip, epochTimeAccessed
