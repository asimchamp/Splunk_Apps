<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
      <title>MongoDB App</title>
        <meta name="generator" content="MediaWiki 1.17.0" />
        <link rel="alternate" type="application/x-wiki" title="Edit" href="/index.php?title=MongoDBApp&amp;action=edit" />
        <link rel="edit" title="Edit" href="/index.php?title=MongoDBApp&amp;action=edit" />
        <link rel="shortcut icon" href="" />
        <link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ESWiki (en)" />
        <link rel="EditURI" type="application/rsd+xml" href="http://eswiki.splunk.com/api.php?action=rsd" />
        <link rel="alternate" type="application/atom+xml" title="ESWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
        <link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
        <link rel="stylesheet" href="/extensions/HeaderTabs/skins-jquery/ext.headertabs.jquery-large.css" /><meta name="ResourceLoaderDynamicStyles" content="" /><link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
        <link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
        <link rel="stylesheet" href="/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />

<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]-->
  </head>

  <body class="mediawiki ltr ns-0 ns-subject page-MongoDBApp skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">MongoDB App</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<table id="toc" class="toc">

          <tr>
            <td>
              <div id="toctitle"><h2>Contents</h2></div>
              <ul>
                <li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
                  
                </li>
                <li class="toclevel-1 tocsection-2"><a href="#MongoDB_Provider"><span class="tocnumber">2</span> <span class="toctext">
                      Specifying MongoDB Provider</span></a>
                      <ul>
                        <li class="toclevel-2 tocsection-3"><a href="#MongoDB_Host"><span class="tocnumber">2.1</span><span class="toctext"> MongoDB Host Details</span></a>
                        </li>
                      </ul>
                </li>
                <li class="toclevel-1 tocsection-4"><a href="#Virtual Indexes"><span class="tocnumber">3</span> <span class="toctext">Specifying Virtual Indexes</span></a>
                  <ul>
                        <li class="toclevel-2 tocsection-4"><a href="#Virtual_Index_Config"><span class="tocnumber">3.1</span><span class="toctext"> Understanding Virtual Index configuration </span></a>
                        </li>
                        <li class="toclevel-2 tocsection-5"><a href="#Multiple_Virtual_Index"><span class="tocnumber">3.2</span><span class="toctext">  Multiple Virtual Indexes </span></a>
                        </li>
                        <li class="toclevel-2 tocsection-6"><a href="#Timestamp field"><span class="tocnumber">3.3</span><span class="toctext"> Specifying Timestamp field </span></a>
                        </li>
                        <li class="toclevel-2 tocsection-6"><a href="#Timestamp field"><span class="tocnumber">3.4</span><span class="toctext"> Authenticating user on MongoDB database </span></a>
                        </li>
                  </ul>
                </li>
               
                  <li class="toclevel-1 tocsection-7"><a href="#DateFormat"><span class="tocnumber">4</span> <span class="toctext">Writing Date Format</span></a>
                 
                </ul>
              </ul>

            </td>
          </tr>
        </table>

        <h1><span class="mw-headline" id="Overview"> Overview </span></h1>
        <p>MongoDB is a popular document-oriented database with dynamic schema and provides efficient way to store and retrieve documents with minimum latency. Using Hunk you can tap into the insights hidden into your data and use it to get better understanding of huge amount of data stored in your MongoDB database. Hunk enables you to explore, analyze and visualize the data and get better usable insights. Using MongoDB App, Hunk users can take advantage of Splunk`s interactive query and analytic dashboard using Hunk platform.<p> 
MongoDB App enables you to create multiple virtual indexes to analyze and explore data stored in different databases and collections with minimal configurations. It allows you to specify a timestamp field from which the timestamp information needs to be extracted, which can be used to create timecharts and rich dashboards for gaining useful insights. The feature for wildcard search for string and numerical data comes handy when you only have partial information regarding the documents to be retrieved.  </p>
<p>
Thus, using MongoDB App, you can make use of the best of both worlds i.e MongoDB for storage of huge amount of documents with dynamic and schema; and Splunk for exploring, analyzing and visualization of stored data with rich interactive query and analytic dashboard.
</p>
                  <p>
          Rest of the document provides steps to configure your Hunk instance with MongoDB as External Resource Provider. The following sections provide information on configuring MongoDB Provider and settings for Virtual Indexes to analyse the data stored in different collections and databases of MongoDB. It also provides information on settings required for using time range search.
        <h1><span class="mw-headline" id="MongoDB_Provider"> Specifying MongoDB Provider </span></h1>
          <p> Once you have uploaded the app using 'Manage App' menu, a new app named 'MongoDB App' will be added in your list of installed apps. You need to specify the required MongoDB host details using 'Edit Provider' feature available under Virtual Indexes which can be found in Settings tab. </p>
          <ul>
          <li> <h3><span class="mw-headline" id="MongoDB_Host"> MongoDB Host details </span></h3> 
            <p> MongoDB host details can be provided using 'vix.mongodb.host' property. Please note that this property can also be set in 'indexes.conf'. <pre><b> eg. vix.mongodb.host = localhost:27017 </b></pre> 
            </p>
          </li>
          </ul>     

        <h1><span class="mw-headline" id="Virtual_Indexes"> Specifying Virtual Indexes </span></h1>
        <p> When you install the 'MongoDB App', you can see a virtual index, named 'mongodb_vix' (spcific to MongoDB) created under Virtual Indexes list. The virtual index helps you to specify the details about the collection and databse name from which you want to analyse the data. 
          <ul>
            <li> <h3> <span class="mw-headline" id="Virtual_Index_Config"> Understanding Virtual Index configuration </span> </h3>
              <table>
                <tr>
                  <th> Attribute </th>
                  <th> Explaination </th>
                </tr>
                <tr>
                  <td> <pre> &nbsp; vix.mongodb.collection &nbsp; </pre> </td>
                  <td> &nbsp; Name of the collection from which to analyse the data </td>
                </tr>
                <tr>
                  <td> <pre> &nbsp; vix.mongodb.db &nbsp;</pre></td>
                  <td> &nbsp;  Name of MongoDB database </td>
                </tr>
                <tr>
                  <td><pre> &nbsp; vix.mongodb.field.time &nbsp; </pre></td>
                  <td> &nbsp; Field from which the timestamp information needs to be extracted </td>
                </tr>
                <tr>
                  <td><pre> &nbsp; vix.mongodb.field.time.format &nbsp; </pre></td>
                  <td> 
                    <p>Format in which the timestamp information is stored for above stated field i.e. 'vix.mongodb.field.time'. It can have 4 different values <i>['objectid','date','epoch', @Date format (eg. 'yyyy-MM-dd')].</i> The @Date Format can be any valid date format. The literals for speciying date format is similar as for SimpleDateFormat of java. Please refer <a href="#DateFormat">here</a> for understanding how to write valid date format.
                    </p>
                  </td>
                </tr>
              </table>
            </li>
           <li>
             <h3> <span class="mw-headline" id="Multiple_Virtual_Index"> Multiple Virtual Indexes</span></h3>
              <p>You can specify muliple vitrual indexes for different collections and databases using 'New Virtual Index' functionality. It is necessary to specify all above configurations for properly setting up new virtual indexes.
              </p>
           </li>
           <li>
            <h3><span class="mw-headline" id="Timestamp field">Specifying timestamp field</span></h3>
            <p>It is crucial that you correctly specify <i><b>'vix.mongodb.field.time'</b></i> and <i><b>'vix.mongodb.field.time.format'</b></i> configurations for extraction of timestamp information.
              <br>
              <table border=0.5>
                <tr>
                  <th width = "20%"> &nbsp; Format &nbsp; </th> 
                  <th> &nbsp; Explaination &nbsp; </th>  
                </tr>
                <tr>
                  <td> &nbsp; <i><b> objectid </b></i> &nbsp; </td>
                  <td> Used when value for <i><b>'vix.mongodb.field.time'</i> field is '_id'</b></td>
                </tr>  
                <tr>
                  <td> &nbsp; <i><b> date </b></i> &nbsp; </td>
                  <td> Used to specify that the field from which timestamp information needs to be extracted is of type ISODate.</td>
                </tr>
                <tr>
                  <td> &nbsp; <i><b> epoch </b></i> &nbsp; </td>
                  <td> Used to specify that the field stores the timestamp information in unix epoch format. </td>
                </tr>
                <tr>
                  <td> &nbsp; <i><b> @Date Format </b></i> &nbsp; </td>
                  <td> <p>If the field in which timestamp information is stored, is of type String than you can specify the date format using this configuration. Suppose you need to extract the timestamp information from field 'created_at' which has the information stored as String <i>say '2013-03-13'</i>, than you need to specify <i><b>'vix.mongodb.field.time.format'</b></i> as 'yyyy-MM-dd'. Please refer <a href="#DateFormat">here</a> to understand how to write the Date format. </td>
                </tr>    
              </table>
            <p>
           </li>
           <li>
             <h3> <span class="mw-headline" id="Multiple_Virtual_Index"> Authenticating user on MongoDB database</span></h3>
              <p> MongoDB allows to specify 4 types of authentication mechanism, namely Plain, Kerberos, CR(Challenge-Response) and X509; for verfying user and database access. In order to access databases which need authentication, we need to specify certain authentication fields like authentication mechanism, username, password or source. This information needs to be provided for each virtual index. Below you can find information about what all fields should be specified for each type of authentication mechanism.</p>
                <br> <u>#Authentication mechanism is <b>X509</b></u>
                <br> <i>vix.mongodb.auth.mechanism</i> = X509
                <br> <i>vix.mongodb.auth.username</i> = <i>[username]</i>
                <br><br> <u>#Authentication mechanism is  <b>Kerberos</b></u>
                <br> <i>vix.mongodb.auth.mechanism</i> = Kerberos
                <br> <i>vix.mongodb.auth.username</i> = <i>[username]</i>
                <br> <br> <u> #Authentication mechanism is  <b>CR</b></u>
                <br> <i> vix.mongodb.auth.mechanism</i> = CR
                <br> <i> vix.mongodb.auth.username</i> = <i>[username]</i> 
                <br> <i> vix.mongodb.auth.password</i> = <i>[password as plain text]</i>
                <br> <br> <u>#Authentication mechanism is  <b>Plain</b> </u>
                <br> <i>vix.mongodb.auth.mechanism</i> = Plain
                <br> <i>vix.mongodb.auth.username</i> = <i>[username]</i>
                <br> <i>vix.mongodb.auth.source</i> = <i>[source]</i>  
              <p>The value for 'vix.mongodb.auth.mechanism' is case-insensitive. </p>   
           </li>
         </ul>
        </p>
      <h1><span class="mw-headline" id="DateFormat"> Writing Date Format </span></h1> 
      <table border=0 cellspacing=3 cellpadding=0>
      <tr bgcolor="#ccccff">
         <th align=left>Letter
         <th align=left>Date or Time Component
         <th align=left>Examples
      <tr>
         <td><code>G</code>
         <td>Era designator
         <td><code>AD</code>
      <tr bgcolor="#eeeeff">
         <td><code>y</code>
         <td>Year
         <td><code>1996</code>; <code>96</code>
     <tr>
         <td><code>Y</code>
         <td>Week year
         <td><code>2009</code>; <code>09</code>
     <tr bgcolor="#eeeeff">
         <td><code>M</code>
         <td>Month in year
         <td><code>July</code>; <code>Jul</code>; <code>07</code>
     <tr>
         <td><code>w</code>
         <td>Week in year
         <td><code>27</code>
     <tr bgcolor="#eeeeff">
         <td><code>W</code>
         <td>Week in month
         <td><code>2</code>
     <tr>
         <td><code>D</code>
         <td>Day in year
         <td><code>189</code>
     <tr bgcolor="#eeeeff">
         <td><code>d</code>
         <td>Day in month
         <td><code>10</code>
     <tr>
         <td><code>F</code>
         <td>Day of week in month
         <td><code>2</code>
     <tr bgcolor="#eeeeff">
         <td><code>E</code>
         <td>Day name in week
         <td><code>Tuesday</code>; <code>Tue</code>
     <tr>
         <td><code>u</code>
         <td>Day number of week (1 = Monday, ..., 7 = Sunday)
         <td><code>1</code>
     <tr bgcolor="#eeeeff">
         <td><code>a</code>
         <td>Am/pm marker
         <td><code>PM</code>
     <tr>
         <td><code>H</code>
         <td>Hour in day (0-23)
         <td><code>0</code>
     <tr bgcolor="#eeeeff">
         <td><code>k</code>
         <td>Hour in day (1-24)
         <td><code>24</code>
     <tr>
         <td><code>K</code>
         <td>Hour in am/pm (0-11)
         <td><code>0</code>
     <tr bgcolor="#eeeeff">
         <td><code>h</code>
         <td>Hour in am/pm (1-12)
         <td><code>12</code>
     <tr>
         <td><code>m</code>
         <td>Minute in hour
         <td><code>30</code>
     <tr bgcolor="#eeeeff">
         <td><code>s</code>
         <td>Second in minute
         <td><code>55</code>
     <tr>
         <td><code>S</code>
         <td>Millisecond
         <td><code>978</code>
     <tr bgcolor="#eeeeff">
         <td><code>z</code>
         <td>Time zone
         <td><code>Pacific Standard Time</code>; <code>PST</code>; <code>GMT-08:00</code>
     <tr>
         <td><code>Z</code>
         <td>Time zone
         <td><code>-0800</code>
     <tr bgcolor="#eeeeff">
         <td><code>X</code>
         <td>Time zone
         <td><code>-08</code>; <code>-0800</code>;  <code>-08:00</code>
 </table> 
 <i> (Source : http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) </i>

    </div>
  </body>
</html>
