define(["underscore","backbone","splunkjs/mvc","jquery","splunkjs/mvc/simplesplunkview","util/splunkd_utils","splunkjs/mvc/utils"],function(c,g,f,e,b,d,a){return b.extend({className:"ValidationView",defaults:{validators:[]},initialize:function(){this.options=c.extend({},this.defaults,this.options)},addValidator:function(h,i,j,k){if(this.validators==undefined){this.validators=[]}this.validators.push({selector:h,value_extractor_fx:i,validation_fx:j,message:k})},doValidation:function(h,k,i,j){if(!i(k)){e(h,this.$el).addClass("error");e(h+" .help-inline",this.$el).text(j);return 1}else{this.clearValidationState(h);return 0}},clearValidationState:function(h){e(h,this.$el).removeClass("error");e(h+" .help-inline",this.$el).text("")},clearAllValidators:function(){for(var h in this.validators){this.clearValidationState(h)}},validate:function(){var h=0;for(var j=0;j<this.validators.length;j++){var i=this.validators[j];h+=this.doValidation(i.selector,i.value_extractor_fx(),i.validation_fx,i.message)}if(h>0){return false}else{return true}},hide:function(h){h.css("display","none");h.addClass("hide")},unhide:function(h){h.removeClass("hide");h.removeAttr("style")},hideMessages:function(){this.hideWarningMessage();this.hideInfoMessage()},hideWarningMessage:function(){this.hide(e("#warning-message",this.$el))},hideInfoMessage:function(){this.hide(e("#info-message",this.$el))},showWarningMessage:function(h){this.renderMessageDivs();e("#warning-message .message",this.$el).text(h);this.unhide(e("#warning-message",this.$el))},showInfoMessage:function(h){this.renderMessageDivs();e("#info-message .message",this.$el).text(h);this.unhide(e("#info-message",this.$el))},renderMessageDivs:function(){var h='<div style="display:none" id="warning-message"><div class="alert alert-error"><i class="icon-alert"></i><span class="message"></span></div></div><div style="display:none" id="info-message"><div class="alert alert-info"><i class="icon-alert"></i><span class="message"></span></div></div>';if(e("#warning-message",this.$el).length===0){e(this.$el).prepend(h)}}})});