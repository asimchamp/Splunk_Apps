<view autoCancelInterval="90" isVisible="true" objectMode="SimpleDashboard" onunloadCancelJobs="true" refresh="-1" template="dashboard.html">
  <label>Current Status HTML</label>
  <description/>
  <module name="AccountBar" layoutPanel="appHeader"/>
  <module name="AppBar" layoutPanel="navigationHeader"/>
  <module name="Message" layoutPanel="messaging">
    <param name="clearOnJobDispatch">False</param>
    <param name="filter">*</param>
    <param name="maxSize">1</param>
  </module>
  <module name="DashboardTitleBar" layoutPanel="viewHeader"/>
  <module name="Message" layoutPanel="navigationHeader">
    <param name="level">warn</param>
    <param name="clearOnJobDispatch">True</param>
    <param name="filter">splunk.search.job</param>
    <param name="maxSize">1</param>
  </module>
  <module name="StaticContentSample" layoutPanel="panel_row2_col1">
    <param name="text">&lt;table style="width:75%"&gt;&lt;tr&gt;&lt;td&gt;&lt;img src="/static/app/Roost/home_night.png" alt="Home"&gt;&lt;/td&gt;&lt;td&gt;&lt;blockquote&gt;Hello, and welcome to  &lt;b&gt;Roost&lt;/b&gt;, the Splunk Add-On for the Nest Learning Thermostat. Please make sure that you have configured a Modular Input and have set the "Interval" (under more settings) option to  &lt;i&gt;60&lt;/i&gt;.&lt;/blockquote&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</param>
    <module name="Gimp"/>
  </module>
  <module name="HiddenSearch" layoutPanel="panel_row1_col1" autoRun="True">
    <param name="search">`current_state`</param>
    <param name="earliest">-15m@m</param>
    <param name="latest">now</param>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp1" group="Outside Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">Outside Temp</param>
      </module>
      <param name="search">rangemap field=out_temp cold=0-60 warm=61-80 hot=81-150| fields out_temp range</param>
      <param name="groupLabel">Outside Temperature</param>
      <module name="SingleValue">
        <param name="field">out_temp</param>
        <param name="classField">range</param>
      </module>
    </module>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp2" group="Inside Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">Inside Temp</param>
      </module>
      <param name="search">rangemap field=out_temp cold=0-60 warm=61-80 hot=81-150| fields in_temp range</param>
      <param name="groupLabel">Inside Temperature</param>
      <module name="SingleValue">
        <param name="field">in_temp</param>
        <param name="classField">range</param>
      </module>
    </module>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp3" group="Target Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">Target Temp</param>
      </module>
      <param name="search">rangemap field=out_temp cold=0-60 warm=61-80 hot=81-150| fields target_temp range</param>
      <param name="groupLabel">Target Temperature</param>
      <module name="SingleValue">
        <param name="field">target_temp</param>
        <param name="classField">range</param>
      </module>
    </module>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp4" group="Target Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">Inside Humidity</param>
      </module>
      <param name="search">rangemap field=in_rh low=0-50 elevated=51-75 severe=76-100| fields in_rh range</param>
      <param name="groupLabel">Inside Relative Humidity</param>
      <module name="SingleValue">
        <param name="field">in_rh</param>
        <param name="classField">range</param>
      </module>
    </module>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp5" group="Target Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">Outside Humidity</param>
      </module>
      <param name="search">rangemap field=out_rh low=0-50 elevated=51-75 severe=76-100| fields out_rh range</param>
      <param name="groupLabel">Target Temperature</param>
      <module name="SingleValue">
        <param name="field">out_rh</param>
        <param name="classField">range</param>
      </module>
    </module>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp6" group="Target Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">System State</param>
      </module>
      <param name="search">fields system_state</param>
      <param name="groupLabel">Target Temperature</param>
      <module name="SingleValue">
        <param name="field">system_state</param>
        <param name="classField">range</param>
      </module>
    </module>
    <module name="HiddenPostProcess" layoutPanel="panel_row1_col1_grp7" group="Target Temperature" autoRun="True">
      <module name="GenericHeader">
        <param name="label">Energy Friendly?</param>
      </module>
      <param name="search">eval rm = case(leaf_state=="Yes",1,1=1,2)|rangemap field=rm green=1-1 default=red| eval leaf_state = if(rm==1,"Yes","No")| fields leaf_state range</param>
      <param name="groupLabel">Target Temperature</param>
      <module name="SingleValue">
        <param name="field">leaf_state</param>
        <param name="classField">range</param>
      </module>
    </module>
  </module>
  <module name="HiddenSearch" layoutPanel="panel_row2_col2_grp1" group="" autoRun="True">
    <module name="GenericHeader">
      <param name="label">Devices</param>
    </module>
    <param name="search">|inputlookup nest_devices | fields name serial_number local_ip mac_address | rename local_ip as IP | rename mac_address as MAC | rename serial_number as Serial | rename name as Name</param>
    <param name="earliest">-1m</param>
    <param name="latest">now</param>
    <module name="SimpleResultsTable"/>
  </module>
  <module name="HiddenSearch" layoutPanel="panel_row2_col2_grp2" group="" autoRun="True">
    <module name="GenericHeader">
      <param name="label">Structures</param>
    </module>
    <param name="latest">now</param>
    <param name="search">|inputlookup nest_structure | fields name num_thermostats renovation_date structure_area house_type | eval area = structure_area * 10.7639 | rename name as Name |rename renovation_date as "Last Renovated"| rename num_thermostats as "Thermostats" | rename area as "Area (ft^2)"| rename house_type as "House Type" | fields - structure_area</param>
    <param name="earliest">-1m</param>
    <module name="SimpleResultsTable"/>
  </module>
</view>