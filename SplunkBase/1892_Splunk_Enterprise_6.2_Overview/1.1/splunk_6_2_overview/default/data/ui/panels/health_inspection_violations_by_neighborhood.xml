<panel>
  <title>Health Inspection Violations by Neighborhood</title>
  <search id="violations_by_neighborhood">
    <query>index=&quot;sf_food_health&quot; sourcetype=sf_food_violations risk_category=&quot;*&quot; neighborhood=&quot;*&quot;  
| stats count(eval(risk_category=&quot;High Risk&quot;)) as &quot;High Risk&quot; count(eval(risk_category=&quot;Moderate Risk&quot;)) as &quot;Moderate Risk&quot; count(eval(risk_category=&quot;Low Risk&quot;)) as &quot;Low Risk&quot; count as &quot;Total Violations&quot; by neighborhood</query>
    <earliest>0</earliest>
    <latest/>
  </search>
  <single>
    <search base="violations_by_neighborhood">
      <query>stats sum(High Risk)</query>
    </search>
    <option name="beforeLabel">High Risk Violations:</option>
    <option name="refresh.time.visible">false</option>
  </single>
  <single>
    <search base="violations_by_neighborhood">
      <query>stats sum(Moderate Risk)</query>
    </search>
    <option name="beforeLabel">Moderate Risk Violations:</option>
    <option name="refresh.time.visible">false</option>
  </single>
  <single>
    <search base="violations_by_neighborhood">
      <query>stats sum(Low Risk)</query>
    </search>
    <option name="beforeLabel">Low Risk Violations:</option>
    <option name="refresh.time.visible">false</option>
  </single>
  <chart>
    <title>Health Inspection Violations by Neighborhood</title>
    <search base="violations_by_neighborhood">
      <query>sort -&quot;Total Violations&quot; limit=10 
| fields - &quot;Total Violations&quot;</query>
    </search>
    <option name="charting.chart">bar</option>
    <option name="charting.chart.stackMode">stacked</option>
    <option name="charting.fieldColors">{&quot;High Risk&quot;:0xD85E3D, &quot;Moderate Risk&quot;:0xFAC61D,&quot;Low Risk&quot;:0x6BB7C8}</option>
  </chart>
</panel>