<div id="editOutputModal" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
        <h3 id="myModalLabel"><span class="modal_new_state">New</span><span class="modal_edit_state">Edit</span> Output Group</h3>
    </div>
    <div class="modal-body">
        
        <div class="warning-message-container">
            <div id="warning-message" class="hide alert alert-error">
              <i class="icon-alert"></i><span id="warning-message-text"></span>
            </div>
        </div>
        
        <form class="form-horizontal">
            <div class="control-group name-input-group">
                <label class="control-label" >Name</label>
		        <div class="controls">
		          <input type="text" id="name_input" placeholder="Cannot contain / or spaces" value="" />
		          <input type="hidden" id="name_input_hidden" />
		          <input type="hidden" id="app_input" />
		          <input type="hidden" id="owner_input" />
		        </div>
		    </div>
        </form>
        
        <form class="form-horizontal">
            <div class="control-group host-input-group">
                <label class="control-label">Hosts</label>
                <div class="controls">
                  <input type="text" name="hosts_input" id="hosts_input" placeholder='e.g. "1.2.3.4:514"' />
                  <span class="help-block">Comma-separated list of hosts to which you want to send data via TCP.</span>
                </div>
            </div>
        </form>

        <p class="control-heading"><strong><%- _("Certificate Configuration").t() %></strong></p>

        <form class="form-horizontal">
            <div class="upload_cert_container"></div>
        </form>

        <form class="form-horizontal">
            <div class="control-group cert-password-input-group">
                <label class="control-label"><%- _("Certificate Password").t() %></label>
		        <div class="controls">
		          <input type="password" id="cert_password_input" value="" />
		        </div>
		    </div>
        </form>

        <form class="form-horizontal">
            <div class="control-group ssl-name-input-group">
                <label class="control-label" ><%- _("SSL Common Name To Check").t() %></label>
		        <div class="controls">
		          <input type="text" id="ssl_cn" value="" />
		        </div>
		    </div>
        </form>

        <form class="form-horizontal">
            <div class="control-group ssl-alt-name-input-group">
                <label class="control-label"><%- _("Alternative SSL Common Name To Check").t() %></label>
		        <div class="controls">
		          <input type="text" id="ssl_alt" value="" />
		        </div>
		    </div>
        </form>


        <form class="form-horizontal">
            <div class="control-group deploy-type-input-group">
                <label class="control-label"><%- _("Deploying via Indexer Cluster Master").t() %></label>
                <div class="controls">
                    <input type="checkbox" id="deploy_type_input" />
                    <span class="help-block"><%- _("If set to true, the CEF add-on will be created with the certificates in a path relative to the slave-apps directory so that it can be deployed from an Indexer Cluster Master").t() %></span>
                </div>
            </div>
        </form>

    </div>
    
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        <button class="btn btn-primary" id="save_new" aria-hidden="true">Save</button>
    </div>
    
</div>

<% if( outputs === null || outputs.length === 0 ) { %>
<div class="no_outputs">No outputs exist yet.</div>
<a class="btn btn-primary new_output_group" href="#">Create output group</a>
<% } else { %>

<div class="extra_options">
	<a class="btn btn-primary new_output_group" href="#">Create output group</a>
	<a class="btn delete_output_group" href="#">Delete</a>
</div>

<table id="outputs_list_table" class="table table-striped table-hover table-chrome">

    <thead>
        <tr>
        	<th><input type="checkbox" id="checkall"></input></th>
            <th>Select</th>
            <th>Name</th>
            <th>Host</th>
            <th>Other Searches Using this Output Group</th>
        </tr>
    </thead>
    
    <tbody>
        <% for (var i = 0; i < outputs.length; i++) { %>
            <tr>
            	<td><input <% if(getWhereUsed(outputs[i].attributes._key).length > 0) { %>disabled <% } %>type="checkbox" data-outputgroup="<%- outputs[i].attributes._key %>" class="output-group-checkbox" /></td>
                <td><input class="output_group_assignment" name="assigned_output_group" type="radio" data-output-index="<%- i %>" <% if(selected_output === outputs[i].attributes._key) { %>checked<% } %>/></td>
                <td><a class="output_entry_edit_href" data-output-index="<%- i %>" href="#"><%- outputs[i].attributes._key %></a></td>
                <td><%- outputs[i].attributes.server %></td>
                <td><%- getWhereUsed(outputs[i].attributes._key).join(", ") %></td>
            </tr>
        <% } %>
    </tbody>
</table>

<% } %>
