<panel>
  <title>Explore the data accessible by this Splunk instance</title>
  <input type="time" token="data_explore_time" searchWhenChanged="true">
    <label></label>
    <default>
      <earliest>0</earliest>
      <latest></latest>
    </default>
  </input>
  <input type="radio" token="reset_host" searchWhenChanged="true">
    <label>Reset and show all:</label>
    <choice value="host">Hosts</choice>
    <change>
      <condition value="host">
        <unset token="host"></unset>
        <unset token="form.host"></unset>
        <unset token="source"></unset>
        <unset token="form.source"></unset>
        <unset token="reset_source"></unset>
        <unset token="form.reset_source"></unset>
      </condition>
    </change>
  </input>
  <input type="radio" token="reset_source" searchWhenChanged="true">
    <label></label>
    <choice value="source">Sources</choice>
    <change>
      <condition value="source">
        <unset token="host"></unset>
        <unset token="form.host"></unset>
        <unset token="source"></unset>
        <unset token="form.source"></unset>
        <unset token="reset_host"></unset>
        <unset token="form.reset_host"></unset>
      </condition>
    </change>
  </input>
  <html>
    <p>Learn about <a class="external text" target="_blank" href="http://docs.splunk.com/Splexicon:Sourcetype">sourcetypes</a> and <a class="external text" target="_blank" href="http://docs.splunk.com/Splexicon:Index">indexes</a>!</p>
  </html>
  <table depends="$reset_host$" rejects="$reset_source$,$source$,$host$">
    <title>Select a host to explore:</title>
    <search>
      <query>| metadata index=* OR index=_* type=hosts
            | fields host, totalCount
            | table host totalCount
            | rename totalCount AS "Quantity of Events"</query>
      <earliest>$data_explore_time.earliest$</earliest>
      <latest>$data_explore_time.latest$</latest>
    </search>
    <option name="drilldown">row</option>
    <drilldown>
      <set token="host">$row.host$</set>
      <set token="form.host">$row.host$</set>
      <unset token="source"></unset>
      <unset token="form.source"></unset>
      <unset token="form.reset_host"></unset>
      <unset token="form.reset_source"></unset>
    </drilldown>
  </table>
  <table depends="$reset_source$" rejects="$reset_host$,$source$,$host$">
    <title>Select a source to explore:</title>
    <search>
      <query>| metadata index=* OR index=_* type=sources
            | fields source, totalCount
            | table source totalCount
            | rename totalCount AS "Quantity of Events"</query>
      <earliest>$data_explore_time.earliest$</earliest>
      <latest>$data_explore_time.latest$</latest>
    </search>
    <option name="drilldown">row</option>
    <drilldown>
      <set token="source">$row.source$</set>
      <set token="form.source">$row.source$</set>
      <unset token="host"></unset>
      <unset token="form.host"></unset>
      <unset token="form.reset_host"></unset>
      <unset token="form.reset_source"></unset>
    </drilldown>
  </table>
  <table depends="$host$" rejects="$source$, $reset_host$, $reset_source$">
    <title>Sources that exist on $host$ are below. Select a source to see the other hosts with that source:</title>
    <search>
      <query>index=_* OR index=* host=$host$ source=* sourcetype=*
            | stats count AS "Quantity of Events" by source
      </query>
      <earliest>$data_explore_time.earliest$</earliest>
      <latest>$data_explore_time.latest$</latest>
    </search>
    <option name="drilldown">row</option>
    <drilldown>
      <set token="source">$row.source$</set>
      <set token="form.source">$row.source$</set>
      <unset token="host"></unset>
      <unset token="form.host"></unset>
    </drilldown>
  </table>
  <table depends="$source$" rejects="$host$, $reset_host$, $reset_source$">
    <title>Hosts where $source$ exists are below. Select a host to see the other sources on that host:</title>
    <search>
      <query>index=_* OR index=* host=* source=$source$
            | stats count AS "Quantity of Events" by host
      </query>
      <earliest>$data_explore_time.earliest$</earliest>
      <latest>$data_explore_time.latest$</latest>
    </search>
    <option name="drilldown">row</option>
    <drilldown>
      <set token="host">$row.host$</set>
      <set token="form.host">$row.host$</set>
      <unset token="source"></unset>
      <unset token="form.source"></unset>
    </drilldown>
  </table>
</panel>