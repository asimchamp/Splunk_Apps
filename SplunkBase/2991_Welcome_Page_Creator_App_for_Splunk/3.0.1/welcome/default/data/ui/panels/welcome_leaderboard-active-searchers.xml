<!-- Idea contributed by John Nguyen @jnguyen413 -->
    <panel>
      <title>Leaderboard</title>
      <html>Use the table below to identify the most active Splunkers (not you) in this workspace (app) over the last 30 days. These people are likely great candidates to learn more about Splunk from!</html>
      <html depends="$welcome_leaderboard$">
        <h3>Sorry, there are no results because not enough data has been generated to populate this panel.</h3>
      </html>
      <table rejects="$welcome_leaderboard$">
        <search>
            <progress>
            <condition match="$job.resultCount$ == 0">
              <set token="welcome_leaderboard">true</set>
            </condition>
            <condition>
              <unset token="welcome_leaderboard"/>
            </condition>
          </progress>
          <query>index=_internal sourcetype=splunkd_ui_access referer="*/app/$env:app$/search?*" sid=* user!=- user!=$env:user$ 
| stats latest(user) AS user by sid 
| top 20 user 
| join user 
    [| rest /services/authentication/users 
    | stats values(roles) AS roles, values(realname) AS realname, values(email) AS email by title 
    | fields title, email, realname, roles
    | rename title as user] 
| eval realname = coalesce( realname , user) . if( email!="" , " (" . email . ")" , "" )
| table realname, count, percent 
| rename realname AS "Most Active Searchers", count AS "Searches Executed", percent AS "Percent of Overall Search Activity"</query>
          <earliest>-30d@d</earliest>
          <latest>now</latest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">5</option>
        <option name="drilldown">none</option>
        <option name="rowNumbers">true</option>
        <fields>["Most Active Searchers"]</fields>
        <format type="number" field="Percent of Overall Search Activity">
          <option name="unit">%</option>
          <option name="useThousandSeparators">false</option>
        </format>
      </table>
    </panel>