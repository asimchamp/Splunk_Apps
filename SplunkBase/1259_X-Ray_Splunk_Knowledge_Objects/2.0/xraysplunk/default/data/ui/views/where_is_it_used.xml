<?xml version='1.0' encoding='utf-8'?>
<form>
  <label>Where is this Knowledge Object used?</label>
  <searchTemplate>| inputlookup lookup_ko | where match(name,"(?i)$ko$") AND match(level,"$app$") | search type="$type$"
                  | rename id as ko_id name as ko_name type as ko_type level as ko_level
                  | lookup lookup_ko_mapping item_id as ko_id OUTPUT used_by_id
                  | mvexpand used_by_id
                  | lookup lookup_ko id as used_by_id OUTPUT name as used_by_name type as used_by_type level as used_by_level
                  | sort count=0 str(ko_name) ko_level ko_type used_by_name used_by_name used_by_type used_by_level
                  | table ko_name ko_type ko_level used_by_name used_by_type used_by_level
                  | rename ko_name as "Knowledge Object" ko_level as "Level Where Defined" ko_type as "Type"
                           used_by_name as "Used by" used_by_type as "Used by Type" used_by_level as "Level Where Used"

  </searchTemplate>

  <fieldset>
    <input type="text" token="ko">
      <label>Search for the uses of this Knowledge Object</label>
    </input>
    <input type="dropdown" token="type">
      <label>Type</label>
         <choice value="*">Any</choice>
         <populatingSearch fieldForValue="type" fieldForLabel="type"><![CDATA[| inputlookup lookup_ko | stats count by type]]></populatingSearch>
    </input>
    <input type="dropdown" token="app">
      <label>App</label>
         <choice value=".*">Any</choice>
         <populatingSearch fieldForValue="appName" fieldForLabel="appName"><![CDATA[| inputlookup lookup_ko | rex field=level "app:(?<appName>\S+)" | stats count by appName ]]></populatingSearch>
    </input>
  </fieldset>

  <row>
    <table>
      <label>Locations where this Knowledge Object is used:"</label>
      <option name="count">20</option>
      <option name="displayRowNumbers">false</option>
      <option name="drilldown">none</option>
    </table>
  </row>

    <row>
    <html>
      You may enter
      <li>the exact name of the knowledge object,</li>
      <li>part of the name of the object, or </li>
      <li>a regular expression</li>
      <br/>
      The simple wildcard (*) does not work for this search.<br/>
      The search is case-insensitive.
    </html>
  </row>
</form>
