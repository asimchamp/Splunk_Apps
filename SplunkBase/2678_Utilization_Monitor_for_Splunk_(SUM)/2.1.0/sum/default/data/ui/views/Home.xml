<dashboard>
  <search id="event_dates">
    <query>| metadata type=hosts | stats perc10(firstTime) as firstEvent, max(lastTime) as lastEvent | convert ctime(firstEvent), ctime(lastEvent) | rename firstEvent as "First Event Timestamp", lastEvent as "Last Event Timestamp"</query>
  </search>
  <label>Home</label>
  <row>
    <panel>
      <html>
      <h2>Welcome to the Utilization Monitor for Splunk App!</h2>
      <h4>If you like this App, please remember to click <a href="https://splunkbase.splunk.com/app/2678/" target="_blank">"Rate this app" on Splunkbase</a>
        </h4><br />
        <h5>Have feedback? Questions? Requests? <a href="mailto:mason.s.morales@gmail.com">E-mail me</a> or find me on <a href="https://answers.splunk.com/users/198902/masonmorales.html" target="_blank">Splunk Answers</a>! Just want to network? <a href="https://www.linkedin.com/in/masonmorales" target="_blank">Add me</a> on LinkedIn.
      </h5>
    </html>
    </panel>
  </row>
  <row>
    <panel>
      <html>
       Utilization Monitor for Splunk v2.1.0 was released on January 21, 2015 and has the following updates:
      <ul>
        <li>The License Usage Dashboard now has a new panel "License Master Errors - Last 5 Minutes"</li>
        <li>The License Usage Dashboard now has a default time range selection of "Yesterday"</li>
        <li>The License Usage Dashboard now shows rollover summaries for the last 7 days of usage</li>
        <li>Failed logins are now excluded from the Search Head User Logins/Logouts dashboard panel</li>
        <li>Added new troubleshooting drop-down to navigation menu, along with new dashboards</li>
        <ul>
          <li>Added a new "Events of Interest" dashboard that displays a list of interesting events for a Splunk Admin</li>
          <li>Added a new "Deployment Server" dashboard to "Troubleshooting" in the navigation menu - displays Top 100 DS App Deployment Errors
          <li>Moved "Search Head Scheduled PDF Delivery Errors" from "Search Head Utilization" to "Troubleshooting" in the navigation menu</li>
          </li>
        </ul>
        <li>The Indexer Cluster Storage Calculator now indicates "Daily Ingest Per Indexer (GB)"</li>
        <li>The Indexer Cluster Storage Calculater now indicates "Total Disks Required"</li>
        <li>The Indexer Cluster Storage Calculator's "Server Requirements" section has had the table columns re-arranged</li>
        <li>The Search Head User Logins/Logouts Dashboard now has a new drill-down on the "Unique Splunk Users Seen" panel - the drill-down opens a new table showing a list of active Splunk users along with the date and time of their last activity</li>
        <li>Added some fun metrics to this page</li>
      </ul>
       Utilization Monitor for Splunk v2.0.0 was released on December 11, 2015 and provides:
      <ul>
        <li>Splunk Indexer cluster calculator for storage and server requirements</li>
        <li>Splunk Forwarder versions report</li>
        <li>Splunk Forwarder list</li>
        <li>Analysis of license utilization in your Splunk environment</li>
        <li>Empirical analysis of the disk space required to support your configured Splunk indexes</li>
        <li>Splunk SearchHead utilization by app/views</li>
        <li>Splunk Search Head scheduled PDF delivery errors</li>
        <li>Splunk Search Head scheduler search utilization</li>
        <li>Splunk Search Head scheduler error counts</li>
        <li>Splunk User Login/Logout activity</li>
        <li>Splunk User Search Head utilization</li>
      </ul>
      Changes to the latest version include:
      <ul>
        <li>Removed support for Splunk 5.x</li>
        <li>Improved accuracy of the Indexer Cluster Storage Calculator, added Total Number of Disks Required, and changed some labels</li>
        <li>Added support for computing storage requirements of the Enterprise Security (ES) data models to the the Indexer Cluster Storage Calculator</li>
        <li>Added a new panel to the Empirical Storage Calculator that assesses your current retention periods, data sizes, etc. by index and splunk server</li>
        <li>Fixed Failed Logins panel in Search Head User Logins/Logouts Dashboard</li>
        <li>Fixed Login Events panel in Search Head User Logins/Logouts Dashboard</li>
        <li>Added Drill-down and  Search Head Utilization by User Dashboard</li>
        <li>Reduced load time to populate form inputs</li>
        <li>Added Splunk user account information to drill-down of Search Head Utilization by User Dashboard</li>
        <li>Added result counts to Search Head Utilization by User Dashboard</li>
        <li>Empirical Storage Requirement Calculator now truncates results after midnight of today (i.e. latest=@d instead of latest=now)</li>
        
      </ul> <br/> 
      Please note that this app requires that your role has access to index=_internal and the ability to perform REST searches.
      <br/> <br/> 
      I will be adding more features in each future release. In the meantime, please feel free to 
      <a href="mailto:mason.s.morales@gmail.com">contact me</a> with questions, comments, and feature requests. <!-- and job offers ;-) --> You can also find me on <a href=" https://answers.splunk.com/users/198902/masonmorales.html" target="_blank">Splunk Answers</a>.
    </html>
    </panel>
  </row>
  <row>
    <panel>
      <single>
        <title>In the last hour, we have seen...</title>
        <search>
          <query>earliest=-1h latest=now index=_internal source=*metrics.log* group=tcpin_connections os=* | stats dc(hostname) as splunk_forwarder_count</query>
          <earliest>-60m</earliest>
          <latest>now</latest>
        </search>
        <option name="colorBy">value</option>
        <option name="colorMode">none</option>
        <option name="numberPrecision">0</option>
        <option name="showSparkline">1</option>
        <option name="showTrendIndicator">1</option>
        <option name="trendColorInterpretation">standard</option>
        <option name="trendDisplayMode">absolute</option>
        <option name="useColors">0</option>
        <option name="useThousandSeparators">1</option>
        <option name="drilldown">none</option>
        <option name="rangeColors">["0x65a637","0x6db7c6","0xf7bc38","0xf58f39","0xd93f3c"]</option>
        <option name="rangeValues">[0,30,70,100]</option>
        <option name="trendInterval">auto</option>
        <option name="linkView">search</option>
        <option name="underLabel">Splunk Forwarders</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Splunk has...</title>
        <search>
          <query>| eventcount</query>
          <earliest>-15m</earliest>
          <latest>now</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="colorBy">value</option>
        <option name="colorMode">none</option>
        <option name="numberPrecision">0</option>
        <option name="showSparkline">1</option>
        <option name="showTrendIndicator">1</option>
        <option name="trendColorInterpretation">standard</option>
        <option name="trendDisplayMode">absolute</option>
        <option name="useColors">0</option>
        <option name="useThousandSeparators">1</option>
        <option name="linkView">search</option>
        <option name="rangeColors">["0x65a637","0x6db7c6","0xf7bc38","0xf58f39","0xd93f3c"]</option>
        <option name="rangeValues">[0,30,70,100]</option>
        <option name="trendInterval">auto</option>
        <option name="underLabel">Total Events Indexed</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>The oldest event Splunk has is from...</title>
        <search base="event_dates">
          <query>table "First Event Timestamp"</query>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">bar</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.layout.splitSeries.allowIndependentYRanges">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
        <option name="colorBy">value</option>
        <option name="colorMode">none</option>
        <option name="numberPrecision">0</option>
        <option name="showSparkline">1</option>
        <option name="showTrendIndicator">1</option>
        <option name="trendColorInterpretation">standard</option>
        <option name="trendDisplayMode">absolute</option>
        <option name="useColors">0</option>
        <option name="useThousandSeparators">1</option>
        <option name="drilldown">none</option>
        <option name="linkView">search</option>
      </single>
    </panel>
       <panel>
      <single>
        <title>The latest event Splunk has is from...</title>
        <search base="event_dates">
          <query>table "Last Event Timestamp"</query>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">bar</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.showDataLabels">none</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.layout.splitSeries.allowIndependentYRanges">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
        <option name="colorBy">value</option>
        <option name="colorMode">none</option>
        <option name="numberPrecision">0</option>
        <option name="showSparkline">1</option>
        <option name="showTrendIndicator">1</option>
        <option name="trendColorInterpretation">standard</option>
        <option name="trendDisplayMode">absolute</option>
        <option name="useColors">0</option>
        <option name="useThousandSeparators">1</option>
        <option name="drilldown">none</option>
        <option name="linkView">search</option>
      </single>
    </panel>
  </row>
</dashboard>