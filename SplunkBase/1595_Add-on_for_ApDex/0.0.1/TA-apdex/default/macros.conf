[apdex(1)]
# takes a threshold, computes the apdex score using the time_taken field against that threshold

args = threshold
definition = eval threshold = $threshold$ | eval frustrated_threshold = 4 * threshold | eval apdex_category = case(time_taken < threshold, "satisfied", time_taken < frustrated_threshold, "tolerating", 1==1, "frustrated" ) | timechart  count by apdex_category | fillnull value=0 satisfied tolerating frustrated |  eval apdex = (satisfied + (tolerating / 2)) / (satisfied + tolerating + frustrated) | fields - satisfied tolerating frustrated
errormsg = Threshold must be numeric
iseval = 0
validation = isnum($threshold$)

[apdex_categories(1)]
# takes a threshold, counts records divided into satisfied, tolerating and frustrated users

args = threshold
definition = eval threshold = $threshold$ | eval frustrated_threshold = 4 * threshold | eval apdex_category = case(time_taken < threshold, "satisfied", time_taken < frustrated_threshold, "tolerating", 1==1, "frustrated" ) | timechart  count by apdex_category | fillnull value=0 satisfied tolerating frustrated
errormsg = Threshold must be numeric
iseval = 0
validation = isnum($threshold$)

