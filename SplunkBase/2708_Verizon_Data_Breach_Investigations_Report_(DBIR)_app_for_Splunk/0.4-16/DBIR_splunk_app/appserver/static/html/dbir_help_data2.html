<div class="dbirHelp">
    
	<h1>From Abstract to Exact</h1>
    <div class="dbirBuffer" />
    <p>
        <b>Here is another example following the path from CIM objects
           to actual search strings.  This example is from the
           <a href="/app/DBIR_splunk_app/overall_mail_analysis">Overall Mail Analysis</a> 
           <em>Mail Categories Over Time</em> dashboard panel.
        </b>
    </p>
    <br />
    
    <div style="max-width: 650px">
        <div style="float:right; padding-left:25px">
            <img src="/static/app/DBIR_splunk_app/images/dbir-help-23.png" width="122"
            height="88" title="Open Pivot" alt="Open Pivot">
        </div>
        <h3>HOW DO I FIND THE DATA MODEL?</h3>
        <p>
            When viewing the dashboard panel, hover over the bottom left corner of the panel.
            You will see a few icons appear.  Click Open in Pivot.
        </p>
        <br /><br />
        <div style="float:right; padding-left:25px">
            <img src="/static/app/DBIR_splunk_app/images/dbir-help-26.png" width="122"
            height="100" title="Open Search" alt="Open Search">
        </div>
        <p>
            Now in the upper right corner of the pivot screen, click on the
            Open in Search icon.
        </p>
    </div>
    <br /><br />
    <p>
        The beginning of the search will look similar to:
    </p>
    <div class="dbirPad15">
        <img src="/static/app/DBIR_splunk_app/images/dbir-help-10.png" width="480"
            height="66" title="Mail Search" alt="Mail Search">
    </div>
    <p>
        There's a good bet that <b>Email</b> is the data model we're looking for.
    </p>
    <br />
    
    <h3>LOOKNG CLOSER AT THE MODEL</h3>
    <p>
        From the menu, click Settings | Data models.  On the resulting screen, scroll
        down until you see <b>Email</b>.  You'll notice that there are actually
        two lines listed.  The bottom line is defined in the app <em>Splunk_SA_CIM</em>
        and shared globally.  This is the default CIM definition.  The top line is defined in the DBIR App and overrides
        the original version.  I'd like to say we did this to show you it could be
        done, but the truth is much less interesting.
    </p>
    <p>
        Click on the link <em>Email</em> on the top line to see the model that the DBIR
        App is using.
    </p>
    <div class="dbirPad15">
        <img src="/static/app/DBIR_splunk_app/images/dbir-help-27.png" width="600"
            height="59" title="Email Models" alt="Email Models">
    </div>
    <p>
        Though there is a lot of information on this page, the main thing we initially
        are interested in is the constraint.
    </p>
    <div class="dbirPad15">
        <img src="/static/app/DBIR_splunk_app/images/dbir-help-14.png" width="600"
            height="148" title="Email Model" alt="Email Model">
    </div>
    <p>
        And, simply enough, the <b>All_Email</b> object within the <b>Email</b> data model is
        defined as <samp>tag=email</samp>.
    </p>
    <br />
    <h3>FLIPPING OVER THE TAG</h3>
    <div style="max-width: 650px">
        <div style="float:right; padding-left:25px">
            <img src="/static/app/DBIR_splunk_app/images/dbir-help-16.png" width="254"
            height="61" title="Search Tags" alt="Search Tags">
        </div>
        <p>
            Now we have the tag, so let's naviagate to Settings | Tags and click
            <em>List by tag name</em> to see the tag listing.
            Enter <b>email</b> in the search box in the upper right hand
            corner and click the search button.
        </p>
    </div>
    <div class="dbirPad15">
        <img src="/static/app/DBIR_splunk_app/images/dbir-help-17.png" width="600"
            height="144" title="Email Model1" alt="Email Model1">
    </div>
    <p>
        Depending on your Splunk instance, you may get back any number of results.
        We get back four.  The top two are matches within the Field value pair
        column, but the bottom two are matches within the Tag name column.  
        This is what we are looking for.
    </p>
    <p>
        In the example on the previous page, we saw that the Sophos add-on
        created tags that referenced other event types.  In this example,
        we see that the Stream add-on has done the same thing.  But we also
        see that there is a tag named <b>email</b> defined directly within
        the DBIR App.
    </p>
    <p>
        The interesting thing about this tag is that instead of defining
        the <b>email</b> tag as one or more event types, the DBIR App defines the 
        tag directly as a search string (highlighted below in a red box). 
        When a search is done against <samp>tag=email</samp>, it is the
        same as adding this limiting filter to your query:
        <samp>sourcetype=email:proofpoint</samp>
    </p>
    <div class="dbirPad15">
        <img src="/static/app/DBIR_splunk_app/images/dbir-help-18.png" width="600"
            height="144" title="Email Model2" alt="Email Model2">
    </div>
    <p>
        So, as you can see, there is more than one way to get across town.
        The trick is to find what works for you and be as consistent as you can.
        If we open the menu and select Settings | Event types and search by
        <b>stream_email</b>, you'll see in the matching result set that
        Stream's version of <b>email</b> contains a much longer search
        string.
    </p>
    <div class="dbirPad15">
        <img src="/static/app/DBIR_splunk_app/images/dbir-help-20.png" width="600"
            height="60" title="Email Model3" alt="Email Model3">
    </div>
    <p>
        And the other thing to remember is that when we run the query within
        the <a href="/app/DBIR_splunk_app/overall_mail_analysis">Overall Mail Analysis</a> 
        dashboard, <b>All_Email</b> will bring back rows that match 
        the definition for both the DBIR App as well the Stream add-on App.
    </p>
    
    <br />
    <p class="standOut">
        Sometimes less is more.  Other times more is more.
    </p>
    <br />
    <p>
        You can use this to your advantage.  Instead of trying to override the existing
        configuration, you can created and share your own <b>email</b> tag and point
        to the exact data you would like to see populate the report.  
        The choice is up to you.
    </p>

    <br /><br /><br /><br /><br /><br />
</div>