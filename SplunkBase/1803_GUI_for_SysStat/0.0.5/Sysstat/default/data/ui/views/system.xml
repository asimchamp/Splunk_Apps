<form >
  <label>System</label>
  <fieldset autoRun="true" submitButton="false">
    <input type="time" searchWhenChanged="true">
      <default>
        <earliest>-30m</earliest>
        <latest>now</latest>
      </default>
    </input>

    <input type="dropdown" token="host">
      <label>Host</label>
      <search >
        <query>| inputlookup hosts_from_sysstat</query>
      </search>
      <fieldForValue>host</fieldForValue>
      <fieldForLabel>host</fieldForLabel>
    </input>


  </fieldset>

  <row>
   <panel>
    <input type="checkbox" token="io">
     <label>show help</label>
     <choice value=""></choice>
     </input>
      <chart id="single1">
        <title>I/O and transfer rate</title>
        <search><query>sourcetype=sysstat  host=$host$ device="-" "tps" OR "rtps" OR "wtps" OR "bread/s" OR "bwrtn/s"|timechart avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>

  <row>
   <panel depends="$io$">
    <html>
<DT>-b</DT>
Report I/O and transfer rate statistics.
The following values are displayed:
<br/><br/>
<B>tps</B>

<DL>
Total number of transfers per second that were issued to physical devices.
A transfer is an I/O request to a physical device. Multiple logical
requests can be combined into a single I/O request to the device.
A transfer is of indeterminate size.
</DL>

<B>rtps</B>

<DL>
Total number of read requests per second issued to physical devices.
</DL>

<B>wtps</B>

<DL>
Total number of write requests per second issued to physical devices.
</DL>

<B>bread/s</B>

<DL>
Total amount of data read from the devices in blocks per second.
Blocks are equivalent to sectors with 2.4 kernels and newer
and therefore have a size of 512 bytes. With older kernels, a block is of
indeterminate size.
</DL>

<B>bwrtn/s</B>

<DL>
Total amount of data written to devices in blocks per second.
</DL>

    </html>
   </panel>
  </row>



  <row>
    <panel>
     <input type="checkbox" token="paging">
     <label>show help</label>
     <choice value=""></choice>
     </input>
      <chart id="single2">
        <title>paging statistics</title>
        <search><query>sourcetype=sysstat  host=$host$ device="-" "pgpgin/s" OR "pgpgout/s" OR "fault/s" OR "majflt/s" OR "pgfree/s" OR "pgscank/s" OR "pgscand/s" OR "pgsteal/s"|timechart avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>

  <row>
   <panel depends="$paging$">
    <html>
<DT>-B</DT>
Report paging statistics. Some of the metrics below are available
only with post 2.5 kernels. The following values are displayed:
<br/><br/>
<B>pgpgin/s</B>

<DL>
Total number of kilobytes the system paged in from disk per second.
Note: With old kernels (2.2.x) this value is a number of blocks per
second (and not kilobytes).
</DL>

<B>pgpgout/s</B>

<DL>
Total number of kilobytes the system paged out to disk per second.
Note: With old kernels (2.2.x) this value is a number of blocks per
second (and not kilobytes).
</DL>

<B>fault/s</B>

<DL>
Number of page faults (major + minor) made by the system per second.
This is not a count of page faults that generate I/O, because some page
faults can be resolved without I/O.
</DL>

<B>majflt/s</B>

<DL>
Number of major faults the system has made per second, those which
have required loading a memory page from disk.
</DL>

<B>pgfree/s</B>

<DL>
Number of pages placed on the free list by the system per second.
</DL>

<B>pgscank/s</B>

<DL>
Number of pages scanned by the kswapd daemon per second.
</DL>

<B>pgscand/s</B>

<DL>
Number of pages scanned directly per second.
</DL>

<B>pgsteal/s</B>

<DL>
Number of pages the system has reclaimed from cache (pagecache and
swapcache) per second to satisfy its memory demands.
</DL>
<B>%vmeff</B>

<DL>
Calculated as pgsteal / pgscan, this is a metric of the efficiency of
page reclaim. If it is near 100% then almost every page coming off the
tail of the inactive list is being reaped. If it gets too low (e.g. less
than 30%) then the virtual memory is having some difficulty.
This field is displayed as zero if no pages have been scanned during the
interval of time.
</DL>

    </html>
   </panel>
  </row>


  <row>
    <panel>
      <input type="checkbox" token="activity_block">
      <label>show help</label>
      <choice value=""></choice>
      </input>
      <chart id="single3">
        <title>activity for all block devices</title>
        <search><query>sourcetype=sysstat  host=$host$  device!="-" "tps" OR "rd_sec/s" OR "wr_sec/s" OR "avgrq-sz" OR "avgqu-sz" OR "await" OR "svctm" OR "%util" | timechart avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>

  <row>
   <panel depends="$activity_block$">
    <html>
<DT>-d</DT>
Report activity for each block device (kernels 2.4 and newer only).
When data is displayed, the device specification
<I>dev m-n</I>

is generally used (<B>DEV</B> column). <B>m</B> is the major number of the device.
With recent kernels (post 2.5), <B>n</B>

is the minor number of the device, but is only a sequence number with
pre 2.5 kernels. Device names may also be pretty-printed if option -p
is used (see below). Values for fields avgqu-sz, await, svctm and %util
may be unavailable and displayed as 0.00 with some 2.4 kernels.
Note that disk activity depends on sadc options &quot;-S DISK&quot; and &quot;-S XDISK&quot;
to be collected. The following values are displayed:
<br/><br/>
<B>tps</B>

<DL>
Indicate the number of transfers per second that were issued to the device.
Multiple logical requests can be combined into a single I/O request to the
device. A transfer is of indeterminate size.
</DL>

<B>rd_sec/s</B>

<DL>
Number of sectors read from the device. The size of a sector is 512 bytes.
</DL>

<B>wr_sec/s</B>

<DL>
Number of sectors written to the device. The size of a sector is 512 bytes.
</DL>

<B>avgrq-sz</B>

<DL>
The average size (in sectors) of the requests that were issued to the device.
</DL>

<B>avgqu-sz</B>

<DL>
The average queue length of the requests that were issued to the device.
</DL>

<B>await</B>

<DL>
The average time (in milliseconds) for I/O requests issued to the device
to be served. This includes the time spent by the requests in queue and
the time spent servicing them.
</DL>

<B>svctm</B>

<DL>
The average service time (in milliseconds) for I/O requests that were issued
to the device.
</DL>

<B>%util</B>

<DL>
Percentage of CPU time during which I/O requests were issued to the device
(bandwidth utilization for the device). Device saturation occurs when this
value is close to 100%.
</DL>

    </html>
   </panel>
  </row>



  <row>
    <panel>
     <input type="checkbox" token="memory">
      <label>show help</label>
      <choice value=""></choice>
      </input>
      <chart id="single4">
        <title>memory utilization statistics</title>
        <search><query>sourcetype=sysstat  host=$host$  device="-" "kbmemfree" OR "kbmemused" OR "%memused" OR "kbbuffers" OR "kbcached" OR "kbcommit" OR "%commit"|timechart limit=15 avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>

  <row>
    <panel depends="$memory$">
    <html>
<DT>-r</DT>
Report memory utilization statistics.
The following values are displayed:
<br/><br/>
<B>kbmemfree</B>

<DL>
Amount of free memory available in kilobytes.
</DL>

<B>kbmemused</B>

<DL>
Amount of used memory in kilobytes. This does not take into account memory
used by the kernel itself.
</DL>

<B>%memused</B>

<DL>
Percentage of used memory.
</DL>

<B>kbbuffers</B>

<DL>
Amount of memory used as buffers by the kernel in kilobytes.
</DL>

<B>kbcached</B>

<DL>
Amount of memory used to cache data by the kernel in kilobytes.
</DL>

<B>kbcommit</B>

<DL>
Amount of memory in kilobytes needed for current workload. This is an estimate of how much
RAM/swap is needed to guarantee that there never is out of memory.
</DL>

<B>%commit</B>

<DL>
Percentage of memory needed for current workload in relation to the total amount of memory (RAM+swap).
This number may be greater than 100% because the kernel usually overcommits memory.
</DL>


    </html>
   </panel>
  </row>


  <row>
    <panel> 
     <input type="checkbox" token="swap">
     <label>show help</label>
     <choice value=""></choice>
     </input>
      <chart id="single6">
        <title>swap space utilization statistics</title>
        <search><query>sourcetype=sysstat  host=$host$  device="-" "kbswpfree" OR "kbswpused" OR "%swpused" OR "kbswpcad" OR "%swpcad"|timechart limit=15 avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>

  <row>
   <panel depends="$swap$">
    <html>

<DT>-S</DT>
Report swap space utilization statistics.
The following values are displayed:
<br/><br/>
<B>kbswpfree</B>

<DL>
Amount of free swap space in kilobytes.
</DL>

<B>kbswpused</B>

<DL>
Amount of used swap space in kilobytes.
</DL>

<B>%swpused</B>

<DL>
Percentage of used swap space.
</DL>

<B>kbswpcad</B>

<DL>
Amount of cached swap memory in kilobytes.
This is memory that once was swapped out, is swapped back in
but still also is in the swap area (if memory is needed it doesn't need
to be swapped out again because it is already in the swap area. This
saves I/O).
</DL>

<B>%swpcad</B>

<DL>
Percentage of cached swap memory in relation to the amount of used swap space.
</DL>

    </html>
   </panel>
  </row>


  <row>
    <panel>
     <input type="checkbox" token="swap_stats">
       <label>show help</label> 
       <choice value=""></choice>
       </input>
      <chart id="single7">
        <title>swapping statistics</title>
        <search><query>sourcetype=sysstat  host=$host$  device="-" "pswpin/s" OR "pswpout/s" |timechart limit=15 avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>

  <row>
   <panel depends="$swap_stats$">
    <html>
<DT>-W</DT>
Report swapping statistics. The following values are displayed:
<br/><br/>
<B>pswpin/s</B>

<DL>
Total number of swap pages the system brought in per second.
</DL>

<B>pswpout/s</B>

<DL>
Total number of swap pages the system brought out per second.
</DL>

    </html>
   </panel>
  </row>


</form>
