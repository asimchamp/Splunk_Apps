<form>

  <label>CPU</label>
  <fieldset autoRun="true" submitButton="false">
    <input type="time" searchWhenChanged="true">
      <default>
        <earliest>-30m</earliest>
        <latest>now</latest>
      </default>
    </input>

    <input type="dropdown" token="host">
      <label>Host</label>
      <search >
        <query>| inputlookup hosts_from_sysstat</query>
      </search>
      <fieldForValue>host</fieldForValue>
      <fieldForLabel>host</fieldForLabel>
    </input>
  </fieldset>

  <row>
    <panel>
      <input type="checkbox" token="help_cpu_util">
       <label>show help</label>
       <choice value=""></choice>
      </input>
      <chart id="single1">
        <title>CPU utilization</title>
        <search><query>sourcetype="sysstat" host=$host$ device="all" "%user" OR "%usr" OR "%nice" OR "%system" OR "%sys" OR "%iowait" OR "%steal" OR "%irq" OR "%soft" OR "%guest"|timechart limit=15 avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">stacked</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>



  
  <row>
   <panel depends="$help_cpu_util$">
    <html>
<DT>-u [ ALL ]</DT>
Report CPU utilization. The
<B>ALL</B>

keyword indicates that all the CPU fields should be displayed.
The report may show the following fields:
<br/><br/>
<B>%user</B>

<DL>
Percentage of CPU utilization that occurred while executing at the user
level (application). Note that this field includes time spent running
virtual processors.
</DL>

<B>%usr</B>

<DL>
Percentage of CPU utilization that occurred while executing at the user
level (application). Note that this field does NOT include time spent
running virtual processors.
</DL>

<B>%nice</B>

<DL>
Percentage of CPU utilization that occurred while executing at the user
level with nice priority.
</DL>

<B>%system</B>

<DL>
Percentage of CPU utilization that occurred while executing at the system
level (kernel). Note that this field includes time spent servicing
hardware and software interrupts.
</DL>

<B>%sys</B>

<DL>
Percentage of CPU utilization that occurred while executing at the system
level (kernel). Note that this field does NOT include time spent servicing
hardware or software interrupts.
</DL>

<B>%iowait</B>

<DL>
Percentage of time that the CPU or CPUs were idle during which
the system had an outstanding disk I/O request.
</DL>

<B>%steal</B>

<DL>
Percentage of time spent in involuntary wait by the virtual CPU
or CPUs while the hypervisor was servicing another virtual processor.
</DL>

<B>%irq</B>

<DL>
Percentage of time spent by the CPU or CPUs to service hardware interrupts.
</DL>

<B>%soft</B>

<DL>
Percentage of time spent by the CPU or CPUs to service software interrupts.
</DL>

<B>%guest</B>

<DL>
Percentage of time spent by the CPU or CPUs to run a virtual processor.
</DL>

<B>%idle</B>

<DL>
Percentage of time that the CPU or CPUs were idle and the system
did not have an outstanding disk I/O request.
</DL>

<DL>
Note: On SMP machines a processor that does not have any activity at all
(0.00 for every field) is a disabled (offline) processor.
</DL>


    </html>
   </panel>
  </row>


  <row>
   <panel>
      <input type="checkbox" token="help_load_avg">
       <label>show help</label>
       <choice value=""></choice>
      </input>
      <chart id="single2">
        <title>queue length and load averages</title>
        <search><query>sourcetype=sysstat  host=$host$  device="-" "runq-sz" OR "plist-sz" OR "ldavg-1" OR "ldavg-5" OR "ldavg-15"|timechart limit=15 avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>


  <row>
   <panel depends="$help_load_avg$">
    <html>
<DT>-q</DT>
Report queue length and load averages. The following values are displayed:
<br/><br/>
<B>runq-sz</B>

<DL>
Run queue length (number of tasks waiting for run time).
</DL>

<B>plist-sz</B>

<DL>
Number of tasks in the task list.
</DL>

<B>ldavg-1</B>

<DL>
System load average for the last minute.
The load average is calculated as the average number of runnable or
running tasks (R state), and the number of tasks in uninterruptible
sleep (D state) over the specified interval.
</DL>

<B>ldavg-5</B>

<DL>
System load average for the past 5 minutes.
</DL>

<B>ldavg-15</B>

<DL>
System load average for the past 15 minutes.
</DL>



    </html>
   </panel>
  </row>

  <row>
   <panel>
   <input type="checkbox" token="help_task_activity">
    <label>show help</label>
    <choice value=""></choice>
   </input>
      <chart id="single3">
        <title>task creation and system switching activity</title>
        <search><query>sourcetype=sysstat  host=$host$  device="-" "proc/s" OR "cswch/s"|timechart limit=15 avg(value) by param</query></search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>


  <row>
   <panel depends="$help_task_activity$">
    <html>
<DT>-w</DT>
Report task creation and system switching activity.
<br/><br/>
<B>proc/s</B>

<DL>
Total number of tasks created per second.
</DL>

<B>cswch/s</B>

<DL>
Total number of context switches per second.
</DL>



    </html>
   </panel>
  </row>


</form>
