<!DOCTYPE html>
<meta charset="utf-8">
{# Boilerplate for a Django Bindings template #}
{% extends "splunkdj:base_with_app_bar.html" %}

{% load splunkmvc %}

{% block title %}{{app_name}}

{% endblock title %}

{% block css %}
<!-- Style sheets are loaded here -->
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}{{app_name}}/custom.css" />
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}splunkjs/css/dashboard.css" />
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}{{app_name}}/css/appensureStyle.css" />
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}{{app_name}}/css/remoteDesktopStyle.css" />
<style>

</style>
{% endblock css %}



{% block content %}

<!----------------------------------------------------------Popup Code Start---------------------------------------------------------------->

<div class="overlay"></div> 
<div class="dashboard-row dashboard-row1" id="popup">
    <div class="dashboard-cell" style="width: 100%;">
        <div>  <button type="button" id = "closeButton" onclick="functoCloseall()"></button></div>
        <div  class="span31" id ="headingtxt"> Sign Up For AppEnsure License</div>

        <div class="dashboard-panel" id="33mm">
            <div class="dashboard-element">
                <div class="panel-body"  id ="txt12">
                     
<!--                    <div  class="span3" id ="txt1"><b>Welcome! Manage and ensure the response time and throughput of every application you own in every location you run it </b>
                        <br><br><ul><li><p>Discover, name and map every app in every location</p></li>
                            <li><p>Measure response time of every app hop by hop</p></li>
                            <li><p>Baseline response time thresholds and trigger alarms</p></li>
                            <li><p>Deliver root cause analysis with event correlation</p></li>
                        </ul>
                    </div>-->
                     <div  class="span3" id ="txt1"><b>Welcome! Manage and ensure the response time and throughput of every application you own in every location you run it </b>
                              <br><br><ul><li><p>Discover, name and map every app in every location</p></li>
                                   <li><p>Measure response time of every app hop by hop</p></li>
                                   <li><p>Baseline response time thresholds and trigger alarms</p></li>
                                   <li><p>Deliver root cause analysis with event correlation</p></li>
                              </ul>
                     </div>
                     
                </div>
            </div>
        </div>

        <div  class="buttonsdiv" >
            <button type="button" id = "freemium_button" onclick="funcFreeRegistrationClosePopup()"></button>
            <button type="button" id = "evaluation_button" onClick ="funcEvalRegistrationClosePopup()" ></button> 
        </div>

    </div>
    
</div>


<!----------------------------------------------------------Popup Code End---------------------------------------------------------------->




<div class="dashboard-row dashboard-row4" id="divID_main">

    <div class="dashboard-cell" id="radioDiv"  style="width: 16%;">
        <div class="dashboard-panel ">
            <div class="dashboard-element">
                <div class="panel-head">
                </div>
                <div class="panel-body" id="Id_Radio" style="width: 100%;">
                    {% radiogroup id="id_radio_group_Left" managerid="mID_radio_leftListOfApps"  labelField="DisplayName" valueField="CAN" value="$app$"|token_safe default="*"%}
                </div>
            </div>
        </div>
    </div>


    <div class="dashboard-cell" style="width: 84%;" id="total">
        <div id="firstsummaryscreen">

            <div class="dashboard-row dashboard-row4" id="container1" style="width: 99.4%;float: right;padding-top: 0%;margin-right: 11px;  ">
                <div class="tabs1" id="myscreen1">
                    <ul class="classID_ul_ThreeTab-links1">
                        <li class="classID_ThreeTabs" id="overview1" ><a style="font-size: 13px">Overview</a></li>
                        <li><a href="#tab4" id="alarm1" style="font-size: 13px">Alarms</a></li>
                        <li><a href="#tab4" id="users1" style="font-size: 13px">Users</a></li>
                    </ul>
                </div>
            </div>


            <div class="dashboard-row dashboard-row4" id="container" style="width: 99.4%;float: right;padding-top: 0%;margin-right: 11px;">

                <div class="tabs" id="dID_fourTabs">
                    <ul class="classID_ul_FourTab-links">
                        <li class="active" id="overview"><a href="#tab1" style="font-size: 13px">Overview</a></li>
                        <!--<li><a href="#tab2" id="appd">App Details</a></li>-->
                        <li><a href="#tab2" id="alarm" style="font-size: 13px">Alarms</a></li>
                        <li><a href="#tab3" id="users" style="font-size: 13px">Users</a></li>
                        <li><a href="#tab4" id="topologyd" style="font-size: 13px">Topology</a></li>
                        <!--<li><a href="#tab3" id="rda" style="font-size: 13px">RDA</a></li>-->
                        <li id="delivery">Delivery: Citrix XenDesktop &nbsp&nbsp <img src="/en-US/splunkd/__raw/servicesNS/admin/AppEnsure/static/XenDesktop_30_30.png"></li>
                        <li></li>
                    </ul>
                </div>

            </div>

            <div class="dashboard-row dashboard-row1" id="time">

                <div class="dashboard-cell" style="width: 99.3%; margin-top: 0.3%;float: right; height: 10%;padding-top: 0px;margin-right: 11px">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="appbg">
                                <table>
                                    <tr>
                                        <th id="allapps"><h3 style="padding-top: 0px;padding-bottom: 25px;font-size: 15px">Remote Desktops</h3></th>
                                    </tr>
                                    <tr>
                                        <th id="appname" style="width: 100%;position: static;font-size: 14px"></th>
                                        <th id="singledropdownvalue" style="width: 130%;"></th>
                                        <th id="host"><h4 style="width: 35%;margin-left: 220px;padding-bottom: 19px;margin-top: -18px;">Select Host:</h4></th>
                                    <th style="width: 17%;position: static">
                                    <!--<td id="singledropdownvalue"></td>-->
                                    <td id="newdrop">
                              <div>{% dropdown id="id_drop_HostIP"  value="$drop_HostName$"|token_safe showClearButton=False selectFirstChoice=True  managerid="mID_drop_HostIP" valueField="HostName" %} </div>
                                    </td>                               
                                </th>
                                    </tr>

                                </table>
                            </div>

                            <div class="panel-body" style="float: right; margin-top: -54px;">
                                <!--{% timerange id="timerange" managerid="simplesearch1"  preset="All time"  earliest_time="0"|token_safe  latest_time="now"|token_safe %}-->
                                
                              {% timerange id="timerange" managerid="simplesearch1" preset="Last 24 hours"   earliest_time="-24h@h"|token_safe latest_time="now"|token_safe %}  
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <div class="dashboard-row dashboard-row1" style="width: 99.3%;margin-top: 1%" id="all_overview_chart">

                <div class="dashboard-cell" style="width: 100%;">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headsum">
                                <h3 style="margin-left: -5px">Server Response Time</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="id_chart_AllServerRespTime" managerid="mID_chart_AllServerRespTime" type="column" %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--    starting of Highest CPU Memory user Utilization -->

            <div class="dashboard-row dashboard-row1" style="width: 99.7%;float: right;margin-right: 10px;margin-top: 1% " id="high_user_cpu_mem">

                <div class="dashboard-cell" style="width: 32.8%;margin-left: 0.3%;">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headuser">
                                <h3>Highest Users/Image</h3>
                            </div>
                            <div class="panel-body">
                                {% table id="id_table_All_highestUserImage" managerid="mID_table_All_highestUserImage"  pageSize="10" fields="Image, \"Users\" " %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-cell" style="width: 32.8%;margin-left: 0.6%;">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headcpu">
                                <h3>Highest User Launch Time</h3>
                            </div>
                            <div class="panel-body" >
                                {% table id="user_table" managerid="mID_table_All_Highest_launchTime" pageSize="10" fields="User, \"Launch Time (ms)\" " %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-cell" style="width: 32.8%;margin-left: 0.6%;">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headmem">
                                <h3>Highest User Session Latency</h3>
                            </div>
                            <div class="panel-body">
                                {% table id="id_chart_All_sessionLatency" managerid="mID_chart_All_sessionLatency" pageSize="10" fields=" User, \"Session Latency (ms)\" " %}
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>



        <!--end of Highest CPU Memory user Utilization-->

        <!--start:overview screen-->

        <!--Start : When we click particular application executes below code-->



        <div id="click_app_overview" class="myclass">

            <div class="dashboard-row dashboard-row7" style="width: 99.3%;float: right;margin-top: 1.1%;background-color: #fff;padding-bottom: 0.7%;margin-right: 0.8% " id="single_resTime_calls_users_alarm">
                <div class="dashboard-cell" style="width: 31.5%;margin-top: 0.9%;margin-left: 0.9%">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head">

                            </div>
                            <div class="panel-body" style="background-color: rgb(108,184,202);">
                                {% single id="single_resTime" managerid="mID_single_AppRespTime" beforeLabel="Server Response Time:" afterLabel="ms" %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-cell" style="width: 32.5%;margin-left: 0.8%;margin-top: 0.9%;">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head">

                            </div>
                            <div class="panel-body" style="background-color: rgb(149, 110, 150);">
                                {% single id="single_users" managerid="search_appUsers" beforeLabel="Users:"  %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dashboard-cell" style="width: 32.5%;margin-left: 0.8%;margin-top: 0.9%;">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head">

                            </div>
                            <div class="panel-body" style="background-color: rgb(252, 106, 106);">
                                {% single id="single_alerts" managerid="search_appAlerts" beforeLabel="Alarms:"  %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <div class="dashboard-row dashboard-row1" style="width: 100%;float: right; " id="click_part_app">

                <div class="dashboard-cell" style="width: 99.2%;margin-top: -0.3%"  id="chart_over">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headmem">
                                <h3>Server Response Time</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="id_chart_Selected_serverRespTime" managerid="mID_chart_Selected_serverRespTime" type="area"%}
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="dashboard-row dashboard-row13" style="width: 100%;float: right;" id="usertable">

                <div class="dashboard-cell" style="width: 99.2%;margin-top: 1%">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="cpuhead">
                                <h3> Server Response Time</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="user_info" managerid="search_user_tab" type="area"%}
                            </div>
                        </div>
                    </div>
                </div>

            </div>



            <div class="dashboard-row dashboard-row13" style="width: 99.7%;float: right;margin-right: 10px;margin-top: 1%" id="cpumemutil">

                <div class="dashboard-cell" style="width: 49.5%;margin-left: 0.3%" id="cpuutil">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="cpuhead">
                                <h3> CPU Utilization</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="chart_particularApp_resource" managerid="search_app_cpu" type="area" %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dashboard-cell" style="width: 49.5%;margin-left:0.6% " id="memutil">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="memhead">
                                <h3> Memory Utilization</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="chart_particularApp_resource_calls" managerid="usertable_mem" type="area" %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dashboard-row dashboard-row789" id="item789" style="display: none">
                    <div class="dashboard-cell" style="width: 100%;">
                        <div class="dashboard-panel ">
                            <div class="dashboard-element">
                                <div class="panel-head">

                                </div>
                                <div class="panel-body">
                                    {% table id="id_table_TopologyID" managerid="mID_table_TopologyID" fields="id,CAN, HN,host " %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <!--appln users dropdown--> 

            <div class="dashboard-row dashboard-row6" id="dropappuser">
                <div class="dashboard-cell" style="width: 99.2%;margin-top: 1%">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">

                            <div class="panel-body">
                                <div  class="span2" id ="txt"> <h4 style="font-size: 14px">Select User &nbsp&nbsp&nbsp&nbsp&nbsp :</h4></div>
                                <div>
                                    {% dropdown id="id_dropDown_userIP"  value="$user$"|token_safe showClearButton=False default="*"  managerid="mID_dropDown_userIP" valueField="UserIP" %} 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 




            <div class="dashboard-row dashboard-row13" style="width: 99.9%;float: right;margin-right: 7px;margin-top: 1%" id="usersescpu">

                <div class="dashboard-cell" style="width: 49.5%;margin-left:0.3% " id="usrcpu">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="memhead">
                                <h3> User CPU Utilization</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="id_chart_selectedUser_cpu" managerid="mID_chart_selectedUser_cpu" type="Bar" %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-cell" style="width: 49.5%;margin-left: 0.3%" id="userlat">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="cpuhead">
                                <h3>User Memory Utilization</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="chart_particularApp_resource11" managerid="mID_chart_user_memory" type="column" %}
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <div class="dashboard-row dashboard-row13" style="width: 100%;float: right;" id="userestime">
                <div class="dashboard-cell" style="width: 99.2%;margin-top: 1%">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="memhead">
                                <h3> User Session Latency</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="user_res_time" managerid="mID_chart_user_sessionLatency" type="area" %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>





            <div class="dashboard-row dashboard-row1" style="width: 100%;float: right; " id="sesprocess">

                <div class="dashboard-cell" style="width: 50%;" id="process">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headuser">
                                <h3>Dependent Process</h3>
                            </div>
                            <div class="panel-body">
                                {% table id="table_process" managerid="search_process"  fields="Calls, SlowCalls, ErrorCalls" %}
                            </div>
                        </div>
                    </div>
                </div>


                <div class="dashboard-cell" style="width: 50%;" id="session">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="headuser">
                                <h3> User Initiated Session List </h3>
                            </div>
                            <div class="panel-body">
                                {% table id="table_ses" managerid="search_ses"  fields=" BEMA,CAN,AT " %}
                            </div>
                        </div>
                    </div>
                </div>


            </div>

            <div class="dashboard-row dashboard-row13" style="width: 100%;float: right;" id="Alarmscreen">

                <div class="dashboard-cell" style="width: 99.2%;margin-top: 1%" id="alarmchart">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="cpuhead">
                                <h3>Application Alarm Count</h3>
                            </div>
                            <div class="panel-body">
                                {% chart id="alarm_chart" managerid="mID_chart_selectedApp_AlarmCount"  type="area" %}
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <div class="dashboard-row dashboard-row13" style="width: 100%;float: right;" id="Alarmtable">

                <div class="dashboard-cell" style="width: 99.2%;margin-top: 1%" id="alarmtable">
                    <div class="dashboard-panel ">
                        <div class="dashboard-element">
                            <div class="panel-head" id="cpuhead">
                                <h3> Application Diagnostic Details <img src="/en-US/splunkd/__raw/servicesNS/admin/AppEnsure/static/diagnostic_30.png" id="diagnostic_img"></h3>
                                
                            </div>
                            <div class="panel-body">
                                {% table id="alarm_tab" managerid="mID_table_selectedApp_AlarmCount"  fields="\"Affected Servers\" , \"Diagnostic Details\"" %}
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>  <!-- end of  #click_app_overview .myclass -->


        <!--all over view for alarms and users-->
        <div class="dashboard-row dashboard-row13" style="width: 100%;float: right;" id="alram_all_overview">


            <div class="dashboard-cell" style="width: 99.3%;margin-top: 1%" >
                <div class="dashboard-panel ">
                    <div class="dashboard-element">
                        <div class="panel-head" id="cpuhead">
                            <h3> Alarm Count</h3>
                        </div>
                        <div class="panel-body">
                            {% chart id="id_chart_allAlarms" managerid="mID_chart_allAlarms"  type="column" %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="dashboard-cell" style="width: 99.3%;margin-top: 1%" >
                <div class="dashboard-panel ">
                    <div class="dashboard-element">
                        <div class="panel-head" id="cpuhead">

                            <h3>Diagnostic Details<img src="/en-US/splunkd/__raw/servicesNS/admin/AppEnsure/static/diagnostic_30.png" id="diagnostic_img"></h3>
                        </div>
                        <div class="panel-body">
                            {% table id="id_All_Alarms" managerid="id_table_All_Alarms"  fields=" Applications,\"Diagnostic Details\" " %}
                        </div>
                    </div>
                </div>
            </div>

        </div><!--- end of alram_all_overview--->

        <div class="dashboard-row dashboard-row13" style="width: 100%;float: right;" id="users_all_overview">

            <div class="dashboard-cell" style="width: 99.3%;margin-top: 1%" id="all_users_overview_chart">
                <div class="dashboard-panel ">
                    <div class="dashboard-element">
                        <div class="panel-head" id="cpuhead">
                            <h3> Application User Count  </h3>
                        </div>
                        <div class="panel-body">
                            {% chart id="id_chart_AllUsersTab_users" managerid="mID_chart_AllUsersTab_users"  type="column" %}
                        </div>
                    </div>
                </div>
            </div>
            <div class="dashboard-cell" style="width: 99.3%;margin-top: 1%" id="all_users_overview_tab">
                <div class="dashboard-panel ">
                    <div class="dashboard-element">
                        <div class="panel-head" id="cpuhead">
                            <h3 style="padding: 10px 14px 6px 17px;">Application User Details<img src="/en-US/splunkd/__raw/servicesNS/admin/AppEnsure/static/user2_30.png" id="usercount_img"></h3>

                        </div>
                        <div class="panel-body">
                            {% table id="id_table_AllUsersTab_users" managerid="mID_table_AllUsersTab_users" fields=" Users, \"Applications\" "%}
                        </div>
                    </div>
                </div>
            </div>

        </div><!-- end of users_all_overview -->

    </div>

</div> <!-- end of divID_main -->

{% endblock content %}



{% block managers %}


<!-- 1. left side list of applications search query -->
{% searchmanager
autostart=false
id="mID_radio_leftListOfApps"
search="index= aeremotedesktop | dedup  CAN |fields CAN"
cache=False
earliest_time="-24h@h"
latest_time="now"
%} 

{% searchmanager
autostart=false
id="mID_getappname"
search="index= aeremotedesktop  CAN=\"$app$\" | dedup  id,CAN  |fields CAN"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="summary"
search="index=aeappmetrics | rename AN as AppName | rename AC as AllCalls |rename AID as agentid | rename EC as ErrorCalls|rename FC as FailedCalls |fields AppName AllCalls agentid ErrorCalls FailedCalls"
cache=False
earliest_time="-24h@h"
latest_time="now"
%} 

<!--{% searchmanager
autostart=false
id="mID_dropDown_userIP"
search="index=aeremotedesusers CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\" | eval splitedData= split(HostName,\"/\") |eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id ]|dedup UserIP |fields UserIP"
cache=False
earliest_time="-24h@h"
latest_time="now"
%} -->


{% searchmanager
autostart=false
id="mID_dropDown_userIP"
search="index=aeremotedesusers CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\" | eval splitedData= split(HostName,\"/\") |eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id ]|dedup UserIP |fields UserIP "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}











{% searchmanager
autostart=false
id="dropuser_rda"
search="index=aeappmetrics |where AT=0 or AT=10 | dedup  id |fields AN"
cache=False
earliest_time="-24h@h"
latest_time="now"
%} 


{% searchmanager
id="search_sourcetypes"
search="index=ae_appmetrics | dedup AppName,Instance | join AppName, Instance [Search index=ae_disappname earliest_time=\"0\" latest_time=\"now\" |dedup AppName, Instance |where Customized=0 OR Customized=8 OR Customized=2 OR Customized=10] | fields DisplayName"
cache=True
%}

{% searchmanager
autostart=false
id="list_agents1234"
search="index=ae_appmetrics |dedup AppName, Instance  | join AppName, Instance [Search index=ae_disappname earliest_time=\"0\" latest_time=\"now\" |dedup AppName, Instance |where Customized=0 OR Customized=8 OR Customized=2 OR Customized=10] |fields DisplayName "
cache=False
%}

{% searchmanager
autostart=false
id="list_agents"
search="index=ae_appmetrics |dedup AppName, Instance  | join AppName, Instance [Search index=ae_disappname  |dedup AppName, Instance |where Customized=0 OR Customized=8 OR Customized=2 OR Customized=10] | fields AppName Calls Instance ServerName"
cache=False
%}

{% searchmanager
autostart=false
id="charts"
search="index=ae_appmetrics Type=Server_WEB AppName=*[search index=ae_disappname DisplayName=\"MicrosoftExchangeServer\" | fields AppName] Instance=*[search index=ae_disappname DisplayName=\"MicrosoftExchangeServer\" | fields Instance] |timechart eval(sum(Calls)) as \"Calls\" eval(sum(ErrorCalls)) as \"ECalls\" | fields _time Calls ECalls"
cache=False
%}

{% searchmanager
autostart=false
id="search_TopoValue22"
search="index=ae_appmetrics |dedup AppName, Instance  | join AppName, Instance [Search index=ae_disappname earliest_time=\"0\" latest_time=\"now\" |dedup AppName, Instance |where Customized=0 OR Customized=8 OR Customized=2 OR Customized=10] |fields DisplayName"
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_table_All_highestUserImage"
search="index=aeremotedesusers |dedup UserIP,CAN |stats count(UserIP) as \"Users\" by CAN |rename CAN as Image|sort -\"Users\" |fields Image, \"Users\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_All_sessionLatency"
search="index=aeremotedesusers|sort -SSL| dedup  UserIP|stats AVG(SSL) as SSL by UserIP|eval \"Session Latency (ms)\" =round(SSL,0) |rename UserIP as User|fields \"Session Latency (ms)\" , User "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="search_user_tab"
search="index = aeremotedesktop  CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\" | eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|timechart eval(avg(RT)) as ResponseTime |eval ResponseTime=round((ResponseTime),2) |rename ResponseTime as \"Response Time (ms)\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="search_process"
search="index= aeapplist  id=*[search index=aeappmetrics AN=\"$user$\" |dedup id |fields id] |dedup Ip|stats  sum(RT) as ResponseTime, sum(AC) as Calls, avg(AC) as Throughput,sum(SC) as SlowCalls, sum(EC) as ErrorCalls, values(T) as Type, values(Ip) as IP, values(SN) as Servers by Ip|eval Type=if(Type==1,\"WebTier\",if(Type==2,\"AppTier\",if(Type==3,\"DBTier\",if(Type==4,\"Server\",if(Type==5,\"WebTier\",\"--\")))))|eval \"Response Time\"=round((ResponseTime),0)|eval Servers=if(Servers==\" \",\"--\",Servers) |eval Throughput=round((Throughput),0)  |fields IP, Type, Servers, \"Response Time\", Throughput, Calls, SlowCalls, ErrorCalls "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="search_ses"
search="index=aeappmetrics AN=\"$user$\" | fields BEMA CAN AT | head 5 "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

<!--{% searchmanager
autostart=false
id="mID_table_selectedApp_AlarmCount"
search="index=aealarms sourcetype=\"remotedesalarms\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|dedup RC|stats first(RC) as RootCause, values(DD) as \"Diagnostic Details\", values(AS) as AffectedServers by RC|eval \"Affected Servers\" =if(AffectedServers <=0,\"--\",AffectedServers )  |fields \"Diagnostic Details\", \"Affected Servers\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}-->

{% searchmanager
autostart=false
id="mID_table_selectedApp_AlarmCount"
search="index=aealarms sourcetype=\"remotedesalarms\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id] |stats values(HN) as \"Affected Servers\" by DD|rename DD as \"Diagnostic Details\"| fields \"Affected Servers\" \"Diagnostic Details\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}









{% searchmanager
autostart=false
id="mID_table_All_Highest_launchTime"
search="index=aeremotedesusers |sort -LaunchTime | dedup  UserIP|eval \"Launch Time (ms)\" =round(LaunchTime,0) | rename UserIP as User  |fields \"Launch Time (ms)\" , User "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="usertable_mem"
search="index =aeremotedesktop CAN=\"$app$\" id=*[search index=aeremotedesktop CAN= \"$app$\" | eval HostName= \"$drop_HostName$\" | eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|timechart eval(AVG(MEM)) as MemUtilization |eval \"Memory (MB)\" =round((MemUtilization  ),2)|fields  _time,\"Memory (MB)\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="rda_cpu"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(CPU) as \"CPU Utilization\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="rda_io"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"I/O\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_selectedUser_cpu"
search="index=aeremotedesusers CAN=\"$app$\"  UserIP=\"$user$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]| timechart AVG(CPU) as \"CPU (%)\"|eval \"CPU (%)\"=round('CPU (%)',2) "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_user_sessionLatency"
search="index=aeremotedesusers CAN=\"$app$\"  UserIP=\"$user$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]| timechart avg(SSL) as \"Session Latency (ms)\"|eval \"Session Latency (ms)\"=round('Session Latency (ms)',2) "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_Selected_serverRespTime"
search="index= aeremotedesktop CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\"  | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|timechart eval(avg(RT)) as ResponseTime |eval ResponseTime=round((ResponseTime),2) |rename ResponseTime as \"Response Time (ms)\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="search_app_cpu"
search="index =aeremotedesktop CAN=\"$app$\" id=*[search index=aeremotedesktop CAN= \"$app$\" | eval HostName= \"$drop_HostName$\" | eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|timechart eval(AVG(CPU)) as CPUUtilization |eval \"CPU (%)\" =round((CPUUtilization ),2)|fields  _time, \"CPU (%)\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

<!--for topology-->
{% searchmanager
autostart=false
id="mID_table_TopologyID"
search="index =aeremotedesktop CAN=\"$app$\" id=*[search index=aeremotedesktop CAN= \"$app$\" | eval HostName= \"$drop_HostName$\" | eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|dedup id| fields id,CAN, HN,host "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="rda_img"
search="index=aeremoteapp AN=FIREFOXSTREAMED | stats sum(RT) as \"Image Response Time\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="rda_mem"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(MEM) as \"Memory Utilization\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_user_memory"
search="index=aeremotedesusers CAN=\"$app$\"  UserIP=\"$user$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]| timechart avg(MEM) as \"Memory (MB)\"|eval \"Memory (MB)\"=round('Memory (MB)',2) "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_selectedApp_AlarmCount"
search="index = aealarms sourcetype=\"remotedesalarms\" CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\" | eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]| timechart count(RC) as \"Alarms Count\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

<!--App- ResponseTime box-->
{% searchmanager
autostart=false
id="mID_single_AppRespTime"
search="index=aeremotedesktop CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id] |stats AVG(RT) as ResTime| eval \"Response Time(ms)\" =round(ResTime,0)|fields \"Response Time(ms)\"  "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

<!-- App- Users box-->
{% searchmanager
autostart=false
id="search_appUsers"
search="index= aeremotedesusers CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\" | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]|dedup UserIP | stats count(UserIP) as UsersCount by id |fields UsersCount"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}
<!-- App- Alerts box-->
{% searchmanager
autostart=false
id="search_appAlerts"
search="index =aealarms sourcetype=\"remotedesalarms\" CAN=\"$app$\" id=*[search index=aeremotedesktop CAN=\"$app$\"  | eval HostName=\"$drop_HostName$\"| eval splitedData= split(HostName,\"/\")|eval selectedHostName=mvindex(splitedData, 0)|eval selectedIP=mvindex(splitedData, 1) | dedup id |where HN= selectedHostName AND Ip=selectedIP |fields id]| stats count(sRC) as AlarmsCount|fields AlarmsCount "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_allAlarms"
search="index=aealarms sourcetype=\"remotedesalarms\" |dedup RC,id, CAN|sort -count | stats count(RC) as \"Alarms Count\" by CAN|rename CAN as \"Application Name\" |fields \"Application Name\" , \"Alarms Count\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="id_table_All_Alarms"
search="index=aealarms sourcetype=\"remotedesalarms\"|dedup RC,id, CAN|sort -count | stats values(DD) as \"Diagnostic Details\" by CAN|rename CAN as Applications |fields Applications,\"Diagnostic Details\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_table_AllUsersTab_users"
search=" index= aeremotedesusers |dedup UserIP, CAN |stats values(CAN) as APPs by UserIP |rename APPs as \"Applications\" |rename UserIP as Users |fields Users, \"Applications\"  "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_chart_AllUsersTab_users"
search="index= aeremotedesusers |dedup UserIP, CAN |stats count as Users by CAN|rename CAN as Application | rename Users as \"User Count\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_drop_HostIP"
search="index=aeremotedesktop  CAN=\"$app$\" |dedup id|eval HostName = HN.\"/\".Ip |dedup HostName| fields HostName"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}



{% searchmanager
autostart=false
id="mID_chart_AllServerRespTime"
search=" index=aeremotedesktop |stats avg(RT) as ResponseTime by HN |rename HN as Server |eval \"Response Time (ms)\"=round((ResponseTime),0)|fields Server, \"Response Time (ms)\" "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_cpu_rda"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(CPU) as \"CPU Utilization\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(MEM) as \"Memory Utilization\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_lat_rda"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(SL) as \"Session Latency\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_cpu_rda_session"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(SL) as \"Session IO Writes\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_session"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(SL) as \"Session IO Reads\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_lat_rda_session"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(SL) as \"Band Width\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(CPU) as \"Application CPU Utilization\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_lat_rda_processes"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(CPU) as \"System CPU Utilization\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes_mem"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(MEM) as \"Application Memory Utilization\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager 
autostart=false
id="mID_lat_rda_processes_mem"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(MEM) as \"System Memory Utilization\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes_IO"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"Application IO\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager 
autostart=false
id="mID_lat_rda_processes_IO"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"System IO\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes_pageplt"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"Application Page Fault\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager 
autostart=false
id="mID_lat_rda_processes_pageflt"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"System Page Fault\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes_threadcunt"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"Application ThreadCount\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager 
autostart=false
id="mID_lat_rda_processes_threadcunt"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"System ThreadCount\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes_kermode"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"Application KernalMode\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager 
autostart=false
id="mID_lat_rda_processes_usermode"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"Application UserMode\" by _time "|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_mem_rda_processes_kermode1"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"System KernalMode\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% searchmanager
autostart=false
id="mID_lat_rda_processes_usermode1"
search="index=aeremoteapp AN=OUTLOOK-111 | stats sum(AT) as \"System UserMode\" by _time"|token_safe
cache=False
earliest_time="-24h@h"
latest_time="now"
%}

{% endblock managers %}


{% block js %}

<script>
     var deps = [
         "splunkjs/ready!",
         "splunkjs/mvc/searchmanager"
     ];
     var count;
     require(deps, function (mvc) {
         var ccc;
         // Load individual components
         var SearchManager = require("splunkjs/mvc/searchmanager");
         // Create the search manager
         var mysearch = new SearchManager({
             id: "search1",
             app: "search",
             cache: false,
             search: " index=aeappmetrics OR index=aeremoteapp OR index=aeremotedesktop | dedup id | stats count(id) as id | fields id "
         });
         
//         search: " index=aeremotedesktop|dedup id |fields id "
         mysearch.on('search:done', function (properties) {
             // Print the search job properties
             console.log("DONE!\nSearch job properties:", properties.content.eventCount);
             count = properties.content.eventCount;
//            count = 0;
             if (count < 1) {
//                localStorage.setItem("lastname", "false");
                 $(".overlay").css({'position': 'absolute', 'top': '0', 'left': '0', 'right': '0', 'bottom': '0', 'width': '100%', 'height': '100%', 'z-index': '10', 'background-color': 'rgba(64,64,64,0.9)'});
                 $(".overlay").show();
                 initialPopup();
             } else {
//                localStorage.setItem("lastname", "true");
                 $(".overlay").hide();
             }
         });
     });
</script> 



<script>
//        google.load('visualization', '1', {packages: ['corechart']});
    var search_cust_table = "";
    var myResults_mainTableSearch = "";
    var collection_data = "";
    var collectionLength = "";
    var charts = "";
    var chartdata = "";
    var data1 = "";
    var calls = "";
    var ecalls = "";
    var part_app = 0;
    var overview = 0;
    var all_apps = 0;
    var app_apps_booleanVal = 0;
    var count = 0;
    var collection_data;
    var sID_drop_HostIP;
    var newdropdowndata;
    var clickedAppName;
    var hostNameDropdown;
    var getappname;
    var id_selecetedApp_Tab_overview=0;
    
    require(["splunkjs/ready!", "splunkjs/mvc/chartview", "jquery", "splunkjs/mvc/radiogroupview"], function (mvc) {
        
        app_apps_booleanVal = 1;
        all_apps = 1;

//        ****************************************Start : Create Search Instances****************************************************
        var sID_radio_leftListOfApps = mvc.Components.getInstance("mID_radio_leftListOfApps");
        var sID_table_All_highestUserImage = mvc.Components.getInstance("mID_table_All_highestUserImage");
        var sID_chart_All_sessionLatency = mvc.Components.getInstance("mID_chart_All_sessionLatency");
        var sID_chart_AllServerRespTime = mvc.Components.getInstance("mID_chart_AllServerRespTime");
        var sID_table_All_Highest_launchTime = mvc.Components.getInstance("mID_table_All_Highest_launchTime");
        var sID_chart_Selected_serverRespTime = mvc.Components.getInstance("mID_chart_Selected_serverRespTime");
        var ID_dropDown_hostByIp = mvc.Components.getInstance("id_drop_HostIP");
        var tab_sum = mvc.Components.getInstance("summary");
        var cpu_chart = mvc.Components.getInstance("search_app_cpu");
        var mem_chart = mvc.Components.getInstance("usertable_mem");
        var sID_dropDown_userIP = mvc.Components.getInstance("mID_dropDown_userIP");
        var ssID_dropDown_userIP = mvc.Components.getInstance("id_dropDown_userIP");
        var id_id_radio_group_Left = mvc.Components.getInstance("id_radio_group_Left");
        var sID_chart_user_memory = mvc.Components.getInstance("mID_chart_user_memory");
        var sID_chart_selectedUser_cpu = mvc.Components.getInstance("mID_chart_selectedUser_cpu");
        var process = mvc.Components.getInstance("search_process");
        var search_ses = mvc.Components.getInstance("search_ses");
        var sID_chart_selectedApp_AlarmCount = mvc.Components.getInstance("mID_chart_selectedApp_AlarmCount");
        var sID_table_selectedApp_AlarmCount = mvc.Components.getInstance("mID_table_selectedApp_AlarmCount");
        var search_user = mvc.Components.getInstance("search_user_tab");
        var sID_chart_user_sessionLatency = mvc.Components.getInstance("mID_chart_user_sessionLatency");
        var sID_single_AppRespTime = mvc.Components.getInstance("mID_single_AppRespTime");
        var single_user = mvc.Components.getInstance("search_appUsers");
        var single_alarm = mvc.Components.getInstance("search_appAlerts");
        var timerange1 = mvc.Components.getInstance("timerange");
        var sID_table_All_Alarms = mvc.Components.getInstance("id_table_All_Alarms");
        var sID_chart_allAlarms = mvc.Components.getInstance("mID_chart_allAlarms");
        var sID_table_AllUsersTab_users = mvc.Components.getInstance("mID_table_AllUsersTab_users");
        var sID_chart_AllUsersTab_users = mvc.Components.getInstance("mID_chart_AllUsersTab_users");
        var sID_table_TopologyID = mvc.Components.getInstance("mID_table_TopologyID");
        var sID_getappname = mvc.Components.getInstance("mID_getappname");
        getappname = sID_getappname.data("preview", {count: 0, offset: 0});
        sID_drop_HostIP = mvc.Components.getInstance("mID_drop_HostIP");
        newdropdowndata = sID_drop_HostIP.data("preview", {count: 0, offset: 0});
//        ****************************************END : Create Search Instances****************************************************

  //        ****************************************Start : Default Start Search ****************************************************
        sID_radio_leftListOfApps.search.set(timerange1.val());
        sID_radio_leftListOfApps.startSearch();
        sID_chart_AllServerRespTime.search.set(timerange1.val());
        sID_chart_AllServerRespTime.startSearch();
        sID_table_All_highestUserImage.search.set(timerange1.val());
        sID_table_All_highestUserImage.startSearch();
        sID_chart_All_sessionLatency.search.set(timerange1.val());
        sID_chart_All_sessionLatency.startSearch();
        sID_table_All_Highest_launchTime.search.set(timerange1.val());
        sID_table_All_Highest_launchTime.startSearch();
        sID_chart_Selected_serverRespTime.search.set(timerange1.val());
        sID_chart_Selected_serverRespTime.startSearch();
        tab_sum.search.set(timerange1.val());
        tab_sum.startSearch();
//        ****************************************Start : Default Start Search ******************************************************



 /***************************************START :  tabs highlighed when clicked******************************************/

        jQuery(document).ready(function () {
            jQuery('.tabs .classID_ul_FourTab-links a').on('click', function (e) {
                var currentAttrValue = jQuery(this).attr('href');
                 if (currentAttrValue != "#tab4") {
                    // Show/Hide Tabs
                    jQuery('.tabs ' + currentAttrValue).show().siblings().hide();
                    // Change/remove current tab to active
                    jQuery(this).parent('li').addClass('active').siblings().removeClass('active');
                    e.preventDefault();
                }
                // Show/Hide Tabs
//                jQuery('.tabs ' + currentAttrValue).show().siblings().hide();
//                // Change/remove current tab to active
//                jQuery(this).parent('li').addClass('active').siblings().removeClass('active');
//                e.preventDefault();
            });
            jQuery('.tabs1 .classID_ul_ThreeTab-links1 a').on('click', function (e) {
                var currentAttrValue = jQuery(this).attr('href');
                // Show/Hide Tabs
                jQuery('.tabs1 ' + currentAttrValue).show().siblings().hide();
                // Change/remove current tab to active
                jQuery(this).parent('li').addClass('classID_ThreeTabs').siblings().removeClass('classID_ThreeTabs');
                e.preventDefault();
            });

            jQuery('.tabs11 .tab-links11 a').on('click', function (e) {
                var currentAttrValue = jQuery(this).attr('href');
                // Show/Hide Tabs
                jQuery('.tabs11 ' + currentAttrValue).show().siblings().hide();
                // Change/remove current tab to active
                jQuery(this).parent('li').addClass('active11').siblings().removeClass('active11');
                e.preventDefault();
            });
        });
        
   /***************************************END :  tabs highlighed when clicked******************************************/  
   
   
    /** -----------------START : If We Select All Applns [OR] Particular Appln to displaying logic below we have written.--- **/
   id_id_radio_group_Left.settings.set("choices", [
            {value: "*", label: "Remote Desktops"}
        ]);
        id_id_radio_group_Left.on("change", function () {
            jQuery('#overview1').addClass('classID_ThreeTabs').siblings().removeClass('classID_ThreeTabs');

            if (id_id_radio_group_Left.val() == "*") {
                $('#id_radio_group_Left0').removeAttr('disabled');
                all_apps = 1;
                app_apps_booleanVal = 1;
                sID_table_All_highestUserImage.search.set(timerange1.val());
                sID_table_All_highestUserImage.startSearch();
                sID_chart_All_sessionLatency.search.set(timerange1.val());
                sID_chart_All_sessionLatency.startSearch();
                sID_chart_AllServerRespTime.search.set(timerange1.val());
                sID_chart_AllServerRespTime.startSearch();
                sID_table_All_Highest_launchTime.search.set(timerange1.val());
                sID_table_All_Highest_launchTime.startSearch();
//                sID_chart_Selected_serverRespTime.search.set(timerange1.val());
//                sID_chart_Selected_serverRespTime.startSearch();
                tab_sum.search.set(timerange1.val());
                tab_sum.startSearch();
                document.getElementById("high_user_cpu_mem").style.display = "block";
                document.getElementById("all_overview_chart").style.display = "block";
                document.getElementById("container1").style.display = "block";
                document.getElementById("container").style.display = "none";
                document.getElementById("click_part_app").style.display = "none";
                document.getElementById("cpumemutil").style.display = "none";
                document.getElementById("cpuutil").style.display = "none";
                document.getElementById("memutil").style.display = "none";
                document.getElementById("click_app_overview").style.display = "none";
                document.getElementById("firstsummaryscreen").style.display = "block";
                document.getElementById("dropappuser").style.display = "none";
                document.getElementById("usersescpu").style.display = "none";
                document.getElementById("userlat").style.display = "none";
                document.getElementById("usrcpu").style.display = "none";
                document.getElementById("sesprocess").style.display = "none";
                document.getElementById("process").style.display = "none";
                document.getElementById("session").style.display = "block";
                document.getElementById("Alarmscreen").style.display = "none";
                document.getElementById("Alarmtable").style.display = "none";
                document.getElementById("alarmtable").style.display = "none";
                document.getElementById("time").style.display = "block";
                document.getElementById("appname").style.display = "none";
                document.getElementById("time").style.display = "block";
                document.getElementById("allapps").style.display = "block";
                document.getElementById("usertable").style.display = "none";
                document.getElementById("userestime").style.display = "none";
                document.getElementById("alram_all_overview").style.display = "none";
                document.getElementById("users_all_overview").style.display = "none";
                document.getElementById("singledropdownvalue").style.display = "none";
                document.getElementById("newdrop").style.display = "none";
                document.getElementById("host").style.display = "none";
            } else {
                
                ssID_dropDown_userIP.val("*");
                id_selecetedApp_Tab_overview=1;
                part_app = 1;
                overview = 1;
                ID_dropDown_hostByIp.val($('#hostNameDropdown').html());
                jQuery('#overview').addClass('active').siblings().removeClass('active');
                
                sID_drop_HostIP.search.set(timerange1.val());
                sID_drop_HostIP.startSearch();
                setDefaultDropdownVal();
                setDropdownVal();
                sID_getappname.search.set(timerange1.val());
                sID_getappname.startSearch();
                tab_sum.search.set(timerange1.val());
                tab_sum.startSearch();

                sID_table_TopologyID.search.set(timerange1.val());
                sID_table_TopologyID.startSearch();
           

                $("#appname").text(id_id_radio_group_Left.val());
                
                document.getElementById("high_user_cpu_mem").style.display = "none";
                document.getElementById("all_overview_chart").style.display = "none";
                document.getElementById("container").style.display = "block";
                document.getElementById("container1").style.display = "none";
                document.getElementById("click_part_app").style.display = "block";
                document.getElementById("cpumemutil").style.display = "block";
                document.getElementById("cpuutil").style.display = "block";
                document.getElementById("memutil").style.display = "block";
                document.getElementById("click_app_overview").style.display = "block";
                document.getElementById("dropappuser").style.display = "none";
//                usersescpu
                document.getElementById("usersescpu").style.display = "none";
                document.getElementById("userlat").style.display = "none";
                document.getElementById("usrcpu").style.display = "none";
                document.getElementById("sesprocess").style.display = "none";
                document.getElementById("process").style.display = "none";
                document.getElementById("session").style.display = "block";
                document.getElementById("Alarmscreen").style.display = "none";
                document.getElementById("alarmchart").style.display = "none";
                document.getElementById("Alarmtable").style.display = "none";
                document.getElementById("alarmtable").style.display = "none";
                document.getElementById("time").style.display = "block";
                document.getElementById("appname").style.display = "block";
                document.getElementById("allapps").style.display = "none";
                document.getElementById("usertable").style.display = "none";
                document.getElementById("userestime").style.display = "none";
                document.getElementById("single_resTime_calls_users_alarm").style.display = "block";
                document.getElementById("alram_all_overview").style.display = "none";
                document.getElementById("users_all_overview").style.display = "none";

                $("#overview").click(function () {
                    id_selecetedApp_Tab_overview=1;
                    ssID_dropDown_userIP.val("*");
                    overview = 1;
                    tab_sum.search.set(timerange1.val());
                    tab_sum.startSearch();
                  
                    sID_table_TopologyID.search.set(timerange1.val());
                    sID_table_TopologyID.startSearch();
                    overviewSearches();
                    document.getElementById("high_user_cpu_mem").style.display = "none";
                    document.getElementById("all_overview_chart").style.display = "none";
                    document.getElementById("container").style.display = "block";
                    document.getElementById("click_part_app").style.display = "block";
                    document.getElementById("cpumemutil").style.display = "block";
                    document.getElementById("cpuutil").style.display = "block";
                    document.getElementById("memutil").style.display = "block";
                    document.getElementById("click_app_overview").style.display = "block";
                    document.getElementById("dropappuser").style.display = "none";
                    document.getElementById("usersescpu").style.display = "none";
                    document.getElementById("userlat").style.display = "none";
                    document.getElementById("usrcpu").style.display = "none";
                    document.getElementById("sesprocess").style.display = "none";
                    document.getElementById("process").style.display = "none";
                    document.getElementById("session").style.display = "block";
                    document.getElementById("Alarmscreen").style.display = "none";
                    document.getElementById("alarmchart").style.display = "none";
                    document.getElementById("Alarmtable").style.display = "none";
                    document.getElementById("alarmtable").style.display = "none";
                    document.getElementById("time").style.display = "block";
                    document.getElementById("appname").style.display = "block";
                    document.getElementById("allapps").style.display = "none";
                    document.getElementById("usertable").style.display = "none";
                    document.getElementById("userestime").style.display = "none";
                    document.getElementById("single_resTime_calls_users_alarm").style.display = "block";
                    document.getElementById("alram_all_overview").style.display = "none";
                    document.getElementById("users_all_overview").style.display = "none";
//                    document.getElementById("Activity").style.display = "none";
//                    document.getElementById("Activity1").style.display = "none";


                }); /**end of overview**/
                $("#alarm").click(function () {
                     id_selecetedApp_Tab_overview=2;
                    
                    ssID_dropDown_userIP.val("*");
                    overview = 2;

                   alarmSearches();

                    document.getElementById("Alarmscreen").style.display = "block";
                    document.getElementById("alarmchart").style.display = "block";
                    document.getElementById("Alarmtable").style.display = "block";
                    document.getElementById("alarmtable").style.display = "block";
                    document.getElementById("time").style.display = "block";
                    document.getElementById("appname").style.display = "block";
                    document.getElementById("container").style.display = "block";
                    document.getElementById("high_user_cpu_mem").style.display = "none";
                    document.getElementById("all_overview_chart").style.display = "none";
                    document.getElementById("click_part_app").style.display = "none";
                    document.getElementById("cpumemutil").style.display = "none";
                    document.getElementById("cpuutil").style.display = "none";
                    document.getElementById("memutil").style.display = "none";
                    document.getElementById("dropappuser").style.display = "none";
                    document.getElementById("usersescpu").style.display = "none";
                    document.getElementById("userlat").style.display = "none";
                    document.getElementById("usrcpu").style.display = "none";
                    document.getElementById("sesprocess").style.display = "none";
                    document.getElementById("process").style.display = "none";
                    document.getElementById("allapps").style.display = "none";
                    document.getElementById("usertable").style.display = "none";
                    document.getElementById("userestime").style.display = "none";
                    document.getElementById("single_resTime_calls_users_alarm").style.display = "none";
                    document.getElementById("alram_all_overview").style.display = "none";
                    document.getElementById("users_all_overview").style.display = "none";

                }); /**end of alarms**/


                $("#users").click(function () {
                     id_selecetedApp_Tab_overview=3;
                    overview = 3;
                    
                    ssID_dropDown_userIP.val("*");
                    
                    process.search.set(timerange1.val());
                    process.startSearch();
                    search_ses.search.set(timerange1.val());
                    search_ses.startSearch();
                    userSearches();
                    document.getElementById("container").style.display = "block";
                    document.getElementById("dropappuser").style.display = "block";
                    document.getElementById("usersescpu").style.display = "block";
                    document.getElementById("userlat").style.display = "block";
                    document.getElementById("usrcpu").style.display = "block";
                    document.getElementById("process").style.display = "block";
                    document.getElementById("time").style.display = "block";
                    document.getElementById("appname").style.display = "block";
                    document.getElementById("allapps").style.display = "none";
                    document.getElementById("usertable").style.display = "block";
                    document.getElementById("userestime").style.display = "block";
                    document.getElementById("Alarmscreen").style.display = "none";
                    document.getElementById("alarmchart").style.display = "none";
                    document.getElementById("high_user_cpu_mem").style.display = "none";
                    document.getElementById("all_overview_chart").style.display = "none";
                    document.getElementById("click_part_app").style.display = "none";
//                    document.getElementById("cpumcpuutilemutil").style.display = "none";
                    document.getElementById("cpuutil").style.display = "none";
                    document.getElementById("memutil").style.display = "none";
                    document.getElementById("sesprocess").style.display = "none";
                    document.getElementById("Alarmtable").style.display = "none";
                    document.getElementById("alarmtable").style.display = "none";
                    document.getElementById("single_resTime_calls_users_alarm").style.display = "none";
                    document.getElementById("alram_all_overview").style.display = "none";
                    document.getElementById("users_all_overview").style.display = "none";
                }); /**end of users**/
            }
        });

        $("#topologyd").click(function () {

            var idValue = $('#id_table_TopologyID tr td[data-cell-index="0"]').html();// id
            var appNameValue = $('#id_table_TopologyID tr td[data-cell-index="1"]').html();
            var hostName = $('#id_table_TopologyID tr td[data-cell-index="3"]').html();//IP
//            var radioidValue = $('#id_radio_group_Left').html();
//            clickedAppName = $('input:radio:checked').next('label:first').html()
            var urlValue = "http://" + hostName.trim() + "/RD/Topology/" + idValue.trim() + "/";
            
            //var urlValue = "https://demo.appensure.com:25000/RD/Topology/" + idValue.trim() + "/";
//                            http://    192.168.133.16       /RD/Topology/6825776851650006/
            
//            var urlValue = "https://demo.appensure.com:25000/aComm/SplunkAppEnsure.html?vale1=" + dataValue.trim() + "&vale2=" + dataValue1.trim() + "^val3=" + dataValue2.trim() + "";
            var win = window.open(urlValue, '_blank');
            win.focus();


        });
        
         $("#overview1").click(function () {
            app_apps_booleanVal = 1;
            sID_table_All_highestUserImage.search.set(timerange1.val());
            sID_table_All_highestUserImage.startSearch();
            sID_chart_All_sessionLatency.search.set(timerange1.val());
            sID_chart_All_sessionLatency.startSearch();
            sID_chart_AllServerRespTime.search.set(timerange1.val());
            sID_chart_AllServerRespTime.startSearch();
            sID_table_All_Highest_launchTime.search.set(timerange1.val());
            sID_table_All_Highest_launchTime.startSearch();
            sID_chart_Selected_serverRespTime.search.set(timerange1.val());
            sID_chart_Selected_serverRespTime.startSearch();
            tab_sum.search.set(timerange1.val());
            tab_sum.startSearch();

            document.getElementById("high_user_cpu_mem").style.display = "block";
            document.getElementById("all_overview_chart").style.display = "block";
            document.getElementById("time").style.display = "block";
            document.getElementById("allapps").style.display = "block";
            document.getElementById("firstsummaryscreen").style.display = "block";
            document.getElementById("session").style.display = "block";
            document.getElementById("time").style.display = "block";
            document.getElementById("container").style.display = "none";
            document.getElementById("click_part_app").style.display = "none";
            document.getElementById("cpumemutil").style.display = "none";
            document.getElementById("cpuutil").style.display = "none";
            document.getElementById("memutil").style.display = "none";
            document.getElementById("click_app_overview").style.display = "none";
            document.getElementById("dropappuser").style.display = "none";
            document.getElementById("usersescpu").style.display = "none";
            document.getElementById("userlat").style.display = "none";
            document.getElementById("usrcpu").style.display = "none";
            document.getElementById("sesprocess").style.display = "none";
            document.getElementById("process").style.display = "none";
            document.getElementById("Alarmscreen").style.display = "none";
            document.getElementById("alarmchart").style.display = "none";
            document.getElementById("Alarmtable").style.display = "none";
            document.getElementById("alarmtable").style.display = "none";
            document.getElementById("appname").style.display = "none";
            document.getElementById("usertable").style.display = "none";
            document.getElementById("userestime").style.display = "none";
            document.getElementById("alram_all_overview").style.display = "none";
            document.getElementById("users_all_overview").style.display = "none";
            document.getElementById("newdrop").style.display = "none";
            document.getElementById("host").style.display = "none";

        });
        $("#alarm1").click(function () {
            app_apps_booleanVal = 2;

            sID_table_All_Alarms.search.set(timerange1.val());
            sID_table_All_Alarms.startSearch();
            sID_chart_allAlarms.search.set(timerange1.val());
            sID_chart_allAlarms.startSearch();

            document.getElementById("alram_all_overview").style.display = "block";
            document.getElementById("firstsummaryscreen").style.display = "block";
            document.getElementById("session").style.display = "block";
            document.getElementById("time").style.display = "block";
            document.getElementById("time").style.display = "block";
            document.getElementById("allapps").style.display = "block";
            document.getElementById("high_user_cpu_mem").style.display = "none";
            document.getElementById("all_overview_chart").style.display = "none";
            document.getElementById("users_all_overview").style.display = "none";

//            All elements are none
            document.getElementById("cpumemutil").style.display = "none";
            document.getElementById("cpuutil").style.display = "none";
            document.getElementById("memutil").style.display = "none";
            document.getElementById("click_app_overview").style.display = "none";
            document.getElementById("dropappuser").style.display = "none";
            document.getElementById("usersescpu").style.display = "none";
            document.getElementById("userlat").style.display = "none";
            document.getElementById("usrcpu").style.display = "none";
            document.getElementById("sesprocess").style.display = "none";
            document.getElementById("process").style.display = "none";
            document.getElementById("Alarmscreen").style.display = "none";
            document.getElementById("alarmchart").style.display = "none";
            document.getElementById("Alarmtable").style.display = "none";
            document.getElementById("alarmtable").style.display = "none";
            document.getElementById("appname").style.display = "none";
            document.getElementById("usertable").style.display = "none";
            document.getElementById("userestime").style.display = "none";
            document.getElementById("newdrop").style.display = "none";
            document.getElementById("host").style.display = "none";
        });

        $("#users1").click(function () {
            app_apps_booleanVal = 3;
            sID_table_AllUsersTab_users.search.set(timerange1.val());
            sID_table_AllUsersTab_users.startSearch();
            sID_chart_AllUsersTab_users.search.set(timerange1.val());
            sID_chart_AllUsersTab_users.startSearch();

            document.getElementById("high_user_cpu_mem").style.display = "none";
            document.getElementById("all_overview_chart").style.display = "none";
            document.getElementById("alram_all_overview").style.display = "none";
            document.getElementById("users_all_overview").style.display = "block";
            document.getElementById("cpumemutil").style.display = "none";
            document.getElementById("cpuutil").style.display = "none";
            document.getElementById("memutil").style.display = "none";

            //            All elements are none
            document.getElementById("cpumemutil").style.display = "none";
            document.getElementById("cpuutil").style.display = "none";
            document.getElementById("memutil").style.display = "none";
            document.getElementById("click_app_overview").style.display = "none";
            document.getElementById("firstsummaryscreen").style.display = "block";
            document.getElementById("dropappuser").style.display = "none";
            document.getElementById("usersescpu").style.display = "none";
            document.getElementById("userlat").style.display = "none";
            document.getElementById("usrcpu").style.display = "none";
            document.getElementById("sesprocess").style.display = "none";
            document.getElementById("process").style.display = "none";
            document.getElementById("session").style.display = "block";
            document.getElementById("Alarmscreen").style.display = "none";
            document.getElementById("alarmchart").style.display = "none";
            document.getElementById("Alarmtable").style.display = "none";
            document.getElementById("alarmtable").style.display = "none";
            document.getElementById("time").style.display = "block";
            document.getElementById("appname").style.display = "none";
            document.getElementById("time").style.display = "block";
            document.getElementById("allapps").style.display = "block";
            document.getElementById("usertable").style.display = "none";
            document.getElementById("userestime").style.display = "none";
            document.getElementById("newdrop").style.display = "none";
            document.getElementById("host").style.display = "none";
        });

        
     /** -----------------END : If We Select All Applns [OR] Particular Appln to displaying logic below we have written.--- **/
   
        
        ID_dropDown_hostByIp.settings.set("choices", [
        ]);
        
         ID_dropDown_hostByIp.on("change", function () {

            if (ID_dropDown_hostByIp.val() == "*") {
            } else {
                 
                 if(id_selecetedApp_Tab_overview==1){
                      overviewSearches();
                 }
                 if(id_selecetedApp_Tab_overview==2){
                      alarmSearches();
                 }
                 if(id_selecetedApp_Tab_overview==3){
                      userSearches();
                 }
                 
            }
            
            
       });  
        

        ssID_dropDown_userIP.settings.set("choices", [
            {value: "*", label: "All"}
        ]);
        ssID_dropDown_userIP.on("change", function () {
            if (ssID_dropDown_userIP.val() == "*") {
            }
            else {
                sID_chart_selectedUser_cpu.search.set(timerange1.val());
                sID_chart_selectedUser_cpu.startSearch();
                sID_chart_user_memory.search.set(timerange1.val());
                sID_chart_user_memory.startSearch();
                process.search.set(timerange1.val());
                process.startSearch();
                search_ses.search.set(timerange1.val());
                search_ses.startSearch();
                sID_chart_user_sessionLatency.search.set(timerange1.val());
                sID_chart_user_sessionLatency.startSearch();

                document.getElementById("usersescpu").style.display = "block";
                document.getElementById("userlat").style.display = "block";
                document.getElementById("usrcpu").style.display = "block";
                document.getElementById("sesprocess").style.display = "none";
                document.getElementById("process").style.display = "block";
                document.getElementById("session").style.display = "block";
                document.getElementById("userestime").style.display = "block";
            }
        });
        
               function overviewSearches(){
                    sID_chart_Selected_serverRespTime.search.set(timerange1.val());
                    sID_chart_Selected_serverRespTime.startSearch();
                    cpu_chart.search.set(timerange1.val());
                    cpu_chart.startSearch();
                    mem_chart.search.set(timerange1.val());
                    mem_chart.startSearch();
                    sID_single_AppRespTime.search.set(timerange1.val());
                    sID_single_AppRespTime.startSearch();
                    single_user.search.set(timerange1.val());
                    single_user.startSearch();
                    single_alarm.search.set(timerange1.val());
                    single_alarm.startSearch();
                    sID_table_TopologyID.search.set(timerange1.val());
                    sID_table_TopologyID.startSearch();
               }
               
               function alarmSearches(){
                    sID_chart_selectedApp_AlarmCount.search.set(timerange1.val());
                    sID_chart_selectedApp_AlarmCount.startSearch();
                    sID_table_selectedApp_AlarmCount.search.set(timerange1.val());
                    sID_table_selectedApp_AlarmCount.startSearch();
               }
               
               function userSearches(){
                    search_user.search.set(timerange1.val());
                    search_user.startSearch();
                    sID_dropDown_userIP.search.set(timerange1.val());
                    sID_dropDown_userIP.startSearch();
                    sID_chart_selectedUser_cpu.search.set(timerange1.val());
                    sID_chart_selectedUser_cpu.startSearch();
                    sID_chart_user_memory.search.set(timerange1.val());
                    sID_chart_user_memory.startSearch();
                    sID_chart_user_sessionLatency.search.set(timerange1.val());
                    sID_chart_user_sessionLatency.startSearch();
               }
               
      
        
        /** ----------Start searches: TimeRange ---------------------------------  **/
        timerange1.on("change", function () {
            if (part_app == 1) {
//                alert("part apps----------->"+part_app);
                cpu_chart.search.set(timerange1.val());
                cpu_chart.startSearch();
                mem_chart.search.set(timerange1.val());
                mem_chart.startSearch();
                sID_single_AppRespTime.search.set(timerange1.val());
                sID_single_AppRespTime.startSearch();
                single_user.search.set(timerange1.val());
                single_user.startSearch();
                single_alarm.search.set(timerange1.val());
                single_alarm.startSearch();
                sID_drop_HostIP.search.set(timerange1.val());
                sID_drop_HostIP.startSearch();
                setDefaultDropdownVal();
                setDropdownVal();
                sID_getappname.search.set(timerange1.val());
                sID_getappname.startSearch();
                sID_radio_leftListOfApps.search.set(timerange1.val());
                sID_radio_leftListOfApps.startSearch()

                if (overview == 1) {
                    sID_table_All_highestUserImage.search.set(timerange1.val());
                    sID_table_All_highestUserImage.startSearch();
                    sID_chart_All_sessionLatency.search.set(timerange1.val());
                    sID_chart_All_sessionLatency.startSearch();
                    sID_table_All_Highest_launchTime.search.set(timerange1.val());
                    sID_table_All_Highest_launchTime.startSearch();
                    sID_chart_Selected_serverRespTime.search.set(timerange1.val());
                    sID_chart_Selected_serverRespTime.startSearch();
                    tab_sum.search.set(timerange1.val());
                    tab_sum.startSearch();
                    cpu_chart.search.set(timerange1.val());
                    cpu_chart.startSearch();
                    mem_chart.search.set(timerange1.val());
                    mem_chart.startSearch();
                    sID_single_AppRespTime.search.set(timerange1.val());
                    sID_single_AppRespTime.startSearch();
                    single_user.search.set(timerange1.val());
                    single_user.startSearch();
                    single_alarm.search.set(timerange1.val());
                    single_alarm.startSearch();
                    sID_radio_leftListOfApps.search.set(timerange1.val());
                    sID_radio_leftListOfApps.startSearch();
                }
                if (overview == 2) {
//                    console.log("in Part_app Alarms   start searches for part_app" + overview);
                    sID_chart_selectedApp_AlarmCount.search.set(timerange1.val());
                    sID_chart_selectedApp_AlarmCount.startSearch();
                    sID_table_selectedApp_AlarmCount.search.set(timerange1.val());
                    sID_table_selectedApp_AlarmCount.startSearch();
                }
                if (overview == 3) {
//                    console.log("in Part_app Users   start searches for part_app" + overview);
                    sID_table_All_highestUserImage.search.set(timerange1.val());
                    sID_table_All_highestUserImage.startSearch();
                    sID_chart_All_sessionLatency.search.set(timerange1.val());
                    sID_chart_All_sessionLatency.startSearch();
                    sID_chart_user_memory.search.set(timerange1.val());
                    sID_chart_user_memory.startSearch();
                    sID_chart_selectedUser_cpu.search.set(timerange1.val());
                    sID_chart_selectedUser_cpu.startSearch();
                    process.search.set(timerange1.val());
                    process.startSearch();
                    search_ses.search.set(timerange1.val());
                    search_ses.startSearch();
                    search_user.search.set(timerange1.val());
                    search_user.startSearch();
                    sID_dropDown_userIP.search.set(timerange1.val());
                    sID_dropDown_userIP.startSearch();
                    sID_chart_user_sessionLatency.search.set(timerange1.val());
                    sID_chart_user_sessionLatency.startSearch();
                }

                if (overview == 4) {
                    rdaimg.search.set(timerange1.val());
                    rdaimg.startSearch();
                    rdacpu.search.set(timerange1.val());
                    rdacpu.startSearch();
                }
            }

            if (all_apps == 1) {
//                console.log("all apps-------------->");
                sID_table_All_highestUserImage.search.set(timerange1.val());
                sID_table_All_highestUserImage.startSearch();
                sID_chart_All_sessionLatency.search.set(timerange1.val());
                sID_chart_All_sessionLatency.startSearch();
                sID_chart_AllServerRespTime.search.set(timerange1.val());
                sID_chart_AllServerRespTime.startSearch();
                sID_table_All_Highest_launchTime.search.set(timerange1.val());
                sID_table_All_Highest_launchTime.startSearch();
                sID_chart_Selected_serverRespTime.search.set(timerange1.val());
                sID_chart_Selected_serverRespTime.startSearch();
                tab_sum.search.set(timerange1.val());
                tab_sum.startSearch();
                sID_radio_leftListOfApps.search.set(timerange1.val());
                sID_radio_leftListOfApps.startSearch();

                if (app_apps_booleanVal == 1) {
                    sID_table_All_highestUserImage.search.set(timerange1.val());
                    sID_table_All_highestUserImage.startSearch();
                    sID_chart_All_sessionLatency.search.set(timerange1.val());
                    sID_chart_All_sessionLatency.startSearch();
                    sID_chart_AllServerRespTime.search.set(timerange1.val());
                    sID_chart_AllServerRespTime.startSearch();
                    sID_table_All_Highest_launchTime.search.set(timerange1.val());
                    sID_table_All_Highest_launchTime.startSearch();
                    sID_chart_Selected_serverRespTime.search.set(timerange1.val());
                    sID_chart_Selected_serverRespTime.startSearch();
                    tab_sum.search.set(timerange1.val());
                    tab_sum.startSearch();
                }
                if (app_apps_booleanVal == 2) {
//                    console.log("in all_apps All Alarms   start searches for part_app" + app_apps_booleanVal);
                    sID_table_All_Alarms.search.set(timerange1.val());
                    sID_table_All_Alarms.startSearch();
                    sID_chart_allAlarms.search.set(timerange1.val());
                    sID_chart_allAlarms.startSearch();
                }
                if (app_apps_booleanVal == 3) {
//                    alert("in all_apps All Users   start searches for part_app" + app_apps_booleanVal);
                    sID_table_AllUsersTab_users.search.set(timerange1.val());
                    sID_table_AllUsersTab_users.startSearch();
                    sID_chart_AllUsersTab_users.search.set(timerange1.val());
                    sID_chart_AllUsersTab_users.startSearch();
                }
            }
        });
        
        /** ----------END searches: TimeRange ---------------------------------  **/


        splunkjs.mvc.Components.getInstance('id_chart_AllServerRespTime').settings.set({
            "charting.axisTitleX.text": "Servers",
            "charting.axisTitleY.text": "Response Time (ms)",
            "charting.seriesColors": "[0x6CB8CA]",
            "charting.legend.placement": 'none',
            "charting.legend.placement": "none"
        });

        splunkjs.mvc.Components.getInstance('user_info').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.seriesColors": "[0x6CB8CA]",
            "charting.legend.placement": "none"
        });

        splunkjs.mvc.Components.getInstance('id_chart_allAlarms').settings.set({
            "charting.axisTitleX.text": "Applications",
            "charting.axisTitleY.text": "Alarms",
            "charting.seriesColors": "[0xFC6A6A]",
            "charting.legend.placement": "none"
        });

        splunkjs.mvc.Components.getInstance('id_chart_AllUsersTab_users').settings.set({
            "charting.axisTitleX.text": "Applications",
            "charting.axisTitleY.text": "Users",
            "charting.seriesColors": "[0x956E96]",
            "charting.legend.placement": "none"
        });

        splunkjs.mvc.Components.getInstance('chart_particularApp_resource_calls').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.axisTitleY.text": "Memory (MB)",
            "charting.seriesColors": "[0x6B8930]",
            "charting.legend.placement": "none"


        });

        splunkjs.mvc.Components.getInstance('chart_particularApp_resource').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.axisTitleY.text": "CPU (%)",
            "charting.seriesColors": "[0x6B8930]",
            "charting.legend.placement": "none"
        });



        splunkjs.mvc.Components.getInstance('id_chart_Selected_serverRespTime').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.seriesColors": "[0x6CB8CA]", //blue color
            "charting.legend.placement": "none"
        });


        splunkjs.mvc.Components.getInstance('id_chart_selectedUser_cpu').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.axisTitleY.text": "CPU (%)",
            "charting.seriesColors": "[0x6B8930]",
            "charting.legend.placement": "none"
        });

        splunkjs.mvc.Components.getInstance('chart_particularApp_resource11').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.axisTitleY.text": "Memory (MB)",
            "charting.seriesColors": "[0x6B8930]",
            "charting.legend.placement": "none"
        });


        splunkjs.mvc.Components.getInstance('user_res_time').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.axisTitleY.text": "Session Latency (ms)",
            "charting.seriesColors": "[0xD85E3D]",
            "charting.legend.placement": "none"
        });
        
           splunkjs.mvc.Components.getInstance('alarm_chart').settings.set({
            "charting.axisTitleX.text": "Time",
            "charting.axisTitleY.text": "Alarms",
            "charting.seriesColors": "[0xFC6A6A]",
            "charting.legend.placement": "none"
        });
        
        

       
        
        
        /**
         * setDefaultDropdownVal()- set singledropdownvalue, appname default value
         * @returns {undefined}
         */

        function setDefaultDropdownVal() {
//            console.log("defalut val")
            $("#singledropdownvalue").text("--");
            $("#appname").text("--");
            document.getElementById("newdrop").style.display = "none";
            document.getElementById("host").style.display = "none";
            document.getElementById("singledropdownvalue").style.display = "block";
        }

        /**
         * setDropdownVal()- set the dropdown value accordingly and set appname text
         * @returns {undefined}
         */
        function setDropdownVal() {

            getappname.on("data", function () {
                app_data = getappname.data();
                $("#appname").text(app_data.rows[0][0]);
            });

            newdropdowndata.on("data", function () {

                count = newdropdowndata.collection().length;
                collection_data = newdropdowndata.data();
                hostNameDropdown = collection_data.rows[0][0];


                if (count == 1) {
//                        console.log("value is single  :"+collection_data.rows[0][0])
                    $("#singledropdownvalue").text("Host:" + collection_data.rows[0][0]);
                    document.getElementById("newdrop").style.display = "none";
                    document.getElementById("host").style.display = "none";
                    document.getElementById("singledropdownvalue").style.display = "block";
                } else
                {
//                console.log("multiple values " + count)
                    document.getElementById("newdrop").style.display = "block";
                    document.getElementById("host").style.display = "block";
                    document.getElementById("singledropdownvalue").style.display = "none";
                }

            });
        }


    }); /** end of require() **/
    
    
     /**initialPopup()- displays at starting of page**/
 
    function initialPopup() {
        $(".overlay").show();
        $("#popup").show('popup', null, null, {'screenColor': 'red', 'screenOpacity': .1});
        return false;
        $(".overlay").hide();
    }

    /**funcFreeRegistrationClosePopup()- this will redirects to address in other tab and closes the popup**/

    function  funcFreeRegistrationClosePopup() {
       var win = window.open("http://www.appensure.com/free-registration/");
        win.focus();
        $(".overlay").hide();
        $("#popup").hide("slow");
    }

    /**funcEvalRegistrationClosePopup()-this will redirects to address in other tab and closes the popup**/

       function  funcEvalRegistrationClosePopup() {
        var win = window.open("http://www.appensure.com/eval-registration/");
        win.focus();
        $(".overlay").hide();
        $("#popup").hide("slow");
    }

    /**functoCloseall()- This will close the popup**/

    function  functoCloseall() {
        $("#popup").hide("slow");
        $(".overlay").hide();
    }

    
    
    
    

</script>



{% endblock js %}
