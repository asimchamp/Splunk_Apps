<form>
  <label>Special Numbers</label>
  <fieldset submitButton="false" autoRun="true">
    <input type="time" token="field1" searchWhenChanged="true">
      <label>Period of analysis</label>
      <default>
        <earliest>@w0</earliest>
        <latest>now</latest>
      </default>
    </input>
    <input type="dropdown" token="TimeWindow">
      <label>Time Window</label>
      <choice value="&quot;&quot;">All Time</choice>
      <choice value="`TimeWindow_WorkingDays`">Working Days</choice>
      <choice value="`TimeWindow_DayClosed`">Closed Days</choice>
      <choice value="`TimeWindow_Weekend`">Weekend</choice>
      <choice value="`TimeWindow_NightTime`">Night Time</choice>
      <choice value="`TimeWindow_Lunch`">Lunch</choice>
      <default>""</default>
      <initialValue>""</initialValue>
    </input>
    <input type="text" token="Token_Party1Name" searchWhenChanged="true">
      <label>User Name</label>
      <default>*</default>
    </input>
    <input type="text" token="Token_Called">
      <label>Called Number</label>
      <default>*</default>
    </input>
  </fieldset>
  <row>
    <panel>
      <table>
        <title>International Call Numbers</title>
        <search>
          <query>`sourcelog`
`UserFilter`
AVAYA_Called_Number_2Digit=00
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
| lookup AVAYA_International_Prefix_US.csv AVAYA_Called_Number OUTPUTNEW Country
 `US_DetailCall_RENAME`
| table Date "Call Start"  "User" "Called Number" "Country" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="Country">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Emergency Numbers 911</title>
        <search>
          <query>`sourcelog`
AVAYA_Dialled_Number="911"
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
 `US_DetailCall_RENAME`
 | table Date "Call Start"  "User" "Called Number" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Call Numbers 08xxxxxxxx</title>
        <search>
          <query>`sourcelog`
`UserFilter`
AVAYA_Called_Number_2Digit=08
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
| lookup AVAYA_Special_Call_Number_US.csv AVAYA_Dialled_Number OUTPUTNEW Expensive_Prefix
| rename Expensive_Prefix AS "Pricing"
| rename AVAYA_Called_Number_10Digit AS "08xxxxxxxx Number"
| rename AVAYA_Called_Number_10DigitEnd AS "DTMF Code"
 `US_DetailCall_RENAME`
| table Date "Call Start"  "User" "08xxxxxxxx Number" "DTMF Code" "Pricing" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Call Numbers 3xxx</title>
        <search>
          <query>`sourcelog`
`UserFilter`
AVAYA_Called_Number_2Digit!=33
AVAYA_Dialled_Number&lt;4000
AVAYA_Dialled_Number&gt;2999
AVAYA_Is_Internal=0 AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
| lookup AVAYA_Special_Call_Number_US.csv AVAYA_Dialled_Number OUTPUTNEW Expensive_Prefix
| rename Expensive_Prefix AS "Pricing"
| rename AVAYA_Called_Number_4Digit AS "3xxx Number"
| rename AVAYA_Called_Number_4DigitEnd AS "DTMF Code"
 `US_DetailCall_RENAME`
| table Date "Call Start"  "User" "3xxx Number" "DTMF Code" "Pricing" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Call Numbers 10xx</title>
        <search>
          <query>`sourcelog`
`UserFilter`
AVAYA_Called_Number_2Digit=10
AVAYA_Dialled_Number&gt;999
AVAYA_Dialled_Number&lt;1100
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
| lookup AVAYA_Special_Call_Number_US.csv AVAYA_Dialled_Number OUTPUTNEW Expensive_Prefix
| rename Expensive_Prefix AS "Pricing"
| rename AVAYA_Called_Number_4Digit AS "10xx Number"
| rename AVAYA_Called_Number_6DigitEnd AS "DTMF Code"
 `US_DetailCall_RENAME`
| table Date "Call Start"  "User" "10xx Number" "DTMF Code" "Pricing" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Call Numbers - 116xxx</title>
        <search>
          <query>`sourcelog`
`UserFilter`
AVAYA_Called_Number_3Digit=116
AVAYA_Dialled_Number&gt;115999
AVAYA_Dialled_Number&lt;117000
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
| lookup AVAYA_Special_Call_Number_US.csv AVAYA_Dialled_Number OUTPUTNEW Expensive_Prefix
| rename Expensive_Prefix AS "Pricing"
| rename AVAYA_Called_Number_6Digit AS "116xxx Number"
| rename AVAYA_Called_Number_6DigitEnd AS "DTMF Code"
 `US_DetailCall_RENAME`
| table Date "Call Start"  "User" "116xxx Number"  "DTMF Code" "Pricing" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Call Numbers 118xxx</title>
        <search>
          <query>`sourcelog`
`UserFilter`
AVAYA_Dialled_Number&gt;117999
AVAYA_Dialled_Number&lt;119000
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
| lookup AVAYA_Special_Call_Number_US.csv AVAYA_Dialled_Number OUTPUTNEW Expensive_Prefix
| rename Expensive_Prefix AS "Pricing"
| rename AVAYA_Called_Number_6Digit AS "1180xxx Number"
| rename AVAYA_Called_Number_6DigitEnd AS "DTMF Code"
 `US_DetailCall_RENAME`
| table Date "Call Start"  "User" "1180xxx Number" "DTMF Code" "Pricing" "Call Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
</form>