<form>
  <label>Detailled Calls</label>
  <fieldset submitButton="false"></fieldset>
  <row>
    <panel>
      <input type="time" token="DetailCall" searchWhenChanged="true">
        <label>Epoch</label>
        <default>
          <earliest>@mon</earliest>
          <latest>now</latest>
        </default>
      </input>
      <input type="dropdown" token="TimeWindow">
        <label>Time Window</label>
        <choice value="&quot;&quot;">All Time</choice>
        <choice value="`TimeWindow_WorkingDays`">Working Days</choice>
        <choice value="`TimeWindow_DayClosed`">Closed Days</choice>
        <choice value="`TimeWindow_Weekend`">Weekend</choice>
        <choice value="`TimeWindow_NightTime`">Night Time</choice>
        <choice value="`TimeWindow_Lunch`">Lunch</choice>
        <default>""</default>
        <initialValue>""</initialValue>
      </input>
      <input type="text" token="Token_Call_ID" searchWhenChanged="true">
        <label>Call ID</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="dropdown" token="Token_Direction">
        <label>Calling Direction</label>
        <choice value="*">All</choice>
        <choice value="O0">Outgoing</choice>
        <choice value="I0">Incoming</choice>
        <choice value="O1">Internal</choice>
        <default>*</default>
      </input>
      <input type="text" token="Token_Caller" searchWhenChanged="true">
        <label>Caller Number</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_Called" searchWhenChanged="true">
        <label>Called Number</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_Dialled" searchWhenChanged="true">
        <label>Dialled Number</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_Device1" searchWhenChanged="true">
        <label>Device</label>
        <default>*</default>
      </input>
      <input type="text" searchWhenChanged="true" token="Token_Party1Name">
        <label>User</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_Device2" searchWhenChanged="true">
        <label>Device 2</label>
        <default>*</default>
        <initialValue>*</initialValue>
      </input>
      <input type="text" searchWhenChanged="true" token="Token_Party2Name">
        <label>User 2</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_External_Targeting_Cause" searchWhenChanged="true">
        <label>External Targeting Code</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_External_Targeter_Id" searchWhenChanged="true">
        <label>External Targeter Id</label>
        <default>*</default>
      </input>
      <input type="text" token="Token_External_Targeted_Number" searchWhenChanged="true">
        <label>External Targeted Number</label>
        <default>*</default>
      </input>
      <table>
        <title>Detailled Calls</title>
        <search>
          <query>`sourcelog`
AVAYA_Calling_Direction=$Token_Direction$   
AVAYA_External_Targeted_Number=$Token_External_Targeted_Number$
AVAYA_External_Targeter_Id=$Token_External_Targeter_Id$
AVAYA_External_Targeting_Cause=$Token_External_Targeting_Cause$
AVAYA_Caller=$Token_Caller$
AVAYA_Call_ID=$Token_Call_ID$
AVAYA_Dialled_Number=$Token_Dialled$
AVAYA_Called_Number=$Token_Called$
AVAYA_Party2Name=$Token_Party2Name$
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Party1Device=$Token_Device1$
AVAYA_Party2Device=$Token_Device2$
$TimeWindow$
| eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`Call_Global_Time`
`US_DetailCall_RENAME`
`US_DetailCall_Table`</query>
          <earliest>$DetailCall.earliest$</earliest>
          <latest>$DetailCall.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
      </table>
    </panel>
  </row>
</form>