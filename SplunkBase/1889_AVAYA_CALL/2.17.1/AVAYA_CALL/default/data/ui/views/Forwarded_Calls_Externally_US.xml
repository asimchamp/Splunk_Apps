<form>
  <label>Forwarded Calls Externally</label>
  <fieldset autoRun="true" submitButton="false">
    <input type="time" searchWhenChanged="true" token="field1">
      <label>Period of analysis</label>
      <default>
        <earliest>@w0</earliest>
        <latest>now</latest>
      </default>
    </input>
    <input type="dropdown" token="TimeWindow">
      <label>Time Window</label>
      <choice value="&quot;&quot;">All Time</choice>
      <choice value="`TimeWindow_WorkingDays`">Working Days</choice>
      <choice value="`TimeWindow_DayClosed`">Closed Days</choice>
      <choice value="`TimeWindow_Weekend`">Weekend</choice>
      <choice value="`TimeWindow_NightTime`">Night Time</choice>
      <choice value="`TimeWindow_Lunch`">Lunch</choice>
      <default>""</default>
      <initialValue>""</initialValue>
    </input>
    <input type="text" token="Token_Party1Name" searchWhenChanged="true">
      <label>User Name</label>
      <default>*</default>
    </input>
    <input type="text" token="Token_Caller" searchWhenChanged="true">
      <label>Caller Number</label>
      <default>*</default>
    </input>
    <input type="text" token="Token_Called" searchWhenChanged="true">
      <label>Called Number</label>
      <default>*</default>
    </input>
  </fieldset>
  <row>
    <panel>
      <table>
        <title>Forwarding Call</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
(AVAYA_External_Targeting_Cause="*fu" OR AVAYA_External_Targeting_Cause="*fb" OR AVAYA_External_Targeting_Cause="*fnr" OR AVAYA_External_Targeting_Cause="*fdnd")
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
| eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number" "Called Number" "User" "External Targeting Cause"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="External Targeting Cause">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Mobile Twinning</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
AVAYA_External_Targeting_Cause="*MT"
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
| eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number"  "Called Number" "User" "External Targeting Cause"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="User">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Teleworker</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
AVAYA_External_Targeting_Cause="*TW"
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
|  eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number" "Called Number" "User" "External Targeting Cause"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="External Targeting Cause">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Conference Call</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
(AVAYA_External_Targeting_Cause="*CfP" OR AVAYA_External_Targeting_Cause="*Cfd")
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
|  eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number" "Called Number" "User" "External Targeting Cause"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="Called Number">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Forwarding Call On demand</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
(AVAYA_External_Targeting_Cause="*XfP" OR AVAYA_External_Targeting_Cause="*Xfd")
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
|  eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number" "Called Number" "User" "External Targeting Cause"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="External Targeting Cause">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Hunt Group</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
AVAYA_External_Targeting_Cause="HG*"
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
| eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number" "Called Number" "User" "External Targeting Cause"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="Caller Number">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Detailed Others Forwarding Calls</title>
        <search>
          <query>`sourcelog`
AVAYA_Call_Duration!="00:00:00"
((AVAYA_External_Targeting_Cause="AA*") OR (AVAYA_External_Targeting_Cause="ICR*") OR (AVAYA_External_Targeting_Cause="RAS*") OR (AVAYA_External_Targeting_Cause="?*"))
AVAYA_Is_Internal=0
AVAYA_Direction=O
AVAYA_Party1Name=$Token_Party1Name$
AVAYA_Caller=$Token_Caller$
AVAYA_Called_Number=$Token_Called$
$TimeWindow$
`Call_Global_Time`
| rename CallTime_in_hhmmss AS "Global Time Duration"
| eval "Direction"=AVAYA_Direction."".AVAYA_Is_Internal
| lookup AVAYA_DirectionFusion_US.csv "Direction" OUTPUTNEW "Calling Direction"
| lookup AVAYA_Cause_US.csv "AVAYA_External_Targeting_Cause" OUTPUTNEW "External Targeting Cause"
`US_DetailCall_RENAME`
| table Date "Call Start" "Global Time Duration" "Caller Number" "Called Number" "User" "External Targeting Cause" "External Targeting Code"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="External Targeting Cause">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
</form>