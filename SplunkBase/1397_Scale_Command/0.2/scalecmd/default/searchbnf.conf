[scale-command]
syntax = scale (scale=<float> | field=<string>) pattern=<regex> [round=<int>] [inverse=t]
description = Replaces multiple calls to eval for transforming several fields from one unit to the other, such as byte to Megabyte. If round is set to r, fields will be rounded to 10^-r. If the inverse flag is set, fields will be multiplied by the scale instead of the default division.
shortdesc = Scales fields matching the pattern by a fixed scale or by a field value from each event.
example1 = ... | scale scale=1048576 pattern=byte round=0
comment1 = Converts fields matching the pattern "byte" to megabyte, rounding to whole MB.
example2 = ... | scale scale=60 pattern="^[^_]"
comment2 = Converts every numeric field not starting with an underscore, e.g. _time, from seconds to minutes.
example3 = ... | scale field=Total pattern="^sum" | scale scale=100 pattern="^sum" round=2 inverse=t
comment3 = Translates every field starting with "sum" into percentages of Total, rounded to two decimal places.
usage = public
maintainer = martin_mueller
appears-in = scalecmd
tags = scale field eval pattern wildcard
related = eval