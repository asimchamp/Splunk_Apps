<dashboard>
  <label>Serverclass Overview</label>
  <row>
    <panel>
      <single>
        <title>Unique Stanzas</title>
        <searchString>`ct_config_index` sourcetype=stash search_name="Config_Tracker: serverclass" | stats count by title | stats sum(count)</searchString>
        <earliestTime>-24h@h</earliestTime>
        <latestTime>now</latestTime>
        <option name="drilldown">none</option>
      </single>
    </panel>
    <panel>
      <table>
        <title>Top 5 Stanzas by Whitelist Count</title>
        <searchString>`ct_config_index` sourcetype=stash search_name="Config_Tracker: serverclass" | makemv whitelist | stats dc(whitelist) as whitelist by title | sort -whitelist | head 5 | rename title as Stanza whitelist as "Whitelist Count"</searchString>
        <earliestTime>-24h@h</earliestTime>
        <latestTime>now</latestTime>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">cell</option>
        <option name="count">10</option>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Stanzas with no Whitelist Items</title>
        <searchString>`ct_config_index` sourcetype=stash search_name="Config_Tracker: serverclass" | where whitelist="-" | table title | rename title as Stanza</searchString>
        <earliestTime>-24h@h</earliestTime>
        <latestTime>now</latestTime>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">cell</option>
        <option name="count">10</option>
      </table>
    </panel>
    <panel>
      <table>
        <title>Stanzas with no Apps defined</title>
        <searchString>`ct_config_index` sourcetype=stash search_name="Config_Tracker: serverclass" | where apps="-" | table title | rename title as Stanza</searchString>
        <earliestTime>-24h@h</earliestTime>
        <latestTime>now</latestTime>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>Apps called by more than 1 Stanza</title>
        <searchString>`ct_config_index` sourcetype=stash search_name="Config_Tracker: serverclass" | makemv apps | stats count values(title) as stanzas by apps | where count &gt; 1| sort -count | rename apps as Apps count as Stanzas stanzas as "Stanza List"</searchString>
        <earliestTime>-24h@h</earliestTime>
        <latestTime>now</latestTime>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">cell</option>
        <option name="count">10</option>
      </table>
    </panel>
  </row>
</dashboard>