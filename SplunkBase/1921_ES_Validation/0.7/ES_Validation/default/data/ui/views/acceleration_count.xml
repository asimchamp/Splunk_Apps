<form script="autodiscover.js">
  <label>Acceleration Count</label>
  <fieldset submitButton="true">
    <input type="time" token="time" searchWhenChanged="false">
      <label/>
      <default>
        <earliestTime>-60m@m</earliestTime>
        <latestTime>now</latestTime>
      </default>
    </input>
    <input type="dropdown" token="datamodel" searchWhenChanged="false">
      <label>Data Model</label>
      <populatingSearch earliest="-1s" latest="now" fieldForLabel="datamodel" fieldForValue="datamodel">| inputlookup sourcetype_datamodel_lookup
 | table datamodel</populatingSearch>
    </input>
    <input type="multiselect" token="sourcetype" searchWhenChanged="false">
      <label>Sourcetypes</label>
      <populatingSearch earliest="-1s" latest="now" fieldForLabel="sourcetypes" fieldForValue="sourcetypes">| inputlookup sourcetype_datamodel_lookup
| search datamodel = "$datamodel$"
| table sourcetypes</populatingSearch>
      <valuePrefix>sourcetype="</valuePrefix>
      <valueSuffix>"</valueSuffix>
      <delimiter> OR </delimiter>
      <choice value="*">- ALL -</choice>
      <default>*</default>
    </input>
  </fieldset>
  <row>
    <panel>
      <html>
      <div id="slider1" class="splunk-view" data-require="app/ES_Validation/components/slidepanel/slidepanelgroup" data-options="{           &quot;items&quot;: [&quot;panel1&quot;],           &quot;title&quot;: &quot;Instructions&quot;,           &quot;hide&quot;: &quot;yes&quot;     }"/>
    </html>
      <html id="panel1">
                
         <p>This dashboard is used to check the count of accelerated (summarized) events in datamodels.</p>
					<ul>
                       <li>Select a <b>data model</b>. Only accelerated data models with data will show. 
                           </li>            
                      <li>Select a <b>sourcetype</b>. Only sourcetypes pertaining to the selected data model will show.
                           </li>
                    </ul>
               
        <h3>Validate Validate Validate </h3>     
        
        <p>Questions to ask yourself while validating:</p>
        <ul>
                       <li>Is the acceleration process keeping up with the volume of data being summaried?
							<ul>
                               <li>Check the data models with the longest duration time form Data Model Audit View
                                 </li>
                         	   </ul>
                           </li>
                       <li>Are you seeing the right sourcetypes showing up in the data model?
                           </li>
                       <li>Does the volume of data per sourcetype seem too low or high?
                           </li>
                      <li>Do you see accelerated data from all indexers?
                           </li>
                       <li>Don't see your data? Increase the time. 
                      							<ul>
                         	   <li>If the volume is too much, accelerated data could be hours behind...
                                 </li>
                                </ul>
                           </li>                      
                    </ul>
      <p>* Run <a href="/manager/ES_Validation/saved/searches" target="_blank">Accelerated Sourcetypes and Datamodels</a> to update the drop down.</p>
	     
      </html>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Total Count</title>
        <searchString>| tstats summariesonly=t prestats=t count from datamodel=$datamodel$ where $sourcetype$ by _time | timechart count as $datamodel$</searchString>
        <earliestTime>$time.earliest$</earliestTime>
        <latestTime>$time.latest$</latestTime>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
    <panel>
      <table>
        <title>Total Count by Sourcetype</title>
        <searchString>| tstats summariesonly=t prestats=t count from datamodel=$datamodel$ where $sourcetype$ by sourcetype  | chart count by sourcetype | addcoltotals labelfield=sourcetype label=TOTAL</searchString>
        <earliestTime>$time.earliest$</earliestTime>
        <latestTime>$time.latest$</latestTime>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">bar</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">cell</option>
        <option name="count">10</option>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Count by Sourcetype</title>
        <searchString>| tstats summariesonly=t prestats=t count from datamodel=$datamodel$ where $sourcetype$ by _time sourcetype | timechart count by sourcetype</searchString>
        <earliestTime>$time.earliest$</earliestTime>
        <latestTime>$time.latest$</latestTime>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Count by Splunk Server (Indexer)</title>
        <searchString>| tstats summariesonly=t prestats=t count from datamodel=$datamodel$ where $sourcetype$ by _time splunk_server sourcetype | timechart count by splunk_server limit=50</searchString>
        <earliestTime>$time.earliest$</earliestTime>
        <latestTime>$time.latest$</latestTime>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">collapsed</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">log</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
  </row>
</form>