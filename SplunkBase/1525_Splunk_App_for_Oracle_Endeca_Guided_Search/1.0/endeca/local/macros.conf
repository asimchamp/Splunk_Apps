[dimensionValueRequestCount(1)]
args = dimensionValue
definition = index=endeca sourcetype="logserver_output" DIMENSION_VALUE="$dimensionValue$" | eval DIMENSION_VALUE = lower(DIMENSION_VALUE) | stats max(NUM_RECORDS) as numRecords BY SESSION_ID,DIMENSION_VALUE | stats count as dimensionValueRequestCount, avg(numRecords) as "avgRecordsReturned" by DIMENSION_VALUE | eval avgRecordsReturned = round(avgRecordsReturned,0)
iseval = 0

[dimensionValueRequestCount(2)]
args = dimensionValue, searchTerms
definition = index=endeca sourcetype="logserver_output" | eval DIMENSION_VALUE=if(isnull(DIMENSION_VALUE), "", DIMENSION_VALUE) | eval SEARCH_TERMS=if(isnull(SEARCH_TERMS), "", SEARCH_TERMS) | search DIMENSION_VALUE="$dimensionValue$" SEARCH_TERMS="$searchTerms$" | eval DIMENSION_VALUE = lower(DIMENSION_VALUE) | stats max(NUM_RECORDS) as numRecords BY SESSION_ID,DIMENSION_VALUE | where DIMENSION_VALUE!="" | stats count as dimensionValueRequestCount, avg(numRecords) as "avgRecordsReturned" by DIMENSION_VALUE | eval avgRecordsReturned = round(avgRecordsReturned,0)
iseval = 0

[searchTermRequestCount(1)]
args = searchTerm
definition = index=endeca sourcetype="logserver_output" SEARCH_TERMS="$searchTerm$" | eval SEARCH_TERMS = lower(SEARCH_TERMS) | stats max(NUM_RECORDS) as numRecords BY SESSION_ID,SEARCH_TERMS | stats count as searchTermRequestCount, avg(numRecords) as "avgRecordsReturned" by SEARCH_TERMS | eval avgRecordsReturned = round(avgRecordsReturned,0)
iseval = 0

[searchTermRequestCount(2)]
args = searchTerm, dimensionValue
definition = index=endeca sourcetype="logserver_output" | eval DIMENSION_VALUE=if(isnull(DIMENSION_VALUE), "", DIMENSION_VALUE) | eval SEARCH_TERMS=if(isnull(SEARCH_TERMS), "", SEARCH_TERMS) | search SEARCH_TERMS="$searchTerm$" DIMENSION_VALUE="$dimensionValue$" | eval SEARCH_TERMS = lower(SEARCH_TERMS) | stats max(NUM_RECORDS) as numRecords BY SESSION_ID,SEARCH_TERMS | where SEARCH_TERMS!="" | stats count as searchTermRequestCount, avg(numRecords) as "avgRecordsReturned" by SEARCH_TERMS | eval avgRecordsReturned = round(avgRecordsReturned,0)
iseval = 0
