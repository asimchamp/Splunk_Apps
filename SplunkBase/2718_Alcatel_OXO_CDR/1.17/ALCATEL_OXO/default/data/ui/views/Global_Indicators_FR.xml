<form>
  <label>Performance Globale</label>
  <fieldset submitButton="false">
    <input type="time" token="field1">
      <label>Période</label>
      <default>
        <earliestTime>@mon</earliestTime>
        <latestTime>now</latestTime>
      </default>
    </input>
  </fieldset>
  <row>
    <panel>
      <single>
        <title>% Appels Perdus pour les Appels entrants dans la période choisie - Exclus les appels avec une durée d'appel de 0 s et une durée de sonnerie inférieure à 2 s</title>
        <search>
          <query>`sourcelog` OXO_Direction="&lt;--"    OXO_Ring_Time!="00:00"  OXO_Ring_Time!="00:01"
OXO_Ring_Time!="00:02"
| stats count(eval(NOT match(OXO_Call_Duration, "00:00:00"))) AS call_good count(eval(match(OXO_Call_Duration, "00:00:00"))) AS call_lost
| eval ratio_call_lost=(call_lost/(call_good+call_lost))*100
| table ratio_call_lost</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="colorBy">value</option>
        <option name="colorMode">block</option>
        <option name="drilldown">none</option>
        <option name="numberPrecision">0.00</option>
        <option name="rangeColors">["0x65a637","0x6db7c6","0xf7bc38","0xf58f39","0xd93f3c"]</option>
        <option name="rangeValues">[10,15,20,30]</option>
        <option name="showSparkline">1</option>
        <option name="showTrendIndicator">1</option>
        <option name="trendColorInterpretation">standard</option>
        <option name="trendDisplayMode">absolute</option>
        <option name="unit">% Appels Perdus</option>
        <option name="unitPosition">after</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Nombre d'Appels Perdus pour la période choisie - Exclus les appels avec une durée d'appel de 0 s et une durée de sonnerie inférieure à 2 s</title>
        <search>
          <query>`sourcelog` OXO_Direction="&lt;--"
OXO_Ring_Time!="00:00"  OXO_Ring_Time!="00:01"
OXO_Ring_Time!="00:02"
| stats count(eval(match(OXO_Call_Duration, "00:00:00"))) AS call_lost
| table call_lost</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="rangeColors">["0x6db7c6","0xf7bc38"]</option>
        <option name="rangeValues">[10000]</option>
        <option name="unit">Appels Perdus</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Temps Moyen de Durée de Sonnerie</title>
        <search>
          <query>`sourcelog` 
OXO_Direction="&lt;--" 
OXO_User_Charged!=A360
OXO_User_Charged!=A379
OXO_User_Charged!=A377
| eval OXO_Unit=1
| eval OXO_RT="00".":".OXO_Ring_Time
| convert dur2sec(OXO_RT) AS OXO_Ring_Duration
| stats sum(OXO_Ring_Duration) AS Total_Ring_Duration, sum(OXO_Unit) as OXO_Count
| eval Average_Ring_Duration=Total_Ring_Duration/OXO_Count
| table  Average_Ring_Duration</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="rangeColors">["0x6db7c6","0xd93f3c"]</option>
        <option name="rangeValues">[1000]</option>
        <option name="unit">Secondes</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Total des Appels Emis et Reçus pour la période choisie</title>
        <search>
          <query>`sourcelog`  (OXO_Direction="--&gt;" OR (OXO_Direction="&lt;--" "OXO_Ring_Time"!="00:00"  "OXO_Ring_Time"!="00:01") )
| timechart count
| rename count AS  " Nombre d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.text">Jours du Mois</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
    <panel>
      <single>
        <title>Nombre Total d'Appels Emis et Reçus pour la période choisie</title>
        <search>
          <query>`sourcelog`       (OXO_Direction="--&gt;" OR (OXO_Direction="&lt;--" "OXO_Ring_Time"!="00:00"  "OXO_Ring_Time"!="00:01") ) 
| stats count | rename count AS  " Nombre d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="colorMode">none</option>
        <option name="rangeColors">["0x6db7c6","0xf7bc38"]</option>
        <option name="rangeValues">[10000]</option>
        <option name="unit">Appels Mixtes</option>
        <option name="unitPosition">after</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Durée Totale des Appels Emis et Reçus pour la période choisie</title>
        <search>
          <query>`sourcelog`  
(OXO_Direction="--&gt;" OR OXO_Direction="&lt;--")
OXO_Call_Duration!="00:00:00"
OXO_User_Charged!=A360
OXO_User_Charged!=A379
OXO_User_Charged!=A377
| `OXO_MACRO_Global_Duration`
| rename OXO_Duration_Hour AS "Durée Totale d'Appels"
| Table  "Durée Totale d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="colorMode">none</option>
        <option name="rangeColors">["0x6db7c6","0xd93f3c"]</option>
        <option name="rangeValues">[1000]</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Appels Externes Reçus pour la période choisie</title>
        <search>
          <query>`sourcelog` OXO_Direction="&lt;--" "OXO_Ring_Time"!="00:00"  "OXO_Ring_Time"!="00:01"
| timechart count
| rename count  AS "Nombre d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.text">Jours du Mois</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.text">Nombre d'Appels</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
    <panel>
      <single>
        <title>Nombre Total d'Appels Reçus pour la période choisie</title>
        <search>
          <query>`sourcelog` OXO_Direction="&lt;--"  "OXO_Ring_Time"!="00:00"  "OXO_Ring_Time"!="00:01"
| stats count
| rename count AS  " Nombre d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="rangeColors">["0x6db7c6","0xf7bc38"]</option>
        <option name="rangeValues">[10000]</option>
        <option name="unit">Appels Reçus</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Durée Totale d'Appels Reçus pour la période choisie</title>
        <search>
          <query>`sourcelog`  
OXO_Direction="&lt;--"
OXO_Call_Duration!="00:00:00"
OXO_User_Charged!=A360
OXO_User_Charged!=A379
OXO_User_Charged!=A377
| `OXO_MACRO_Global_Duration`
| rename OXO_Duration_Hour AS "Durée Totale d'Appels"
| Table  "Durée Totale d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Appels Emis vers l'Extérieur pour la période choisie</title>
        <search>
          <query>`sourcelog` OXO_Direction="--&gt;"
| timechart count
| rename count AS "Nombre d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.text">Jours du Mois</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.text">Nombre d'Appels</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">0</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
      </chart>
    </panel>
    <panel>
      <single>
        <title>Nombre Total d'Appels Emis pour la période choisie</title>
        <search>
          <query>`sourcelog` OXO_Direction="--&gt;"
| stats count
| rename count AS  " Nombre d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="rangeColors">["0x6db7c6","0xf7bc38"]</option>
        <option name="rangeValues">[10000]</option>
        <option name="unit">Appels Emis</option>
        <option name="useColors">1</option>
        <option name="useThousandSeparators">0</option>
      </single>
    </panel>
    <panel>
      <single>
        <title>Durée Totale d'Appels Emis pour la période choisie</title>
        <search>
          <query>`sourcelog`  
OXO_Direction="--&gt;"
OXO_Call_Duration!="00:00:00"
OXO_User_Charged!=A360
OXO_User_Charged!=A379
OXO_User_Charged!=A377
| `OXO_MACRO_Global_Duration`
| rename OXO_Duration_Hour AS "Durée Totale d'Appels"
| Table  "Durée Totale d'Appels"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
      </single>
    </panel>
  </row>
</form>
