<form>
  <label>User Performance</label>
  <fieldset submitButton="false" autoRun="true">
    <input type="time" token="field1" searchWhenChanged="true">
      <label>Period of Analysis</label>
      <default>
        <earliest>@w1</earliest>
        <latest>now</latest>
      </default>
    </input>
    <input type="text" token="Token_OXO_User_Name">
      <label>User Name + *</label>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <chart>
        <title>External Calls Received and Outgoing Calls for the selected period</title>
        <search>
          <query>`sourcelog`  
(OXO_Direction="&lt;--"  OR  OXO_Direction="--&gt;")
OXO_Call_Duration!="00:00:00"
OXO_User_Name=$Token_OXO_User_Name$
| timechart count
| rename count AS "Number of Calls"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.axisTitleX.text">Date</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.drilldown">none</option>
      </chart>
    </panel>
    <panel>
      <table>
        <title>TOP 50 - External Calls Received and Outgoing Calls for the selected period</title>
        <search>
          <query>`sourcelog`  
(OXO_Direction="--&gt;" OR OXO_Direction="&lt;--")
OXO_Call_Duration!="00:00:00"
OXO_User_Name=$Token_OXO_User_Name$  
| `OXO_MACRO_Padding`
| rename OXO_User_Name AS "User Name" 
| Top 50 "User Name" countfield="Number of Calls" percentfield="%"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="percentagesRow">false</option>
        <option name="totalsRow">true</option>
        <format type="number" field="percent">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Pourcentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="color" field="Nombre d'Appels">
          <colorPalette type="minMidMax" maxColor="#1E93C6" minColor="#FFFFFF"></colorPalette>
          <scale type="minMidMax"></scale>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="color" field="Number of Calls">
          <colorPalette type="minMidMax" maxColor="#1E93C6" minColor="#FFFFFF"></colorPalette>
          <scale type="minMidMax"></scale>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
        </format>
        <format type="number" field="%">
          <option name="precision">0</option>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Total Duration of External Calls Received and Issued for the selected period</title>
        <search>
          <query>`sourcelog`  
(OXO_Direction="--&gt;" OR OXO_Direction="&lt;--")
OXO_Call_Duration!="00:00:00"
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| `OXO_MACRO_Total_Duration`
| `US_DetailCall_RENAME`
| Table  "User Name" "Total Calls Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <format type="color" field="DurÃ©e Totale d'Appels">
          <colorPalette type="list">[#65A637,#6DB7C6,#F7BC38,#F58F39,#D93F3C]</colorPalette>
          <scale type="threshold">0,30,70,100</scale>
        </format>
        <format type="color" field="Nom Utilisateur">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="User Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>External Calls Received for the selected period</title>
        <search>
          <query>`sourcelog`  
OXO_Direction="&lt;--"  
OXO_Call_Duration!="00:00:00" 
OXO_User_Name=$Token_OXO_User_Name$
| timechart count
| rename count AS "  Number of Calls"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.axisTitleX.text">Date</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.drilldown">none</option>
        <option name="charting.layout.splitSeries">0</option>
      </chart>
    </panel>
    <panel>
      <table>
        <title>TOP 50 - External Calls Received for the selected period</title>
        <search>
          <query>`sourcelog`  
OXO_Direction="&lt;--"
OXO_Call_Duration!="00:00:00"    
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| rename OXO_User_Name AS "User Name" 
| Top 50 "User Name" countfield="Number of Calls" percentfield="%"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="totalsRow">true</option>
        <format type="number" field="percent">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Pourcentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="color" field="Nombre d'Appels">
          <colorPalette type="minMidMax" maxColor="#1E93C6" minColor="#FFFFFF"></colorPalette>
          <scale type="minMidMax"></scale>
        </format>
        <format type="color" field="Number of Calls">
          <colorPalette type="minMidMax" maxColor="#1E93C6" minColor="#FFFFFF"></colorPalette>
          <scale type="minMidMax"></scale>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
        </format>
        <format type="number" field="&#10;Percentage">
          <option name="precision">0</option>
        </format>
        <format type="number" field="%">
          <option name="precision">0</option>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Total Duration of External Calls Received for the selected period</title>
        <search>
          <query>`sourcelog`  
OXO_Direction="&lt;--"
OXO_Call_Duration!="00:00:00"
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| `OXO_MACRO_Total_Duration`
| `US_DetailCall_RENAME`
| Table  "User Name" "Total Calls Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <format type="color" field="Nom Utilisateur">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="User Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>Outgoing Calls for the selected period</title>
        <search>
          <query>`sourcelog`  
OXO_Direction="--&gt;"  
OXO_Call_Duration!="00:00:00"
OXO_User_Name=$Token_OXO_User_Name$
| timechart count
| rename count AS "Number of Calls"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.axisTitleX.text">Date</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.chart">column</option>
        <option name="charting.chart.showDataLabels">all</option>
        <option name="charting.drilldown">none</option>
      </chart>
    </panel>
    <panel>
      <table>
        <title>TOP 50 - Outgoing Calls for the selected period</title>
        <search>
          <query>`sourcelog`  (NOT OXO_Call_Duration="00:00:00") 
OXO_Direction="--&gt;"
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| rename OXO_User_Name AS "User Name" 
| Top 50 "User Name" countfield="Number of Calls" percentfield="%"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <option name="totalsRow">true</option>
        <format type="number" field="percent">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="color" field="OXO_User_Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="number" field="Pourcentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="color" field="Nombre d'Appels">
          <colorPalette type="minMidMax" maxColor="#1E93C6" minColor="#FFFFFF"></colorPalette>
          <scale type="minMidMax"></scale>
        </format>
        <format type="color" field="Number of Calls">
          <colorPalette type="minMidMax" maxColor="#1E93C6" minColor="#FFFFFF"></colorPalette>
          <scale type="minMidMax"></scale>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
          <option name="useThousandSeparators">false</option>
        </format>
        <format type="number" field="Percentage">
          <option name="precision">0</option>
        </format>
        <format type="number" field="%">
          <option name="precision">0</option>
        </format>
      </table>
    </panel>
    <panel>
      <table>
        <title>Total Duration of External Calls Issued for the selected period</title>
        <search>
          <query>`sourcelog`    
OXO_Direction="--&gt;"
OXO_Call_Duration!="00:00:00"
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| `OXO_MACRO_Total_Duration`
| `US_DetailCall_RENAME`
| Table  "User Name" "Total Calls Duration"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <format type="color" field="Nom Utilisateur">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="User Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <chart>
        <title>TOP 10 - Lost External Calls</title>
        <search>
          <query>`sourcelog` 
OXO_Direction="&lt;--"
OXO_Call_Duration="00:00:00"
OXO_Ring_Time!="00:00"  OXO_Ring_Time!="00:01"
OXO_Ring_Time!="00:02"
OXO_Ring_Time!="00:00" OXO_Ring_Time!="00:01"
| TOP 10 OXO_User_Name</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="charting.chart">pie</option>
        <option name="charting.drilldown">none</option>
      </chart>
    </panel>
    <panel>
      <table>
        <title>Lost External Calls</title>
        <search>
          <query>`sourcelog` OXO_Direction="&lt;--"
OXO_Call_Duration="00:00:00"  OXO_Ring_Time!="00:00"  OXO_Ring_Time!="00:01"
OXO_Ring_Time!="00:02"
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| `US_DetailCall_RENAME`
| sort -"Date"
| Table  "Date"   "Hour" "User Name" "Ring Duration"  "Dialled Number"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="drilldown">none</option>
        <format type="color" field="Nom Utilisateur">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="User Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
  <row>
    <panel>
      <table>
        <title>TOP 10 - Ring Time of External Calls Received</title>
        <search>
          <query>`sourcelog` 
OXO_Direction="&lt;--" 
OXO_User_Name=$Token_OXO_User_Name$
| `OXO_MACRO_Padding`
| `US_DetailCall_RENAME`
| sort -"Ring Duration"  
| Table  "Date"   "Hour" "User Name" "Ring Duration"  "Dialled Number"</query>
          <earliest>$field1.earliest$</earliest>
          <latest>$field1.latest$</latest>
        </search>
        <option name="count">10</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="rowNumbers">false</option>
        <option name="wrap">true</option>
        <format type="color" field="Nom Utilisateur">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
        <format type="color" field="User Name">
          <colorPalette type="sharedList"></colorPalette>
          <scale type="sharedCategory"></scale>
        </format>
      </table>
    </panel>
  </row>
</form>