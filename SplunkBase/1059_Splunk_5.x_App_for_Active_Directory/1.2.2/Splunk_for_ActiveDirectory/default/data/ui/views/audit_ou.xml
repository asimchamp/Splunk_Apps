<?xml version="1.0" encoding="UTF-8"?>
<view onUnloadCancelJob="True" template="dashboard.html">
	<label>OU Audit</label>
	<module name="AccountBar" layoutPanel="appHeader" />
	<module name="AppBar" layoutPanel="appHeader" />
	<module name="SideviewUtils" layoutPanel="appHeader" />

	<module name="Message" layoutPanel="messaging">
		<param name="filter">*</param>
		<param name="clearOnJobDispatch">False</param>
		<param name="maxSize">1</param>
	</module>

	<module name="TitleBar" layoutPanel="viewHeader"/>

	<module name="URLLoader" layoutPanel="panel_row1_col1">
		<module name="TimeRangePicker" layoutPanel="panel_row1_col1_grp1" autoRun="True">
			<param name="default">Last 60 minutes</param>
			<param name="searchWhenChanged">True</param>
			
			<module name="Search">
				<param name="search"><![CDATA[|`domain-dropdown`]]></param>
				<module name="Pulldown" layoutPanel="panel_row1_col1_grp2">
					<param name="name">nt_domain</param>
					<param name="label">Domain:</param>
					<param name="staticFieldsToDisplay"></param>
					<param name="searchFieldsToDisplay">
						<list>
							<param name="label">nt_domain</param>
							<param name="value">nt_domain</param>
						</list>
					</param>
					<module name="TextField" layoutPanel="panel_row1_col1_grp3">
						<param name="name">object</param>
						<param name="label">Organizational Unit Name:</param>
						
						<!-- R2C1 - LDAP Record -->
						<module name="Search" layoutPanel="panel_row2_col1">
							<param name="search"><![CDATA[|ldapsearch domain=$nt_domain$ search="(&(objectclass=organizationalUnit)(ou=$object$))"|rex field=gPLink max_match=10 "\[(?<gpoLink>[^\]]+)\]"|rename gpoLink as gPLink|fields *]]></param>
							<module name="GenericHeader"><param name="label">Active Directory Record</param></module>
							<module name="JobProgressIndicator"></module>
							<module name="LDAPRecord"></module>
						</module>
						
					</module> <!-- TextField#Account User -->
				</module> <!-- Pulldown#Account Domain -->
			</module> <!-- Search driving Pulldown -->
		</module> <!-- TimeRangePicker -->
	</module> <!-- URLLoader -->
</view>
