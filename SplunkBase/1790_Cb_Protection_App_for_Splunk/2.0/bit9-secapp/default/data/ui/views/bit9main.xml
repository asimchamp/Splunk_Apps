<view template="dashboard.html" isSticky="True">
	<label>Deployment Activity</label>
	<module name="AccountBar" layoutPanel="appHeader"/>
	<module name="AppBar" layoutPanel="navigationHeader"/>
	<module name="Message" layoutPanel="messaging">
		<param name="filter">splunk.search.error</param>
		<param name="clearOnJobDispatch">True</param>
		<param name="maxSize">1</param>
		<param name="level">warn</param>
	</module>
	<module name="TitleBar" layoutPanel="viewHeader">
		<param name="actionsMenuFilter">dashboard</param>
	</module>
	<module name="TimeRangePicker" layoutPanel="viewHeader" autoRun="True">
		<param name="default">Last 30 days</param>
		<param name="searchWhenChanged">True</param>
		<module name="HiddenSearch" layoutPanel="panel_row2_col1_grp1">
			<param name="search">| savedsearch "Host Activity" | search Computer=TOTALOFALLCOMPUTERS | fields HostNum | fieldformat HostNum=tostring(HostNum,"commas")</param>
			<module name="JobProgressIndicator">
				<module name="SingleValue">
					<param name="afterLabel">computers reporting</param>
					<param name="linkView">../search/flashtimeline</param>
					<param name="linkSearch">(eventtype=bit9_event OR eventtype=bit9_filesOnComputers) HostName!="" HostName!="System" | stats count(OpType) as A, count(EventSubType) as E by HostName | addinfo | eval D=((info_max_time-info_min_time)/(60*60*24)) | eval AB=(round(A/D,0)) | eval EV=(round(E/D,0)) | table HostName, AB, EV | rename AB as "File activity per day", EV as "Events per day"</param>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row3_col1" group="Computer Activity">
			<param name="search">| savedsearch "Host Activity" | search Computer!=TOTALOFALLCOMPUTERS | fields Computer, "File activity per day", "Events per day"</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.ellipseShapePalette">list</param>
					<param name="charting.ellipseShapePalette.shapes">[ellipse]</param>
					<param name="charting.chart">scatter</param>
					<param name="charting.chart.markerShapePalette">@ellipseShapePalette</param>
					<param name="charting.legend.placement">none</param>
					<param name="charting.axisTitleX.text">File activity per day</param>
					<param name="charting.axisTitleY.text">Events per day</param>
					<module name="FlashChart">
						<module name="HiddenSearch">
							<param name="search">(eventtype=bit9_event OR eventtype=bit9_filesOnComputers) | timechart span=1d count(OpType) as "File activity", count(EventSubType) as "Events"</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">addterm</param>
									<param name="arg">
										<param name="HostName">$click.value$</param>
									</param>
								</param>
								<module name="SimpleResultsHeader">
									<param name="headerFormat">Activity chart for $click.value$</param>
									<param name="entityName">results</param>
									<module name="HiddenChartFormatter">
										<param name="chart">line</param>
										<param name="legend.placement">right</param>
										<param name="charting.ellipseShapePalette">list</param>
										<param name="charting.ellipseShapePalette.shapes">[ellipse]</param>
										<param name="charting.chart.markerShapePalette">@ellipseShapePalette</param>
										<param name="charting.axisTitleX.text"></param>
										<param name="charting.axisTitleX.visibility">collapsed</param>
										<param name="charting.axisTitleY.visibility">collapsed</param>
										<module name="FlashChart"/>
									</module>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row2_col1">
			<param name="search">| savedsearch "Events By Subtype"</param>
			<param name="maxCount">10000000</param>
			<module name="JobProgressIndicator">
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp2">
					<param name="search">| search EventSubTypeId=1104 | fields count | fieldformat count=tostring(count,"commas")</param>
					<module name="SingleValue">
						<param name="afterLabel">triggered alerts</param>
						<param name="linkView">../search/flashtimeline</param>
						<param name="linkSearch">eventtype=bit9_event EventSubTypeId=1104</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp3">
					<param name="search">| search `EventSubTypeBlock` | stats sum(count) as count | fieldformat count=tostring(count,"commas")</param>
					<module name="SingleValue">
						<param name="afterLabel">file blocks</param>
						<param name="linkView">../search/flashtimeline</param>
						<param name="linkSearch">eventtype=bit9_event FileHash!="" `EventSubTypeBlock`</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp4">
					<param name="search">| search EventSubTypeId=1003 | fields count | fieldformat count=tostring(count,"commas")</param>
					<module name="SingleValue">
						<param name="afterLabel">new unapproved file instances</param>
						<param name="linkView">../search/flashtimeline</param>
						<param name="linkSearch">eventtype=bit9_event EventSubTypeId=1003</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp5">
					<param name="search">| search EventSubTypeId=1005 | fields count | fieldformat count=tostring(count,"commas")</param>
					<module name="SingleValue">
						<param name="afterLabel">new files in catalog</param>
						<param name="linkView">../search/flashtimeline</param>
						<param name="linkSearch">eventtype=bit9_event EventSubTypeId=1005</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp6">
					<param name="search">| search `EventFileApproved`| stats sum(count) as count | fieldformat count=tostring(count,"commas")</param>
					<module name="SingleValue">
						<param name="afterLabel">approvals</param>
						<param name="linkView">../search/flashtimeline</param>
						<param name="linkSearch">eventtype=bit9_event `EventFileApproved`</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row3_col2" group="Top Event Subtypes">
					<param name="search">| sort -count | fields EventSubType, count | head 10 | rename EventSubType as "Event Subtype"</param>
					<module name="HiddenChartFormatter">
						<param name="charting.chart">bar</param>
						<param name="charting.legend.placement">none</param>
						<param name="charting.axisLabelsY.majorLabelStyle.overflowMode">ellipsisNone</param>
						<param name="charting.axisTitleY.text"></param>
						<param name="charting.axisTitleY.visibility">collapsed</param>
						<module name="JSChart">
							<module name="HiddenSearch">
								<param name="search">eventtype=bit9_event</param>
								<module name="ConvertToIntention">
									<param name="intention">
										<param name="name">addterm</param>
										<param name="arg">
											<param name="EventSubType">$click.value$</param>
										</param>
									</param>
									<module name="ViewRedirector">
										<param name="viewTarget">flashtimeline</param>
									</module>
								</module>
							</module>
						</module>
					</module>
					<module name="StaticContentSample">
						<param name="text">
							<![CDATA[<a href="bit9events">Event details</a>]]>
						</param>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row2_col1_grp7">
			<param name="search">eventtype=bit9_filesOnComputers `FileActivityOps` ProcessFileName!="" | dedup HostName, MessageTime, FileHash, OpType | stats count | fieldformat count=tostring(count,"commas")</param>
			<module name="JobProgressIndicator">
				<module name="SingleValue">
					<param name="afterLabel">file creations/modifications</param>
					<param name="linkView">../search/flashtimeline</param>
					<param name="linkSearch">eventtype=bit9_filesOnComputers `FileActivityOps` ProcessFileName!="" | dedup HostName, MessageTime, FileHash, OpType</param>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row4_col1_grp1" group="File Blocks">
			<param name="search">`BlockSearch` | timechart bins=50 count(_raw) as "File Blocks"</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.chart">column</param>
					<param name="charting.legend.placement">none</param>
					<param name="charting.axisTitleX.text"></param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.data.count">50000</param>
					<module name="JSChart">
						<module name="HiddenSearch">
							<param name="search">`BlockSearch`</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">time</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
			<module name="StaticContentSample">
				<param name="text">
					<![CDATA[<a href="bit9blocks">File block details</a>]]>
				</param>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row4_col1_grp2" group="File Blocks">
			<param name="search">`BlockSearch` | top 10 HostName showperc=false | rename count as "File Blocks", HostName as Computer</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.chart">bar</param>
					<param name="charting.legend.placement">none</param>
					<param name="charting.axisLabelsY.majorLabelStyle.overflowMode">ellipsisNone</param>
					<module name="JSChart">
						<module name="HiddenSearch">
							<param name="search">`BlockSearch`</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">addterm</param>
									<param name="arg">
										<param name="HostName">$click.value$</param>
									</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row4_col2" group="New Files">
			<param name="search">| savedsearch "New File Events"</param>
			<param name="maxCount">10000000</param>
			<module name="JobProgressIndicator">
				<module name="HiddenPostProcess" layoutPanel="panel_row4_col2_grp1" group="New Unapproved Files">
					<param name="search">| timechart bins=50 sum("New unapproved files") as "New unapproved files"</param>
					<module name="JobProgressIndicator">
						<module name="HiddenChartFormatter">
							<param name="charting.chart">column</param>
							<param name="charting.legend.placement">none</param>
							<param name="charting.axisTitleX.text"></param>
							<param name="charting.axisTitleX.visibility">collapsed</param>
							<param name="charting.chart.stackMode">stacked</param>
							<param name="charting.data.count">50000</param>
							<param name="charting.seriesColors">[0x0000FF,0x00FF00]</param>
							<module name="JSChart">
								<module name="HiddenSearch">
									<param name="search">eventtype=bit9_event EventSubTypeId=1003</param>
									<module name="ConvertToIntention">
										<param name="intention">
											<param name="name">time</param>
										</param>
										<module name="ViewRedirector">
											<param name="viewTarget">flashtimeline</param>
										</module>
									</module>
								</module>
							</module>
						</module>
					</module>
					<module name="StaticContentSample">
						<param name="text">
							<![CDATA[<a href="bit9newunapproved">New unapproved files details</a>]]>
						</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row4_col2_grp2" group="New Files in Catalog">
					<param name="search">| timechart bins=50 sum("New files in catalog") as "New files in catalog"</param>
					<module name="JobProgressIndicator">
						<module name="HiddenChartFormatter">
							<param name="charting.chart">column</param>
							<param name="charting.legend.placement">none</param>
							<param name="charting.axisTitleX.text"></param>
							<param name="charting.axisTitleX.visibility">collapsed</param>
							<param name="charting.chart.stackMode">stacked</param>
							<param name="charting.data.count">50000</param>
							<param name="charting.seriesColors">[0x0000FF,0x00FF00]</param>
							<module name="JSChart">
								<module name="HiddenSearch">
									<param name="search">eventtype=bit9_event EventSubTypeId=1005</param>
									<module name="ConvertToIntention">
										<param name="intention">
											<param name="name">time</param>
										</param>
										<module name="ViewRedirector">
											<param name="viewTarget">flashtimeline</param>
										</module>
									</module>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row5_col1_grp1" group="Approvals">
			<param name="search">eventtype=bit9_event `EventFileApproved` | timechart bins=50 count(_raw) as "Approvals"</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.chart">column</param>
					<param name="charting.legend.placement">none</param>
					<param name="charting.axisTitleX.text"></param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.data.count">50000</param>
					<module name="JSChart">
						<module name="HiddenSearch">
							<param name="search">eventtype=bit9_event `EventFileApproved`</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">time</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
			<module name="StaticContentSample">
				<param name="text">
					<![CDATA[<a href="bit9approvals">Approval details</a>]]>
				</param>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row5_col1_grp2" group="Approvals">
			<param name="search">eventtype=bit9_event `EventFileApproved` | top 10 HostName showperc=false | rename count as Approvals, HostName as Computer</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.chart">bar</param>
					<param name="charting.legend.placement">none</param>
					<param name="charting.axisLabelsY.majorLabelStyle.overflowMode">ellipsisNone</param>
					<module name="JSChart">
						<module name="HiddenSearch">
							<param name="search">eventtype=bit9_event `EventFileApproved`</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">addterm</param>
									<param name="arg">
										<param name="HostName">$click.value$</param>
									</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row5_col2_grp1" group="File Activity">
			<param name="search">`FileActivity` `FileActivityOps` | dedup HostName, MessageTime, FileHash, OpType | timechart bins=50 count(eval(OpType=0)) as Creations, count(eval(OpType=1 OR OpType=5)) as Modifications</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.chart">column</param>
					<param name="charting.legend.placement">bottom</param>
					<param name="charting.axisTitleX.text"></param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.chart.stackMode">stacked</param>
					<param name="charting.data.count">50000</param>
					<param name="charting.seriesColors">[0x0000FF,0x00FF00]</param>
					<module name="JSChart">
						<module name="HiddenSearch">
							<param name="search">`FileActivity` `$arg1$` | dedup HostName, MessageTime, FileHash, OpType</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">time</param>
								</param>
								<param name="intention">
									<param name="name">stringreplace</param>
									<param name="arg">
										<param name="arg1">
											<param name="value">$click.name2$</param>
										</param>
									</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
			<module name="StaticContentSample">
				<param name="text">
					<![CDATA[<a href="bit9fileactivity">File activity details</a>]]>
				</param>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row5_col2_grp2" group="File Activity">
			<param name="search">`FileActivity` `FileActivityOps` | dedup HostName, MessageTime, FileHash, OpType | stats count(eval(OpType=0)) as Creations, count(eval(OpType=1 OR OpType=5)) as Modifications by HostName | eval TotalOps=Creations+Modifications | sort -TotalOps | head 10 | table HostName, Creations, Modifications | rename HostName as Computer</param>
			<module name="JobProgressIndicator">
				<module name="HiddenChartFormatter">
					<param name="charting.chart">bar</param>
					<param name="charting.legend.placement">bottom</param>
					<param name="charting.axisTitleX.text"></param>
					<param name="charting.axisTitleX.visibility">collapsed</param>
					<param name="charting.chart.stackMode">stacked</param>
					<param name="charting.seriesColors">[0x0000FF,0x00FF00]</param>
					<module name="JSChart">
						<module name="HiddenSearch">
							<param name="search">`FileActivity` `$arg1$` | dedup HostName, MessageTime, FileHash, OpType</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">stringreplace</param>
									<param name="arg">
										<param name="arg1">
											<param name="value">$click.name2$</param>
										</param>
									</param>
								</param>
								<module name="ConvertToIntention">
									<param name="intention">
										<param name="name">addterm</param>
										<param name="arg">
											<param name="HostName">$click.value$</param>
										</param>
									</param>
									<module name="ViewRedirector">
										<param name="viewTarget">flashtimeline</param>
									</module>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
	</module>
</view>
