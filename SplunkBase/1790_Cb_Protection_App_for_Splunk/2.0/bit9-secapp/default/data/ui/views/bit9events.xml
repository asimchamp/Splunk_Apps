<view template="dashboard.html" isSticky="True">
	<label>Events</label>
	<module name="AccountBar" layoutPanel="appHeader"/>
	<module name="AppBar" layoutPanel="navigationHeader"/>
	<module name="Message" layoutPanel="messaging">
		<param name="filter">*</param>
		<param name="clearOnJobDispatch">False</param>
		<param name="maxSize">1</param>
		<param name="level">warn</param>
	</module>
	<module name="TitleBar" layoutPanel="viewHeader">
		<param name="actionsMenuFilter">dashboard</param>
	</module>
	<module name="TimeRangePicker" layoutPanel="viewHeader" autoRun="true">
		<param name="default">Last 30 days</param>
		<param name="searchWhenChanged">True</param>
		<module name="HiddenSearch" layoutPanel="panel_row2_col1" group="Events">
			<param name="search">| savedsearch "Host Events By Subtype"</param>
			<param name="maxCount">10000000</param>
			<module name="JobProgressIndicator">
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp1" group="Events">
					<param name="search">| stats sum(count) as count | fieldformat count=tostring(count,"commas")</param>
					<module name="SingleValue">
						<param name="afterLabel">events</param>
						<param name="linkView">../search/flashtimeline</param>
						<param name="linkSearch">eventtype=bit9_event HostName!="System"</param>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row2_col1_grp1" group="Events">
					<param name="search">| timechart bins=50 sum(count) as "Events"</param>
					<module name="HiddenChartFormatter">
						<param name="charting.chart">column</param>
						<param name="charting.legend.placement">none</param>
						<param name="charting.axisTitleX.text"></param>
						<param name="charting.axisTitleX.visibility">collapsed</param>
						<param name="charting.data.count">50000</param>
						<module name="FlashChart">
							<module name="HiddenSearch">
								<param name="search">eventtype=bit9_event HostName!="System"</param>
								<module name="ConvertToIntention">
									<param name="intention">
										<param name="name">time</param>
									</param>
									<module name="ViewRedirector">
										<param name="viewTarget">flashtimeline</param>
									</module>
								</module>
							</module>
						</module>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row3_col1" group="Top Event Subtypes">
					<param name="search">| stats sum(count) as count by EventSubType | sort -count | head 10 | rename EventSubType as "Event Subtype"</param>
					<module name="HiddenChartFormatter">
						<param name="charting.chart">bar</param>
						<param name="charting.axisTitleY.text">Events</param>
						<param name="charting.legend.placement">none</param>
						<param name="charting.axisLabelsY.majorLabelStyle.overflowMode">ellipsisNone</param>
						<module name="FlashChart">
							<module name="HiddenSearch">
								<param name="search">eventtype=bit9_event HostName!="System"</param>
								<module name="ConvertToIntention">
									<param name="intention">
										<param name="name">addterm</param>
										<param name="arg">
											<param name="EventSubType">$click.value$</param>
										</param>
									</param>
									<module name="ViewRedirector">
										<param name="viewTarget">flashtimeline</param>
									</module>
								</module>
							</module>
						</module>
					</module>
				</module>
				<module name="HiddenPostProcess" layoutPanel="panel_row4_col3" group="Top Event Types">
					<param name="search">| stats sum(count) as count by EventType | sort -count | head 10 | rename EventType as "Event Type"</param>
					<module name="HiddenChartFormatter">
						<param name="charting.chart">bar</param>
						<param name="charting.axisTitleY.text">Events</param>
						<param name="charting.legend.placement">none</param>
						<param name="charting.axisLabelsY.majorLabelStyle.overflowMode">ellipsisNone</param>
						<module name="FlashChart">
							<module name="HiddenSearch">
								<param name="search">eventtype=bit9_event HostName!="System"</param>
								<module name="ConvertToIntention">
									<param name="intention">
										<param name="name">addterm</param>
										<param name="arg">
											<param name="EventType">$click.value$</param>
										</param>
									</param>
									<module name="ViewRedirector">
										<param name="viewTarget">flashtimeline</param>
									</module>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row3_col2" group="Errors">
			<param name="search">eventtype=bit9_event HostName!="System" Priority="Error" | table Timestamp, HostName, Message | rename HostName as Computer</param>
			<module name="JobProgressIndicator">
				<module name="Paginator">
					<param name="entityName">results</param>
					<module name="SimpleResultsTable">
						<param name="entityName">results</param>
						<param name="displayRowNumbers">off</param>
						<param name="drilldown">row</param>
						<module name="SimpleDrilldown">
							<param name="links">{"*": "/app/search/flashtimeline?q=eventtype=bit9_event Priority=Error Timestamp=\"$click.value$\""}</param>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row4_col1" group="Top Computers">
			<param name="search">eventtype=bit9_event HostName!="System" | top 0 HostName showperc=false | rename HostName as Computer, count as Events</param>
			<module name="JobProgressIndicator">
				<module name="Paginator">
					<param name="entityName">results</param>
					<module name="SimpleResultsTable">
						<param name="entityName">results</param>
						<param name="displayRowNumbers">off</param>
						<param name="drilldown">row</param>
						<module name="HiddenSearch">
							<param name="search">eventtype=bit9_event</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">time</param>
								</param>
								<param name="intention">
									<param name="name">addterm</param>
									<param name="arg">
										<param name="HostName">$click.value$</param>
									</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
		<module name="HiddenSearch" layoutPanel="panel_row4_col2" group="Top Users">
			<param name="search">eventtype=bit9_event HostName!="System" UserName!="" | top 0 UserName showperc=false | rename UserName as User, count as Events</param>
			<module name="JobProgressIndicator">
				<module name="Paginator">
					<param name="entityName">results</param>
					<module name="SimpleResultsTable">
						<param name="entityName">results</param>
						<param name="displayRowNumbers">off</param>
						<param name="drilldown">row</param>
						<module name="HiddenSearch">
							<param name="search">eventtype=bit9_event HostName!="System"</param>
							<module name="ConvertToIntention">
								<param name="intention">
									<param name="name">time</param>
								</param>
								<param name="intention">
									<param name="name">addterm</param>
									<param name="arg">
										<param name="UserName">$click.value$</param>
									</param>
								</param>
								<module name="ViewRedirector">
									<param name="viewTarget">flashtimeline</param>
								</module>
							</module>
						</module>
					</module>
				</module>
			</module>
		</module>
	</module>
</view>