<endpoint name="data/inputs/msmq">
  <header>MSMQ Monitoring</header>
  <breadcrumb>
    <parent hidecurrent="False">datainputstats</parent>
    <name i18ntag="">MSMQ Monitoring</name>
  </breadcrumb>
  <elements>
	
	<element name="name" label="Input Name">
	  <view name="list"/>
	  <view name="create"/>
	</element>
	
    <element name="sourceFields" type="fieldset">
      <key name="legend">Source</key>
      <view name="list"/>
      <view name="edit"/>
      <view name="create"/>
      <elements>
        <element name="path" label="Queue path">
          <key name="exampleText">Specify an MSMQ path. (Example: MyComputer.Example.Org\MyQueue)</key>
          <view name="list"/>
          <view name="create"/>
        </element>

		<element name="consume_message" type="select" label="Consume message">
		  <key name="exampleText">Specify whether the message should be removed from the queue.</key>
		  <view name="list"/>
		  <view name="edit"/>
		  <view name="create"/>
		  <options>
		    <opt value="0" label="False"/>
			<opt value="1" label="True"/>
		  </options>
		</element>

		<element name="polling_interval" type="textfield" label="Polling interval override">
			<key name="exampleText">If set, overrides the default polling interval in milliseconds.</key>
			<view name="edit"/>
			<view name="create"/>
		</element>
	
        <element name="sourcetype" type="textfield" label="Source type override">
		  <key name="exampleText">If set, overrides the default sourcetype value (msmq).</key>
          <view name="edit"/>
          <view name="create"/>
        </element>
      </elements>
    </element>
  
	<element name="messageHandlingFields" type="fieldset">
      <key name="legend">Message Handling</key>
      <view name="list"/>
      <view name="edit"/>
      <view name="create"/>
      <elements>
		<element name="handler" type="textfield" label="Message handler">
		  <key name="exampleText">Specify message handler for processing messages.</key>
		  <view name="list"/>
		  <view name="edit"/>
		  <view name="create"/>
		</element>
		<element name="handler_args" type="textfield" label="Handler arguments">
		  <key name="exampleText">Specify handler specific configuration arguments.</key>
		  <view name="edit"/>
		  <view name="create"/>
		</element>
	  </elements>
	</element>
 
	<element name="spl-ctrl_EnableFiltering" type="checkbox" label="Message filtering configuration" class="spl-mgr-advanced-switch">
        <view name="edit"/>
        <view name="create"/>
          <onChange>
              <key name="_action">showonly</key>
              <key name="0">NONE</key>
              <key name="1">ALL</key>
              <group_set>
                <group name="filtering"/>
              </group_set>
          </onChange>
    </element>
  
    <element name="filtering" type="fieldset" class="spl-mgr-advanced-options">
      <view name="edit"/>
      <view name="create"/>
      <elements>
		<element name="filter_priority" type="textfield" label="Priority">
		  <key name="exampleText">Only process messages with the specified priorities. (Lowest, VeryLow, Low, Normal, AboveNormal, High, VeryHigh, Highest)</key>
		  <view name="edit"/>
		  <view name="create"/>
		</element>
		<element name="filter_messagetype" type="textfield" label="Type">
		  <key name="exampleText">Only process messages with the specified types. (Acknowledgement, Normal, Report)</key>
		  <view name="edit"/>
		  <view name="create"/>
		</element>
		<element name="filter_appspecific" type="textfield" label="App specific">
		  <key name="exampleText">Only process messages with the specified AppSpecific integer value.</key>
		  <view name="edit"/>
		  <view name="create"/>
		</element>
		<element name="filter_label" type="textfield" label="Label">
		  <key name="exampleText">Only process messages where the label matches the specified regular expression.</key>
		  <view name="edit"/>
		  <view name="create"/>
		</element>
		
	  </elements>
	</element>
	
	<element name="spl-ctrl_EnableAdvanced" type="checkbox" label="More settings" class="spl-mgr-advanced-switch">
        <view name="edit"/>
        <view name="create"/>
          <onChange>
              <key name="_action">showonly</key>
              <key name="0">NONE</key>
              <key name="1">ALL</key>
              <group_set>
                <group name="advanced"/>
              </group_set>
          </onChange>
    </element>
	<element name="advanced" type="fieldset" class="spl-mgr-advanced-options">
        <view name="edit"/>
        <view name="create"/>
        <elements>
		    <element name="hostFields" type="fieldset">
		      <key name="legend">Host</key>
		      <view name="list"/>
		      <view name="edit"/>
		      <view name="create"/>
		      <elements>
		        <element name="host" type="textfield" label="Host field value">
		          <view name="edit"/>
		          <view name="create"/>
		        </element>
		      </elements>
		    </element>  
		    <element name="indexField" type="fieldset">
		      <key name="legend">Index</key>
		      <key name="helpText">Set the destination index for this source.</key>
		      <view name="list"/>
		      <view name="edit"/>
		      <view name="create"/>
		      <elements>
		        <element name="index" type="select" label="Index">
		          <view name="list"/>
		          <view name="edit"/>
		          <view name="create"/>
		          <key name="dynamicOptions" type="dict">
		            <key name="keyName">title</key>
		            <key name="keyValue">title</key>
		            <key name="splunkSource">/data/indexes</key>
		            <key name="splunkSourceParams" type="dict">
		              <key name="search">'isInternal=false disabled=false'</key>
		              <key name="count">-1</key>
		            </key>
		          </key>
		        </element>
		      </elements>
		    </element>
		</elements>
	</element>
	
  </elements>
</endpoint>
	