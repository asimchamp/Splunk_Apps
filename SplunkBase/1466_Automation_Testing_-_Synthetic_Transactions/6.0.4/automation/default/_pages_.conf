##
##  _PAGES_.CONF_
##
##  This file defines the web pages that will be available for use in _sessions_.conf.
##  Each web page definition specifies behavior to use when browsing a specific URL.
##
##  ** It is recommended not to use spaces in your session and page names (stanza
##  headers), as this may not be supported in a future release.
##
##  VALID OPTIONS:
##
##  url - defines the URL for the web page.  (This option is required.)
##
##  content - defines what content to log, as follows:
##
##            none - index performance metrics.
##            full - index performance metrics and page content.  HTML will be
##                   parsed prior to indexing, removing CR/LF and excess spaces.
##                   This option can be used with Splunk's "diff" command to
##                   alert when trusted web pages are modified.
##         headers - index all performance metrics and page header details.  (This
##                   is the default setting.)
##
##  links - defines how to follow links, as follows:
##
##          follow - follow all links on the page and report diagnistic data.
##                   (This is the default setting.)
##            form - submit a form.  (Requires form and form_fields.)
##            none - do not follow links or submit a form.
##
##   form - used with 'links=form' to define the form index ID that will be
##          submitted.  You can determine form index ID's with the following
##          command, substituting the URL of your desired web page:
##
##          splunk cmd python automation.py --scan http://www.splunk.com
##
##    form_fields - a pipe-separated list (|) of key:value pairs to submit with
##                  the form.  Use the --scan command, above, to identify the
##                  controls to fill in.  For instance, using the command above
##                  yields the following for www.splunk.com's FORM_ID [0]:
##
##                  <TextControl(q=Search)>>
##
##                 This tells us that there is a text control called 'q' that is
##                 shown as 'Search' to viewers of the web page.
##
##  show_form_fields - (True|False) determines whether form field submissions are
##                   logged.  Understanding the values provided in form submissions
##                   can be a valuable asset in monitoring web forms through
##                   automation; however,consider disabling this feature for form
##                   submissions whose values contain passwords. (Default is False)
##
##  timeout - defines the number of seconds to wait for the page to load.  This setting
##            takes precedence over the timout specified in _sessions_.conf.  (Default = 2)
##
##  You can test your page settings by using the following command:
##
##  splunk cmd python automation.py -p <my_page_name>
##  i.e. splunk cmd python automation.py -p splunkbase_login
##
##  NOTE:  If you test a page that requires authentication, but the login page
##  is a separate page definition, you will need to create a session that includes
##  the login page first.  (See _sessions_.conf_ for information on how to test
##  with sessions.)
##
##  'splunk cmd python automation.py --help' for additional help.
##
##  EXAMPLES:

##  index performance data and headers for http://www.splunk.com, and submit a search for "props.conf"
[splunk]
url = http://www.splunk.com
content = headers
links = form
form = 0
form_fields = q:props.conf
show_form_fields = true

##  index performance data and headers for http://www.splunkbase.com and follow all links on the page
[splunkbase]
url = http://www.splunkbase.com
content = headers
links = follow
timeout = 4

##  login at splunk.com
[splunkbase_login]
url = https://www.splunk.com/index.php?module=roles&func=showloginform&artid=splunkbase&redirecturl=http://splunk-base.splunk.com/account/splunk/signin/
content = none
links = form
form = 1
form_fields = uname:splunktato|pass:password
show_form_fields = false

## index list of support cases after logging in under [splunkbase_login]
[splunk_my_cases]
url = https://www.splunk.com/page/track_issues
content = full
links = none
