##
##  _SESSIONS_.CONF_
##
##  This file defines the "sessions" that can be called as Data Inputs within Splunk.
##  Sessions allow Splunk to emulate a user browsing a list of web pages, filling in
##  forms, and clicking links, while preserving session state between pages during
##  each session attempt (including cookies).  For instance, if a session starts by
##  submitting a login form to a web site, all subsequent pages indexed for the
##  session will be in the context of the logged in user.
##
##  ** NOTE: session state is preserved for all pages *within* each session attempt;
##  however, it is not preseved *between* session attempts.  A unique session_id is
##  provide for each session attempt, giving Splunk the granularity to differentiate
##  and group pages by each attempt, as well as the umbrella session definition.
##
##  When creating Data Inputs within Splunk, each Data Input will represent a specific
##  session definition, as defined in _sessions_.conf.
##
##  ** It is recommended not to use spaces in your session and page names (stanza
##  headers), as this may not be supported in a future release.
##
##  VALID OPTIONS:
##
##  pages - defines a comma-separated list of web pages that will be browsed when this
##          session is evoked.  Pages are defined in _pages_.conf.  (This setting is
##          required.)
##
##  user_agent - defines the browser to masquerade as when browsing web pages during
##               the session.
##
##
##  timeout - defines the number of seconds to wait for each page to load during this
##            session.  The timeout setting in _pages_.conf will take precedence for
##            an individual page.  (Default = 2)
##
##  cert - defines the filename of the client-side certificate files to use for the
##         session -- .key and .cer will be appeneded to this name.  Place these in
##         $SPLUNK_HOME/etc/apps/automation/certs.  These files can be generated
##         using the following syntax with OpenSSL:
##
##         openssl pkcs12 -in input_file.p12 -clcerts -out example.key -nocerts -nodes
##         openssl pkcs12 -in input_file.p12 -clcerts -out example.cer -nokeys
##
##         To use example.key and example.cer, specify 'cert = example'.
##
##  proxy - defines a proxy to use when browsing this session.
##
##          For anonymous proxy, use the following format:
##          proxy = myproxy.example.com
##
##          For basic authentication, use the following format:
##          proxy = username:password@proxy.example.com:1234
##
##  You can test your page and session settings by using the following command:
##
##  splunk cmd python automation.py -s <my_session>
##  i.e. splunk cmd python automation.py -s support
##
##  'splunk cmd python automation.py --help' for additional help.
##
##  EXAMPLES:

##  define a session to browse [splunk] then [splunkbase] as defined in _pages_.conf
[splunk_home]
pages = splunk,splunkbase
user_agent = Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:19.0) Gecko/20100101 Firefox/19.0
timeout = 1

##  define a session to browse [splunkbase_login] then [my_cases] as defined in _pages_.conf
##  splunkbase_login must occur first, to establish login credentials for splunk_my_cases
[splunk_support]
pages = splunkbase_login,splunk_my_cases
