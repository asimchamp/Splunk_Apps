<form>
<label>Sum Latency Breakdown By Operation</label>

<searchTemplate>index="esg_transaction" AND WorkflowName!=NULL | soaekv | search /logEntry/body/subEntry/body/transactionStart/workflowName = $wkfl$ | timechart sum("/logEntry/body/subEntry/body/invocationAgentSummary[0]/serverLatency") AS Invoke0_serverLatency, sum("/logEntry/body/subEntry/body/invocationAgentSummary[1]/serverLatency") AS Invoke1_serverLatency, sum("/logEntry/body/subEntry/body/inputServerSummary/processingLatency") AS internal_SOAE_Latency | fillnull value=0 Invoke1_serverLatency,Invoke0_serverLatency | timechart eval(1000*(sum(internal_SOAE_Latency) - sum(Invoke0_serverLatency) - sum(Invoke1_serverLatency) )) AS SOAE_Latency, eval(1000*sum(Invoke0_serverLatency)) AS Invoke0_Latency, eval(1000*sum(Invoke1_serverLatency)) AS Invoke1_Latency
</searchTemplate>
<fieldset autoRun="true">
  <input type="time">
  <label>Select Time Range</label>
    <default>Last 60 minutes</default>
  </input>

 <input type="dropdown" token="wkfl">
  <label>Select Operation</label>
  <populatingSearch fieldForValue="WorkflowName" fieldForLabel="WorkflowName"><![CDATA[index=summary WorkflowName | top WorkflowName]]></populatingSearch>
   <default>*</default>
   <choice value="*">Any</choice>
   <seed>*</seed>
 </input>
  
</fieldset>

<row>
  <chart>
    <title>Sum Latency by internal component </title>
    <option name="charting.chart">column</option>
    <option name="charting.axisTitleX.text">time</option>
    <option name="charting.axisTitleY.text">Sum Latency (ms)</option>
    <option name="charting.chart.stackMode">stacked</option>
  </chart>
</row>

</form>
