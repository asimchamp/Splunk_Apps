[Display_CP]
definition = `default_fields``default_calculation`\
| eval StDevR=AverageR/1.128   \
`calculation_cp` |  table cp
iseval = 0

[calculation_cp]
definition = | eval cp=(USL-LSL)/(6*StDevR)   | eval cpu=(USL-Average)/(3*StDevR)   | eval cpl=(Average-LSL)/(3*StDevR)   | eval cpk=if(cpu-cpl >= 0, cpu, cpl)
iseval = 0

[calculation_pp]
definition = | eval pp=(USL-LSL)/(6*StDev)   | eval ppu=(USL-Average)/(3*StDev)   | eval ppl=(Average-LSL)/(3*StDev)   | eval ppk=if(ppu-ppl >= 0, ppu, ppl)
iseval = 0

[default_calculation]
definition = | eval LSL=(NOMINAL+LOWERTOL) | eval USL=(NOMINAL+UPPERTOL) | delta ACTUAL as RANGE | eval MR=abs(RANGE) \
| eventstats avg(ACTUAL) as Average, avg(MR) as AverageR, count as Cnt, stdevp(ACTUAL) as StDev, max(ACTUAL) as Max, min(ACTUAL) as Min\

iseval = 0

[default_fields]
definition = | fields uppertol nominal actual lowertol     \
| rename nominal as NOMINAL uppertol as UPPERTOL lowertol as LOWERTOL actual as ACTUAL
iseval = 0

[calculation_xchart]
definition = | eval UCLx=Average+(2.66*AverageR)   | eval LCLx=Average-(2.66*AverageR)
iseval = 0

[calculation_mrchart]
definition = | eval UCLmR=AverageR*3.268   | eval LCLmR=0
iseval = 0

[Display_Xchart]
definition = `default_fields``default_calculation` | eval StDevR=AverageR/1.12\
`calculation_xchart`| fields _time, UCLx, LCLx, Average, ACTUAL
iseval = 0

[Display_PPK]
definition = `default_fields``default_calculation` \
| eval StDevR=AverageR/1.128 \
`calculation_pp` | table ppk
iseval = 0

[Display_PP]
definition = `default_fields``default_calculation` \
| eval StDevR=AverageR/1.128 \
`calculation_pp` | table pp
iseval = 0

[Display_Mrchart]
definition = `default_fields``default_calculation` | eval StDevR=AverageR/1.12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    `calculation_mrchart`| table _time, MR UCLmR LCLmR
iseval = 0

[Display_CPK]
definition = `default_fields``default_calculation` \
| eval StDevR=AverageR/1.128 \
`calculation_cp` | table cpk
iseval = 0
