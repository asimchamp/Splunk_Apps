<form showsource="false" stylesheet="general.css">
  <label>Graphical Analysis</label>
  <description>Provides different views to analyse the Error Logs Collected from multiple devices</description>
  <fieldset submitButton="true" autoRun="true">
    <input type="dropdown" token="ANDROID_VERSION" searchWhenChanged="false">
      <label>ANDROID VERSION</label>
      <choice value="*">All</choice>
      <search>
        <query>|inputcsv Statistics_Panel_2 | TABLE "ANDROID VERSION" | rename "ANDROID VERSION" as Android_Version | DEDUP Android_Version</query>
      </search>
      <default>*</default>
      <fieldForLabel>Android_Version</fieldForLabel>
      <fieldForValue>Android_Version</fieldForValue>
    </input>
    <input type="dropdown" token="Model" searchWhenChanged="false">
      <label>MODEL</label>
      <choice value="*">All</choice>
      <search>
        <query>|inputcsv Statistics_Panel_2 | search "ANDROID VERSION"="$ANDROID_VERSION$" | table MODEL | dedup MODEL</query>
        <earliest>0</earliest>
      </search>
      <default>*</default>
      <fieldForLabel>MODEL</fieldForLabel>
      <fieldForValue>MODEL</fieldForValue>
    </input>
    <input type="dropdown" token="Release" searchWhenChanged="false" id="dropdown_releaseid">
      <label>RELEASE ID</label>
      <choice value="*">All</choice>
      <search>
        <query>| inputcsv Statistics_Panel_2 | search "ANDROID VERSION"="$ANDROID_VERSION$" MODEL="$Model$" | rename "RELEASE ID" as RID | table RID | dedup RID</query>
        <earliest>0</earliest>
      </search>
      <default>*</default>
      <fieldForLabel>RID</fieldForLabel>
      <fieldForValue>RID</fieldForValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <title>ERRORS PER RELEASE</title>
      <chart>
        <search>
          <query>| inputcsv Graphical_Panel_3 |  table Time   "$Release$"   | eval Time2=strftime(Time, "%b %d")  | fields - Time | table Time2 "$Release$"</query>
          <earliest>0</earliest>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">area</option>
        <option name="charting.chart.nullValueMode">zero</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisEnd</option>
        <option name="charting.legend.placement">none</option>
        <option name="charting.axisTitleY.text">Error Count</option>
        <option name="charting.axisTitleX.text">Time</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
      </chart>
    </panel>
  </row>
  <row>
    <panel>
      <title>MTBF - Mean Time Between Failure</title>
      <chart>
        <title>Shows the Device Running Hours against MTBF Hours</title>
        <search>
          <query>| inputcsv Graphical_Panel_4 | table _time *</query>
          <earliest>0</earliest>
        </search>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">true</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">column</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="charting.legend.masterLegend">null</option>
        <option name="charting.chart.overlayFields">MTBF,HOURS</option>
        <option name="charting.axisY2.enabled">true</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.axisY2.fields">MTBF,HOURS</option>
        <option name="charting.fieldColors">{"ERROR COUNT": 0x639BF1, "MTBF":0xFF5A09, "HOURS":0x0ca35f}</option>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.axisTitleY.text">Error Count</option>
        <option name="charting.axisTitleX.text">RELEASE ID</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
      </chart>
    </panel>
    <panel>
      <title>DEVICES Vs. ERRORS</title>
      <chart>
        <title>Shows the Connected Device Count against Error Files Count</title>
        <search>
          <query>| inputcsv Graphical_Panel_5 | table _time *</query>
          <earliest>0</earliest>
        </search>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">true</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">line</option>
        <option name="charting.legend.placement">bottom</option>
        <option name="charting.legend.masterLegend">null</option>
        <option name="charting.chart.overlayFields">MTBF,HOURS</option>
        <option name="charting.axisY2.enabled">true</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.axisY2.fields">Error_File_Count</option>
        <!-- <option name="charting.fieldColors">{"ERROR COUNT": 0x639BF1, "EFC":0xFF5A09}</option>-->
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.axisTitleY.text">Connected Devices</option>
        <option name="charting.axisTitleX.text">_time</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.axisTitleY2.text">File Count</option>
        <option name="charting.axisLabelsX.majorLabelVisibility">hide</option>
      </chart>
    </panel>
  </row>
  <row>
    <panel>
      <title>ERRORS PER ANDROID VERSION</title>
      <chart>
        <search>
          <query>| inputcsv Graphical_Panel_1 | table Time "$ANDROID_VERSION$"| eval Time2=strftime(Time, "%b %d")  | fields - Time | table Time2 "$ANDROID_VERSION$"</query>
          <earliest>-60d@d</earliest>
          <latest>now</latest>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">area</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
        <option name="charting.legend.placement">right</option>
        <option name="charting.axisTitleY.text">Error Count</option>
        <option name="wrap">true</option>
        <option name="rowNumbers">false</option>
        <option name="dataOverlayMode">none</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
        <option name="charting.axisTitleX.text">Time</option>
      </chart>
    </panel>
    <panel>
      <title>ERRROS PER MODEL NUMBER</title>
      <chart>
        <search>
          <query>| inputcsv Graphical_Panel_2 |  table Time  "$Model$"  | eval Time2=strftime(Time, "%b %d")  | fields - Time | table Time2 "$Model$"</query>
          <earliest>0</earliest>
        </search>
        <option name="charting.axisLabelsX.majorLabelStyle.overflowMode">ellipsisNone</option>
        <option name="charting.axisLabelsX.majorLabelStyle.rotation">0</option>
        <option name="charting.axisTitleX.visibility">visible</option>
        <option name="charting.axisTitleY.visibility">visible</option>
        <option name="charting.axisTitleY2.visibility">visible</option>
        <option name="charting.axisX.scale">linear</option>
        <option name="charting.axisY.scale">linear</option>
        <option name="charting.axisY2.enabled">false</option>
        <option name="charting.axisY2.scale">inherit</option>
        <option name="charting.chart">area</option>
        <option name="charting.chart.nullValueMode">gaps</option>
        <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
        <option name="charting.chart.stackMode">default</option>
        <option name="charting.chart.style">shiny</option>
        <option name="charting.drilldown">all</option>
        <option name="charting.layout.splitSeries">0</option>
        <option name="charting.legend.labelStyle.overflowMode">ellipsisEnd</option>
        <option name="charting.legend.placement">right</option>
        <option name="charting.axisTitleX.text">Time</option>
        <option name="charting.axisTitleY.text">Error Count</option>
        <option name="charting.chart.bubbleMaximumSize">50</option>
        <option name="charting.chart.bubbleMinimumSize">10</option>
        <option name="charting.chart.bubbleSizeBy">area</option>
      </chart>
    </panel>
  </row>
</form>