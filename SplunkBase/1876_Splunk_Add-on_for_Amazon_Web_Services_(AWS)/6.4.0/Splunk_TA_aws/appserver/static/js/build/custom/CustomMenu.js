import{b as e,c as s,_ as t,d as a,a as n,e as r,f as i}from"./_rollupPluginBabelHelpers-deef47fd.js";import{R as l,b as o,D as u,S as c,M as _,C as m,B as d,r as f,c as p}from"./vendor-024cf9ec.js";import{T as b}from"./Theme-731a73d2.js";import{a as g}from"./GlobalConfigUtil-2d540963.js";import{g as w}from"./SourceInput-ba1acdc5.js";var h="/home/runner/work/splunk-add-on-for-amazon-web-services/splunk-add-on-for-amazon-web-services/build-ui/js/components/CustomDropdown.jsx",N={billing:{aws_billing_cur:"Billing (Cost and Usage Report)",aws_billing:"Billing (Legacy)"},aws_cloudtrail:{aws_sqs_based_s3:"SQS-Based S3",aws_cloudtrail:"CloudTrail",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},aws_config:{aws_sqs_based_s3:"SQS-Based S3",aws_config:"Config"},inspector:{aws_inspector_v2:"Inspector (v2)",aws_inspector:"Inspector"},vpc_flow_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_kinesis:"Kinesis",aws_cloudwatch_logs:"CloudWatch Logs"},s3_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},cloudfront_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},elb_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},others:{aws_cloudwatch_logs:"CloudWatch Logs",aws_s3:"Generic S3",aws_kinesis:"Kinesis",splunk_ta_aws_sqs:"SQS",aws_sqs_based_s3:"SQS-Based S3"}},v=["delimited_files"],S=["aws_inspector_v2","aws_inspector","aws_billing","aws_billing_cur","aws_s3","aws_sqs_based_s3","splunk_ta_aws_logs","aws_cloudwatch_logs","splunk_ta_aws_sqs","aws_kinesis"],k=function(f){e(k,f);var p=s(k);function k(e){var s;return n(this,k),s=p.call(this,e),r(i(s),"getMenuOptions",(function(){var e=Object.assign(s.state.services,w());return Object.keys(e).filter((function(e){return-1===S.indexOf(e)})).filter((function(e){return-1===v.indexOf(e)})).sort((function(s,t){return s=e[s],t=e[t],s===w().others?1:t===w().others?-1:s>t?1:-1})).map((function(t){var a=t in N,n=t in N?"":t,r=e[t];return l.createElement(_.Item,{className:"def","data-service":t,"data-input":n,hasSubmenu:a,onClick:function(e){return s.goForward(e,t,a)},__self:i(s),__source:{fileName:h,lineNumber:112,columnNumber:21}},r)}))})),r(i(s),"handleSubMenuOptions",(function(){var e=s.state.selectedMenu,t=N[e];return Object.keys(t).map((function(a,n){var r="";return 0===n&&"others"!==e&&(r=l.createElement("span",{className:"menu-recomm",__self:i(s),__source:{fileName:h,lineNumber:131,columnNumber:26}},"(Recommended)")),l.createElement(_.Item,{"data-service":e,"data-input":a,onClick:function(e){return s.onSelectInput(e)},__self:i(s),__source:{fileName:h,lineNumber:134,columnNumber:17}},t[a],r)}))})),r(i(s),"onSelectInput",(function(e){var t=$(e.currentTarget).data("input"),a=$(e.currentTarget).data("service");a?($('[data-test="layer-container"] [data-test="layer"]>div').remove(),s.props.navigator({service:t,input:a,action:"create"})):e.preventDefault()})),r(i(s),"goBack",(function(){s.setState((function(e){return{activePanelId:"one"===e.activePanelId?"two":"one",transition:"backward",selectedMenu:""}}))})),r(i(s),"goForward",(function(e,t,a){a?s.setState((function(e){return{activePanelId:"one"===e.activePanelId?"two":"one",transition:"forward",selectedMenu:t}})):s.onSelectInput(e)})),s.state={services:{},activePanelId:"one",transition:"forward",selectedMenu:"",open:!1},s}return t(k,[{key:"componentDidMount",value:function(){var e={},s=this.props.globalConfig;g(s).forEach((function(s){e[s.name]=s.title})),this.setState({services:e,open:!1})}},{key:"render",value:function(){var e=this;if(!this.state.services)return"Loading...";var s=this.getMenuOptions(),t=l.createElement(d,{className:"asasa",appearance:"toggle",label:"Create New Input",onClick:function(){return e.setState({open:!0})},isMenu:!0,__self:this,__source:{fileName:h,lineNumber:189,columnNumber:24}}),n=this.state,r=n.activePanelId,i=n.transition,f=null;return"two"==this.state.activePanelId&&this.state.selectedMenu&&(f=this.handleSubMenuOptions()),l.createElement(o.SplunkThemeProvider,a({},b,{__self:this,__source:{fileName:h,lineNumber:205,columnNumber:13}}),l.createElement(u,{closeReasons:["clickAway","escapeKey","offScreen","toggleClick"],toggle:t,__self:this,__source:{fileName:h,lineNumber:206,columnNumber:17}},l.createElement("div",{style:{width:200},__self:this,__source:{fileName:h,lineNumber:207,columnNumber:21}},l.createElement(c,{activePanelId:r,transition:i,__self:this,__source:{fileName:h,lineNumber:208,columnNumber:25}},l.createElement(c.Panel,{key:"one",panelId:"one",__self:this,__source:{fileName:h,lineNumber:209,columnNumber:29}},l.createElement(_.Heading,{title:!0,__self:this,__source:{fileName:h,lineNumber:210,columnNumber:33}},"Data Type"),l.createElement(_,{__self:this,__source:{fileName:h,lineNumber:211,columnNumber:33}},s)),l.createElement(c.Panel,{key:"two",panelId:"two",__self:this,__source:{fileName:h,lineNumber:215,columnNumber:29}},l.createElement(_,{style:{width:200},__self:this,__source:{fileName:h,lineNumber:216,columnNumber:33}},l.createElement(_.Item,{icon:l.createElement(m,{__self:this,__source:{fileName:h,lineNumber:217,columnNumber:54}}),onClick:this.goBack,__self:this,__source:{fileName:h,lineNumber:217,columnNumber:37}},"Back"),l.createElement(_.Heading,{title:!0,__self:this,__source:{fileName:h,lineNumber:220,columnNumber:37}},"Input Type"),l.createElement(_.Divider,{__self:this,__source:{fileName:h,lineNumber:221,columnNumber:37}}),f))))))}}]),k}(f.exports.Component),y=function(){function e(s,t,a){n(this,e),this.globalConfig=s,this.el=t,this.navigator=a,jQuery((function(e){e("div.pageSubtitle").html('<div class="tool-description"><p style="margin: 0px;"> Create data inputs to collect data from AWS </p> <hr style="width: 270px;margin-left: 0px;"> <p style="margin:5px"> Ingesting data from AWS to Splunk Cloud? Have you tried the new Splunk Data Manager yet? <br> Data Manager makes AWS data ingestion simpler, more automated and centrally managed for you, while co-existing with AWS and/or Kinesis TAs.<br>Read our <a target="_blank" href="https://splk.it/31oy2b2">blog post</a> to learn more about Data Manager and it\'s availability on your Splunk Cloud instance. </p><hr style="width: 646px;margin-left: 0px;"> </div>')}))}return t(e,[{key:"render",value:function(){return this.el.innerHTML='<div id="custom-menu"></div>',p.render(l.createElement(k,{globalConfig:this.globalConfig,navigator:this.navigator,__self:this,__source:{fileName:"/home/runner/work/splunk-add-on-for-amazon-web-services/splunk-add-on-for-amazon-web-services/build-ui/js/CustomMenu.js",lineNumber:36,columnNumber:7}}),document.getElementById("custom-menu")),this}}]),e}();export{y as default};
//# sourceMappingURL=CustomMenu.js.map
