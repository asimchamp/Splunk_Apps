<form>
  <label>Drilldown: EXOS Version Detail</label>
  <fieldset>
    <!-- Define a simple dropdown form driven by a search -->
    <input type="dropdown" token="type" searchWhenChanged="true">
      <label>Select System Type</label>
      <choice value="*">All System Types</choice>
      <default>*</default>
      <populatingSearch fieldForValue="slotDevice" fieldForLabel="slotDevice">
        <![CDATA[index=extnet sourcetype=version_detail | rex max_match=0 "Slot-(?<slotNum>\d+)\s+\:\s+(?<slotDevice>\w{6}-\w{2}-\w{2})\s(?<slotSN>\w{5}-\w{5})\s+(?<revNum>Rev\s\d+.\d+)\s+BootROM\:\s+(?<bootROM>\d+.\d+.\d+.\d+)\s+IMG\:\s+(?<img>\d+.\d+.\d+.\d+)\s+" | search img=$form.img$ slotDevice=* | stats count by slotDevice]]>
      </populatingSearch>
    </input>
  </fieldset>
  <row>
    <chart>
      <title>Breakdown: BootROMs in EXOS Version $form.img$</title>
      <searchString>index=extnet sourcetype=version_detail | rex max_match=0 "Slot-(?&lt;slotNum&gt;\d+)\s+\:\s+(?&lt;slotDevice&gt;\w{6}-\w{2}-\w{2})\s(?&lt;slotSN&gt;\w{5}-\w{5})\s+(?&lt;revNum&gt;Rev\s\d+.\d+)\s+BootROM\:\s+(?&lt;bootROM&gt;\d+.\d+.\d+.\d+)\s+IMG\:\s+(?&lt;img&gt;\d+.\d+.\d+.\d+)\s+" | search img=$form.img$ slotDevice=$form.type$ | stats count by slotSN,bootROM | dedup slotSN | stats count by bootROM | sort -bootROM | rename bootROM as "BootROM"</searchString>
      <earliestTime>-7d@h</earliestTime>
      <latestTime>now</latestTime>
      <option name="charting.axisTitleX.visibility">visible</option>
      <option name="charting.axisTitleY.visibility">visible</option>
      <option name="charting.axisX.scale">linear</option>
      <option name="charting.axisY.scale">linear</option>
      <option name="charting.chart">bar</option>
      <option name="charting.chart.nullValueMode">gaps</option>
      <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
      <option name="charting.chart.stackMode">default</option>
      <option name="charting.chart.style">shiny</option>
      <option name="charting.drilldown">all</option>
      <option name="charting.layout.splitSeries">0</option>
      <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
      <option name="charting.legend.placement">right</option>
    </chart>
  </row>
  <row>
    <chart>
      <title>Breakdown:  BootROMs with Hardware Revision in EXOS Version $form.img$</title>
      <searchString>index=extnet sourcetype=version_detail | rex max_match=0 "Slot-(?&lt;slotNum&gt;\d+)\s+\:\s+(?&lt;slotDevice&gt;\w{6}-\w{2}-\w{2})\s(?&lt;slotSN&gt;\w{5}-\w{5})\s+(?&lt;revNum&gt;Rev\s\d+.\d+)\s+BootROM\:\s+(?&lt;bootROM&gt;\d+.\d+.\d+.\d+)\s+IMG\:\s+(?&lt;img&gt;\d+.\d+.\d+.\d+)\s+" | search img=$form.img$ | stats count by slotSN,bootROM,revNum | dedup slotSN | chart count over bootROM by revNum useother=f | rename bootROM as "BootROM" revNum as "Revision"</searchString>
      <earliestTime>-7d@h</earliestTime>
      <latestTime>now</latestTime>
      <option name="charting.axisTitleX.visibility">visible</option>
      <option name="charting.axisTitleY.visibility">visible</option>
      <option name="charting.axisX.scale">linear</option>
      <option name="charting.axisY.scale">linear</option>
      <option name="charting.chart">column</option>
      <option name="charting.chart.nullValueMode">gaps</option>
      <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
      <option name="charting.chart.stackMode">default</option>
      <option name="charting.chart.style">shiny</option>
      <option name="charting.drilldown">all</option>
      <option name="charting.layout.splitSeries">0</option>
      <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
      <option name="charting.legend.placement">right</option>
      <option name="wrap">true</option>
      <option name="rowNumbers">false</option>
      <option name="dataOverlayMode">none</option>
      <option name="drilldown">row</option>
      <option name="count">10</option>
    </chart>
  </row>
  <row>
    <chart>
      <title>Breakdown: Hardware Revisions in EXOS Version $form.img$</title>
      <searchString>index=extnet sourcetype=version_detail | rex max_match=0 "Slot-(?&lt;slotNum&gt;\d+)\s+\:\s+(?&lt;slotDevice&gt;\w{6}-\w{2}-\w{2})\s(?&lt;slotSN&gt;\w{5}-\w{5})\s+Rev\s(?&lt;revNum&gt;\d+.\d+)\s+BootROM\:\s+(?&lt;bootROM&gt;\d+.\d+.\d+.\d+)\s+IMG\:\s+(?&lt;img&gt;\d+.\d+.\d+.\d+)\s+" | search img=$form.img$ | stats count by slotSN,revNum| dedup slotSN | stats count by revNum | sort -revNum | rename revNum as "Revision"</searchString>
      <earliestTime>-7d@h</earliestTime>
      <latestTime>now</latestTime>
      <option name="charting.axisTitleX.visibility">visible</option>
      <option name="charting.axisTitleY.visibility">visible</option>
      <option name="charting.axisX.scale">linear</option>
      <option name="charting.axisY.scale">linear</option>
      <option name="charting.chart">bar</option>
      <option name="charting.chart.nullValueMode">gaps</option>
      <option name="charting.chart.sliceCollapsingThreshold">0.01</option>
      <option name="charting.chart.stackMode">default</option>
      <option name="charting.chart.style">shiny</option>
      <option name="charting.drilldown">all</option>
      <option name="charting.layout.splitSeries">0</option>
      <option name="charting.legend.labelStyle.overflowMode">ellipsisMiddle</option>
      <option name="charting.legend.placement">right</option>
      <option name="list.drilldown">full</option>
      <option name="list.wrap">1</option>
      <option name="maxLines">5</option>
      <option name="raw.drilldown">full</option>
      <option name="rowNumbers">false</option>
      <option name="table.drilldown">1</option>
      <option name="table.wrap">1</option>
      <option name="type">list</option>
      <option name="wrap">true</option>
      <option name="dataOverlayMode">none</option>
      <option name="drilldown">cell</option>
    </chart>
  </row>
</form>